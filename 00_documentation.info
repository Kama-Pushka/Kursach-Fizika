# Документация по работе с решениями

# Особенности работы с решениями в том что они могут убить оптимизацию при неумелом использовании,
# например, игра каждый игровой час и все разрешенные решения для стран проверяются на 
# видимость и доступность.
# Кроме того, если решение относится к целевой (targeted, обладает меткой) разновидности (targeted variety)
# каждый день все страны в игре проверяются на соответствие с их триггерам в target_trigger. target_trigger
# проверяется, даже если решение не видно и не доступно. Следовательно, если у вас есть целевое решение
# (targeted decision), которое разрешено для всех стран, это означает, что игра должна проверить n^2 стран
# (каждая страна проверяет каждую страну)

# Используйте опцию разрешенного триггера (allowed). Он проверяется только при запуске игры/загрузке
# сохраненной игры, а также когда на карте появляется новая страна (например, при гражданской войне или когда
# ее выпустили в качестве марионетки). Если при проверке опция allowed возвращает 0 (ложь, false), это решение
# помечается как никогда не разрешенное для страны и, таким образом, больше не будет проверяться на наличие
# других триггеров, что очень хорошо для производительности. Можно вписывать такие задачи, которые не меняются
# в разрешенном триггере, такие как tag и original_tag (и в значительной степени только это).

# Кроме того, категории решений (categories) также могут быть разрешены (allowed) и видимы (visible). Если 
# вы повторяете эти триггеры во всех решениях в категории, вместо этого поместите эти триггеры в запись 
# категории: одна проверка вместо нескольких = более быстрая игра

# Как указывалось ранее, целевые (targeted) решения являются основным фактором снижения производительности
# в обновлении 1.6.2 были представлены способы ограничения объема целей (scope of targets), что означает
# что вместо проверки каждой страны в игре проверяются только определенные теги.

# Первый путь - это цели (targets). Он работает аналогично опции разрешенного триггера (allowed), 
# соответственно, только метки (tags) в targets проверяются на наличие подходящей цели.
# target_trigger будет проверять только теги указанные в целях (targets), это означает, что он будет проверять
# только 3 тега вместо ВСЕХ тегов в игре.

# Вы можете использовать данный метод везде, когда у вас имеется tag или original_tag в target_trigger.

# Второй способ — это массив целей (target_array). Соответственно, будут проверяться только теги в данном 
# массиве. Разница с targets в том, что target_array может изменяться динамически, в отличие от targets.
# У игры есть несколько встроенных массивов - allies (члены союзы + их субъекты), enemies, neighbors
# (враги и соседи по управляемым стейтам (controlled states)), neighbors_owned (по принадлежащим государству
# стейтам (owned states)), subjects, exiles. Иногда обавляются массивы global.majors и 
# global.river_coalition_members, и, конечно, вы можете создавать свои собственные. Но, global. может работать
# не адекватно так что нужно проверять.

# Дополнительный способ ограничить проверку - target_root_trigger (в журнале изменений неверно назван как
# is_valid_root). Он может ссылаться только на ROOT (в отличии от видимого (visible) и доступного
# (available), который также может ссылаться на FROM, цель). target_root_trigger проверяется перед 
# target_trigger, если target_root_trigger возвращает 0 (false), ни одна цель не проверяется, что означает
# отсутствие потерь производительности. Следовательно, target_root_trigger должен включать ROOT-проверки
# такие как has_completed_focus, owns_state и т. д.