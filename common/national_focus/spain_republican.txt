focus_tree = {
	id = spain_focus

	country = {
		factor = 0

		modifier = {
			add = 10
			tag = SPR
		}
	}

	default = no
	
	continuous_focus_position = { x = 50 y = 1350 }

	###########################
	#### POLITICAL SECTION ####
	###########################
	
	
	focus = {
		id = SPR_elections_second_cortes_republic
		icon = GFX_z_goal_elections
		x = 23
		y = 0
		cost = 7.72
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}
		
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_elections_second_cortes_republic"
			country_event = { id = NWspain.1 days = 0 }
		}
	}
	
	##POPULAR FRONT##
	focus = {
		id = SPR_victory_popular_front
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		prerequisite = { focus = SPR_elections_second_cortes_republic }
		mutually_exclusive = { focus = SPR_victory_liberal_party focus = SPR_victory_national_block }
		x = -17
		y = 1
		relative_position_id = SPR_elections_second_cortes_republic
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			always = no
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_victory_popular_front"
			set_politics = {
				ruling_party = democratic
				elections_allowed = yes
			}
			add_ideas = SPR_niceto_torres
			hidden_effect = {
				if = {
					limit = {
						has_idea = SPR_catalon_nationalism
						has_full_control_of_state = 165
					}
					country_event = { id = NWspain.10 days = 4 random = 1 }
				}
				if = {
					limit = {
						has_idea = SPR_basks_nationalism
						has_full_control_of_state = 981
					}
					country_event = { id = NWspain.11 days = 6 }
				}
			}
		}
	}
	
	focus = {
		id = SPR_acceleration_agrarian_reform
		icon = GFX_z_goal_agrarian_reform
		prerequisite = { focus = SPR_victory_popular_front }
		x = -4
		y = 1
		relative_position_id = SPR_victory_popular_front
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			custom_trigger_tooltip = {
				tooltip = infrastructure_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_acceleration_agrarian_reform"
			41 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				every_neighbor_state = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				} 
			}
		}
	}
	
	focus = {
		id = SPR_carrying_out_strikes
		icon = GFX_z_focus_the_workers
		prerequisite = { focus = SPR_acceleration_agrarian_reform }
		x = -1
		y = 1
		relative_position_id = SPR_acceleration_agrarian_reform
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_carrying_out_strikes"
			random_owned_state = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPR_nationalization_business
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = SPR_carrying_out_strikes }
		x = 0
		y = 2
		relative_position_id = SPR_carrying_out_strikes
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_nationalization_business"
			random_owned_state = {
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPR_distribution_landlords_lands
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SPR_acceleration_agrarian_reform }
		x = 1
		y = 1
		relative_position_id = SPR_acceleration_agrarian_reform
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_distribution_landlords_lands"
			random_owned_state = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPR_create_cooperatives
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = SPR_distribution_landlords_lands }
		x = -1
		y = 1
		relative_position_id = SPR_distribution_landlords_lands
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_create_cooperatives"
			random_owned_state = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPR_land_distribution
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = SPR_distribution_landlords_lands }
		x = 0
		y = 2
		relative_position_id = SPR_distribution_landlords_lands
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_land_distribution"
			random_owned_state = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPR_break_concordat_with_vatican
		icon = GFX_focus_renounce_the_treaty_of_trianon
		prerequisite = { focus = SPR_victory_popular_front }
		x = -1
		y = 1
		relative_position_id = SPR_victory_popular_front
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_break_concordat_with_vatican"
			add_popularity = {
				ideology = monarchy
				popularity = -0.05
			}
			add_opinion_modifier = { target = VAT modifier = SPR_break_concordat_with_vatican }
			VAT = { add_opinion_modifier = { target = ROOT modifier = SPR_break_concordat_with_vatican } }
		}
	}
	
	focus = {
		id = SPR_secularization_church_lands
		icon = GFX_focus_mex_triumph_over_the_cristeros
		prerequisite = { focus = SPR_break_concordat_with_vatican }
		x = 0
		y = 1
		relative_position_id = SPR_break_concordat_with_vatican
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_secularization_church_lands"
			add_political_power = 100
			add_popularity = {
				ideology = monarchy
				popularity = -0.03
			}
			add_ideas = SPR_secularization_church_lands
		}
	}
	
	focus = {
		id = SPR_amnesty_political_prisoners
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = SPR_victory_popular_front }
		x = 1
		y = 1
		relative_position_id = SPR_victory_popular_front
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 20
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_amnesty_political_prisoners"
			add_political_power = 50
			add_popularity = {
				ideology = democratic
				popularity = 0.01
			}
			add_popularity = {
				ideology = communism
				popularity = 0.01
			}
			add_popularity = {
				ideology = trozkism
				popularity = 0.01
			}
			add_popularity = {
				ideology = anarchism
				popularity = 0.01
			}
		}
	}
	
	focus = {
		id = SPR_election_new_president
		icon = GFX_z_goal_elections
		prerequisite = { focus = SPR_victory_popular_front }
		x = 4
		y = 1
		relative_position_id = SPR_victory_popular_front
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_election_new_president"
			add_political_power = 50
			remove_ideas = SPR_niceto_torres
		}
	}
	
	focus = {
		id = SPR_support_caballerito
		icon = GFX_z_goal_democratic_side
		prerequisite = { focus = SPR_amnesty_political_prisoners }
		prerequisite = { focus = SPR_election_new_president }
		mutually_exclusive = { focus = SPR_support_stalinists }
		x = 0
		y = 1
		relative_position_id = SPR_amnesty_political_prisoners
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_support_caballerito"
			custom_effect_tooltip = SPR_support_caballerito_tt
			add_popularity = {
				ideology = democratic
				popularity = -0.2
			}
			add_popularity = {
				ideology = communism
				popularity = 0.2
			}
		}
	}
	
	focus = {
		id = SPR_repression_agains_stalinists
		icon = GFX_z_goal_getting_rid_left
		prerequisite = { focus = SPR_support_caballerito }
		x = -2
		y = 1
		relative_position_id = SPR_support_caballerito
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_repression_agains_stalinists"
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
		}
	}
	
	focus = {
		id = SPR_saving_democracy
		icon = GFX_z_goal_authoritarian_democracy_focus
		prerequisite = { focus = SPR_support_caballerito }
		x = 0
		y = 1
		relative_position_id = SPR_support_caballerito
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_saving_democracy"
			add_political_power = 50
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
		}
	}
	
	focus = {
		id = SPR_continued_social_transformation
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = SPR_support_caballerito }
		x = 2
		y = 1
		relative_position_id = SPR_support_caballerito
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_continued_social_transformation"
			remove_ideas = SPR_social_crisis
		}
	}
	
	focus = {
		id = SPR_support_stalinists
		icon = GFX_z_goal_communist_pride
		prerequisite = { focus = SPR_election_new_president }
		mutually_exclusive = { focus = SPR_support_caballerito }
		x = 3
		y = 1
		relative_position_id = SPR_election_new_president
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_support_stalinists"
			custom_effect_tooltip = SPR_support_stalinists_tt
			add_popularity = {
				ideology = democratic
				popularity = -0.2
			}
			add_popularity = {
				ideology = trozkism
				popularity = 0.15
			}
			add_popularity = {
				ideology = anarchism
				popularity = 0.05
			}
		}
	}
	
	focus = {
		id = SPR_curtailing_social_change
		icon = GFX_focus_rom_parties_end
		prerequisite = { focus = SPR_support_stalinists }
		x = -1
		y = 1
		relative_position_id = SPR_support_stalinists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_curtailing_social_change"
			add_stability = 0.05
		}
	}
	
	focus = {
		id = SPR_repression_against_trotskyists
		icon = GFX_z_goal_getting_rid_left
		prerequisite = { focus = SPR_support_stalinists }
		x = 1
		y = 1
		relative_position_id = SPR_support_stalinists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_repression_against_trotskyists"
			add_popularity = {
				ideology = trozkism
				popularity = -0.06
			}
			add_popularity = {
				ideology = communism
				popularity = 0.06
			}
		}
	}
	
	focus = {
		id = SPR_stand_junta
		icon = GFX_z_goal_government_2
		prerequisite = { focus = SPR_repression_against_trotskyists }
		mutually_exclusive = { focus = SPR_transformation_people_republic }
		x = -2
		y = 1
		relative_position_id = SPR_repression_against_trotskyists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_stand_junta"
			add_popularity = {
				ideology = neutrality
				popularity = 0.2
			}
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
		}
	}
	
	focus = {
		id = SPR_elections_third_cortes_republic
		icon = GFX_z_goal_elections
		prerequisite = { focus = SPR_stand_junta focus = SPR_saving_democracy }
		mutually_exclusive = { focus = SPR_save_state_emergency }
		x = 0
		y = 2
		relative_position_id = SPR_saving_democracy
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			has_war = no
			has_civil_war = no
		}
		bypass = {
		}
		
		select_effect = {
			country_event = { id = NWspain.14 days = 20 random = 5 }
			country_event = { id = NWspain.15 days = 50 random = 5 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_elections_third_cortes_republic"
			country_event = { id = NWspain.16 days = 0 }
		}
	}
	
	focus = {
		id = SPR_anarchists_victory
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_elections_third_cortes_republic }
		mutually_exclusive = { focus = SPR_victory_trotskyists focus = SPR_victory_socialists }
		x = -3
		y = 1
		relative_position_id = SPR_elections_third_cortes_republic
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_anarchists_victory"
			add_popularity = {
				ideology = anarchism
				popularity = 0.05
			}
			set_politics = {
				ruling_party = anarchism
				elections_allowed = no
			}
		}
	}
	
	focus = {
		id = SPR_economy_gift
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_anarchists_victory }
		x = -1
		y = 1
		relative_position_id = SPR_anarchists_victory
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_economy_gift"
			add_stability = 0.1
		}
	}
	
	focus = {
		id = SPR_anarchist_revolution_portugal
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_economy_gift }
		x = 1
		y = 1
		relative_position_id = SPR_economy_gift
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_anarchist_revolution_portugal"
			create_wargoal = {
				type = puppet_wargoal_focus
				target = POR
			}
		}
	}
	
	focus = {
		id = SPR_victory_trotskyists
		icon = GFX_z_goal_support_trozkism3
		prerequisite = { focus = SPR_elections_third_cortes_republic }
		mutually_exclusive = { focus = SPR_anarchists_victory focus = SPR_victory_socialists }
		x = 0
		y = 1
		relative_position_id = SPR_elections_third_cortes_republic
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_victory_trotskyists"
			add_popularity = {
				ideology = trozkism
				popularity = 0.05
			}
			set_politics = {
				ruling_party = trozkism
				elections_allowed = no
			}
		}
	}
	
	focus = {
		id = SPR_strengthening_marxist_anarchist_friendship
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_victory_trotskyists focus = SPR_anarchists_victory }
		x = -2
		y = 1
		relative_position_id = SPR_victory_trotskyists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_strengthening_marxist_anarchist_friendship"
			add_ideas = SPR_strengthening_marxist_anarchist_friendship
		}
	}
	
	focus = {
		id = SPR_acceleration_social_change
		icon = GFX_z_focus_revolutionary_council
		prerequisite = { focus = SPR_victory_trotskyists }
		x = 0
		y = 1
		relative_position_id = SPR_victory_trotskyists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_acceleration_social_change"
			add_stability = 0.05
			add_war_support = 0.05
		}
	}
	
	focus = {
		id = SPR_fourth_international
		icon = GFX_goal_support_fourth_int
		prerequisite = { focus = SPR_acceleration_social_change }
		mutually_exclusive = { focus = SPR_iberian_union }
		x = -1
		y = 1
		relative_position_id = SPR_acceleration_social_change
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			is_puppet = no
	 		is_in_faction = no
	 		OR = {
	 			has_government = trozkism
	 			trozkism > 0.4
	 		}
 			KMX = {
 				exists = yes
 				has_government = trozkism
				is_in_faction = yes
 				is_faction_leader = yes
 			}
		}
		bypass = {
			is_in_faction_with = KMX
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_fourth_international"
			KMX = { country_event = { id = generic.2 days = 0 } }
			hidden_effect = {
				KMX = {
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
			}
		}
	}
	
	focus = {
		id = SPR_iberian_union
		icon = GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = SPR_acceleration_social_change }
		mutually_exclusive = { focus = SPR_fourth_international }
		x = 1
		y = 1
		relative_position_id = SPR_acceleration_social_change
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 4
			modifier = {
				KMX = {
					exists = yes
					is_faction_leader = yes
				}
				factor = 0.01
			}
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_iberian_union"
			set_rule = { can_create_factions = yes }
			create_faction = SPR_iberian_union
		}
	}
	
	focus = {
		id = SPR_victory_socialists
		icon = GFX_goal_generic_support_democracy
		prerequisite = { focus = SPR_elections_third_cortes_republic }
		mutually_exclusive = { focus = SPR_anarchists_victory focus = SPR_victory_trotskyists }
		x = 3
		y = 1
		relative_position_id = SPR_elections_third_cortes_republic
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_victory_socialists"
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			set_politics = {
				ruling_party = democratic
				elections_allowed = yes
			}
			create_country_leader = {
				name = "Indalecio Prieto Tuero"
				desc = "POLITICS_INDALECIO_PRIETO_TUERO_DESC"
				picture = "gfx/leaders/SPR/Portrait_Indalecio_Prieto.dds"
				expire = "1965.1.1"
				ideology = socialism
				traits = {
					#
				}
			}
			set_party_name = { ideology = democratic name = SPR_soc_part long_name = SPR_soc_part_long }
		}
	}
	
	focus = {
		id = SPR_ultra_left_support
		icon = GFX_z_goal_communist_revolt
		prerequisite = { focus = SPR_victory_socialists }
		x = -1
		y = 1
		relative_position_id = SPR_victory_socialists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_ultra_left_support"
			add_ideas = SPR_ultra_left_support
		}
	}
	
	focus = {
		id = SPR_friendship_france
		icon = GFX_focus_chi_reach_out_to_france
		prerequisite = { focus = SPR_victory_socialists }
		x = 1
		y = 1
		relative_position_id = SPR_victory_socialists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_friendship_france"
			add_opinion_modifier = {
				target = FRA
				modifier = SPR_friendship_france
			}
			FRA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SPR_friendship_france
				}
			}
		}
	}
	
	focus = {
		id = SPR_friendship_britain
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = SPR_friendship_france }
		x = 0
		y = 1
		relative_position_id = SPR_friendship_france
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_friendship_britain"
			add_opinion_modifier = {
				target = ENG
				modifier = SPR_friendship_britain
			}
			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SPR_friendship_britain
				}
			}
		}
	}
	
	focus = {
		id = SPR_save_state_emergency
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = SPR_stand_junta }
		mutually_exclusive = { focus = SPR_elections_third_cortes_republic }
		x = -2
		y = 1
		relative_position_id = SPR_stand_junta
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_save_state_emergency"
			add_ideas = SPR_save_state_emergency
		}
	}
	
	focus = {
		id = SPR_fight_against_communists
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = SPR_stand_junta }
		x = 0
		y = 1
		relative_position_id = SPR_stand_junta
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_fight_against_communists"
			add_popularity = {
				ideology = communism
				popularity = -0.1
			}
		}
	}
	
	focus = {
		id = SPR_abolition_autonomy
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = SPR_fight_against_communists }
		x = 0
		y = 1
		relative_position_id = SPR_fight_against_communists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_abolition_autonomy"
			add_stability = 0.05
			if = {
				limit = { ARA = { exists = yes } }
				create_wargoal = {
					type = annex_everything
					target = ARA
				}
			}
			if = {
				limit = { CAT = { exists = yes } }
				create_wargoal = {
					type = annex_everything
					target = CAT
				}
			}
			if = {
				limit = { BAS = { exists = yes } }
				create_wargoal = {
					type = annex_everything
					target = BAS
				}
			}
			if = {
				limit = { GLC = { exists = yes } }
				create_wargoal = {
					type = annex_everything
					target = GLC
				}
			}
			if = {
				limit = { ASU = { exists = yes } }
				create_wargoal = {
					type = annex_everything
					target = ASU
				}
			}
			if = {
				limit = { SNT = { exists = yes } }
				create_wargoal = {
					type = annex_everything
					target = SNT
				}
			}
		}
	}
	
	focus = {
		id = SPR_transformation_people_republic
		icon = GFX_z_focus_revolutionary_government
		prerequisite = { focus = SPR_repression_against_trotskyists }
		mutually_exclusive = { focus = SPR_stand_junta }
		x = 0
		y = 1
		relative_position_id = SPR_repression_against_trotskyists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_transformation_people_republic"
			add_political_power = 100
			add_war_support = 0.05
		}
	}
	
	focus = {
		id = SPR_repression_against_anarchists
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_repression_against_trotskyists }
		x = 3
		y = 1
		relative_position_id = SPR_repression_against_trotskyists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_repression_against_anarchists"
			add_popularity = {
				ideology = anarchism
				popularity = -0.05
			}
			country_event = { id = NWspain.17 days = 0 }
		}
	}
	
	focus = {
		id = SPR_transfer_power_KPI
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SPR_transformation_people_republic }
		prerequisite = { focus = SPR_repression_against_anarchists }
		x = 0
		y = 1
		relative_position_id = SPR_transformation_people_republic
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_transfer_power_KPI"
			add_popularity = {
				ideology = democratic
				popularity = -0.3
			}
			add_popularity = {
				ideology = communism
				popularity = 0.3
			}
			set_politics = {
				ruling_party = communism
				elections_allowed = no
			}
		}
	}
	
	focus = {
		id = SPR_iberian_union_communists
		icon = GFX_z_goal_communist_brigades
		prerequisite = { focus = SPR_transfer_power_KPI }
		mutually_exclusive = { focus = SPR_join_comintern }
		x = 0
		y = 1
		relative_position_id = SPR_transfer_power_KPI
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_iberian_union_communists"
			set_rule = { can_create_factions = yes }
			create_faction = SPR_iberian_union_communists
		}
	}
	
	focus = {
		id = SPR_join_comintern
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = SPR_transfer_power_KPI }
		mutually_exclusive = { focus = SPR_iberian_union_communists }
		x = 2
		y = 1
		relative_position_id = SPR_transfer_power_KPI
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			is_in_faction_with = SOV
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_join_comintern"
			SOV = { country_event = { id = generic.2 days = 0 } }
			hidden_effect = {
				SOV = {
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
			}
		}
	}
	
	focus = {
		id = SPR_repression_against_socialists
		icon = GFX_z_goal_anti_democracy
		prerequisite = { focus = SPR_transfer_power_KPI focus = SPR_repression_against_anarchists }
		x = 4
		y = 1
		relative_position_id = SPR_transfer_power_KPI
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_repression_against_socialists"
			add_popularity = {
				ideology = democratic
				popularity = -0.1
			}
		}
	}
	
	focus = {
		id = SPR_first_five_year_plan
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SPR_iberian_union_communists focus = SPR_join_comintern }
		x = 1
		y = 1
		relative_position_id = SPR_iberian_union_communists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_first_five_year_plan"
			remove_ideas = SPR_social_crisis
		}
	}
	
	
	##LIBERAL PARTY##
	focus = {
		id = SPR_victory_liberal_party
		icon = GFX_z_goal_liberty
		prerequisite = { focus = SPR_elections_second_cortes_republic }
		mutually_exclusive = { focus = SPR_victory_popular_front focus = SPR_victory_national_block }
		x = 0
		y = 1
		relative_position_id = SPR_elections_second_cortes_republic
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			always = no
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_victory_liberal_party"
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			set_politics = {
				ruling_party = neutrality
				elections_allowed = yes
			}
		}
	}
	
	focus = {
		id = SPR_continuation_agrarian_reform
		icon = GFX_z_goal_agriculture
		prerequisite = { focus = SPR_victory_liberal_party }
		x = -3
		y = 1
		relative_position_id = SPR_victory_liberal_party
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_continuation_agrarian_reform"
			41 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPR_give_land_peasants
		icon = GFX_z_goal_agrarian_reform
		prerequisite = { focus = SPR_continuation_agrarian_reform }
		x = 0
		y = 1
		relative_position_id = SPR_continuation_agrarian_reform
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_give_land_peasants"
			random_owned_state = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPR_cancellation_state_emergency
		icon = GFX_z_dangerous_laws
		prerequisite = { focus = SPR_give_land_peasants }
		x = 1
		y = 2
		relative_position_id = SPR_give_land_peasants
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_cancellation_state_emergency"
			add_stability = 0.05
		}
	}
	
	focus = {
		id = SPR_reconciliation_socialists
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = SPR_victory_liberal_party }
		mutually_exclusive = { focus = SPR_reconciliation_conservatives }
		x = -1
		y = 1
		relative_position_id = SPR_victory_liberal_party
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_reconciliation_socialists"
			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
		}
	}
	
	focus = {
		id = SPR_repression_against_right
		icon = GFX_focus_generic_anti_fascist_diplomacy
		prerequisite = { focus = SPR_reconciliation_socialists }
		x = 0
		y = 2
		relative_position_id = SPR_reconciliation_socialists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_repression_against_right"
			add_popularity = {
				ideology = fascism
				popularity = -0.03
			}
			add_popularity = {
				ideology = monarchy
				popularity = -0.03
			}
		}
	}
	
	focus = {
		id = SPR_stop_secularization
		icon = GFX_z_goal_monarchism_7
		prerequisite = { focus = SPR_victory_liberal_party }
		x = 0
		y = 2
		relative_position_id = SPR_victory_liberal_party
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_stop_secularization"
			add_popularity = {
				ideology = monarchy
				popularity = -0.05
			}
			add_ideas = SPR_stop_secularization
		}
	}
	
	focus = {
		id = SPR_reconciliation_conservatives
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = SPR_victory_liberal_party }
		mutually_exclusive = { focus = SPR_reconciliation_socialists }
		x = 1
		y = 1
		relative_position_id = SPR_victory_liberal_party
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_reconciliation_conservatives"
			add_popularity = {
				ideology = monarchy
				popularity = -0.05
			}
		}
	}
	
	focus = {
		id = SPR_repression_against_left
		icon = GFX_z_goal_getting_rid_left
		prerequisite = { focus = SPR_reconciliation_conservatives }
		x = 0
		y = 2
		relative_position_id = SPR_reconciliation_conservatives
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_repression_against_left"
			add_popularity = {
				ideology = communism
				popularity = -0.03
			}
			add_popularity = {
				ideology = trozkism
				popularity = -0.03
			}
		}
	}
	
	focus = {
		id = SPR_create_powerful_center
		icon = GFX_z_goal_government_2
		prerequisite = { focus = SPR_repression_against_right focus = SPR_repression_against_left }
		x = 1
		y = 1
		relative_position_id = SPR_repression_against_right
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_create_powerful_center"
			add_popularity = {
				ideology = neutrality
				popularity = 0.06
			}
		}
	}
	
	focus = {
		id = SPR_empowering_president
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = SPR_victory_liberal_party }
		x = 3
		y = 1
		relative_position_id = SPR_victory_liberal_party
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_empowering_president"
			add_ideas = SPR_empowering_president
		}
	}
	
	focus = {
		id = SPR_expanding_role_unions
		icon = GFX_z_goal_soviet_civil_city1
		prerequisite = { focus = SPR_empowering_president }
		x = -1
		y = 3
		relative_position_id = SPR_empowering_president
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_expanding_role_unions"
			add_stability = 0.05
		}
	}
	
	focus = {
		id = SPR_overcoming_social_crisis
		icon = GFX_z_goal_pluralism_of_opinions
		prerequisite = { focus = SPR_cancellation_state_emergency }
		prerequisite = { focus = SPR_create_powerful_center }
		x = -3
		y = 1
		relative_position_id = SPR_create_powerful_center
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_overcoming_social_crisis"
			remove_ideas = SPR_social_crisis
		}
	}
	
	focus = {
		id = SPR_alliance_portugal
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_create_powerful_center }
		mutually_exclusive = { focus = SPR_trade_france focus = SPR_trade_italy }
		x = -1
		y = 1
		relative_position_id = SPR_create_powerful_center
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_alliance_portugal"
			POR = { country_event = { id = NWspain.19 days = 0 } }
		}
	}
	
	focus = {
		id = SPR_trade_france
		icon = GFX_z_goal_economic_integration_france
		prerequisite = { focus = SPR_expanding_role_unions }
		prerequisite = { focus = SPR_create_powerful_center }
		mutually_exclusive = { focus = SPR_alliance_portugal focus = SPR_trade_italy }
		x = 1
		y = 1
		relative_position_id = SPR_create_powerful_center
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_trade_france"
			add_opinion_modifier = { target = FRA modifier = SPR_trade_france }
			FRA = { add_opinion_modifier = { target = ROOT modifier = SPR_trade_france } }
		}
	}
	
	focus = {
		id = SPR_trade_italy
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_expanding_role_unions }
		prerequisite = { focus = SPR_create_powerful_center }
		mutually_exclusive = { focus = SPR_alliance_portugal }
		x = 3
		y = 1
		relative_position_id = SPR_create_powerful_center
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_trade_italy"
			add_opinion_modifier = { target = ITA modifier = SPR_trade_italy }
			ITA = { add_opinion_modifier = { target = ROOT modifier = SPR_trade_italy } }
		}
	}
	
	##NATIONAL BLOCK##
	focus = {
		id = SPR_victory_national_block
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_elections_second_cortes_republic }
		mutually_exclusive = { focus = SPR_victory_popular_front focus = SPR_victory_liberal_party }
		x = 14
		y = 1
		relative_position_id = SPR_elections_second_cortes_republic
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			always = no
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_victory_national_block"
			set_politics = {
				ruling_party = monarchy
				elections_allowed = no
			}
		}
	}
	
	focus = {
		id = SPR_give_way_renewal_spain
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_victory_national_block }
		mutually_exclusive = { focus = SPR_dictatorship_icnp }
		x = -6
		y = 1
		relative_position_id = SPR_victory_national_block
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_give_way_renewal_spain"
			add_political_power = 50
			create_country_leader = {
				name = "Jos√© Calvo Sotelo"
				desc = "POLITICS_JOSE_CALVO_SOTELO_DESC"
				picture = "gfx/leaders/SPR/Portrait_Calvo_Sotelo.dds"
				expire = "1965.1.1"
				ideology = national_conservatism
				traits = {
					#
				}
			}
			set_party_name = { ideology = monarchy name = SPR_renewal_spain long_name = SPR_renewal_spain }
		}
	}
	
	focus = {
		id = SPR_guarantee_autonomy_minorities
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_give_way_renewal_spain }
		x = -2
		y = 1
		relative_position_id = SPR_give_way_renewal_spain
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_guarantee_autonomy_minorities"
			remove_ideas = {
				#SPR_catalon_nationalism
				SPR_basks_nationalism
			}
			if = {
				limit = { BAS = { exists = yes } }
				set_autonomy = {
					target = BAS
					autonomous_state = puppet
				}
			}
			if = {
				limit = { BAS = { exists = no } }
				release_puppet = BAS
				hidden_effect = {
					BAS = {
						set_politics = {
							parties = {
								democratic = { 
									popularity = 40
								}
								fascism = {
									popularity = 40
								}
								communism = {
									popularity = 10
								}
							}
							ruling_party = democratic
							last_election = "1935.1.1"
							election_frequency = 36
							elections_allowed = yes
						}
						add_equipment_to_stockpile = {
							type = infantry_equipment
							amount = 1000
						}
						BAS = { country_event = { id = NWspain.902 } }
					}
				}
			}
			
			if = {
				limit = { GLC = { exists = yes } }
				set_autonomy = {
					target = GLC
					autonomous_state = puppet
				}
			}
			if = {
				limit = { GLC = { exists = no } }
				release_puppet = GLC
				hidden_effect = {
					GLC = {
						set_politics = {
							parties = {
								democratic = { 
									popularity = 40
								}
								fascism = {
									popularity = 40
								}
								communism = {
									popularity = 10
								}
							}
							ruling_party = democratic
							last_election = "1935.1.1"
							election_frequency = 36
							elections_allowed = yes
						}
						add_equipment_to_stockpile = {
							type = infantry_equipment
							amount = 1000
						}
						GLC = { country_event = { id = NWspain.903 } }
					}
				}
			}
			
			if = {
				limit = { ASU = { exists = yes } }
				set_autonomy = {
					target = ASU
					autonomous_state = puppet
				}
			}
			if = {
				limit = { ASU = { exists = no } }
				release_puppet = ASU
				hidden_effect = {
					ASU = {
						set_politics = {
							parties = {
								democratic = { 
									popularity = 40
								}
								fascism = {
									popularity = 40
								}
								communism = {
									popularity = 10
								}
							}
							ruling_party = democratic
							last_election = "1935.1.1"
							election_frequency = 36
							elections_allowed = yes
						}
						add_equipment_to_stockpile = {
							type = infantry_equipment
							amount = 1000
						}
						ASU = { country_event = { id = NWspain.904 } }
					}
				}
			}
			
			if = {
				limit = { SNT = { exists = yes } }
				set_autonomy = {
					target = SNT
					autonomous_state = puppet
				}
			}
			if = {
				limit = { SNT = { exists = no } }
				release_puppet = SNT
				hidden_effect = {
					SNT = {
						set_politics = {
							parties = {
								democratic = { 
									popularity = 40
								}
								fascism = {
									popularity = 40
								}
								communism = {
									popularity = 10
								}
							}
							ruling_party = democratic
							last_election = "1935.1.1"
							election_frequency = 36
							elections_allowed = yes
						}
						add_equipment_to_stockpile = {
							type = infantry_equipment
							amount = 1000
						}
						SNT = { country_event = { id = NWspain.905 } }
					}
				}
			}
			
			#if = {
			#	limit = {
			#		CAT = { exists = yes }
			#		has_war = no
			#		has_civil_war = no
			#	}
			#	set_autonomy = {
			#		target = CAT
			#		autonomous_state = puppet
			#	}
			#}
			#if = {
			#	limit = {
			#		CAT = { exists = no }
			#		has_war = no
			#		has_civil_war = no
			#	}
			#	release_puppet = CAT
			#	hidden_effect = {
			#		CAT = {
			#			set_country_flag = catalonia_focus_democrat_flag
			#			load_focus_tree = catalonia_focus_democrat
			#		}
			#	}
			#}
			if = {
				limit = {
					OR = {
						has_war = yes
						has_civil_war = yes
					}
				}
				set_country_flag = SPR_guarantee_autonomy_minorities_flag
			}
		}
	}
	
	focus = {
		id = SPR_coronation_juan_barcelona
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_give_way_renewal_spain }
		x = 0
		y = 1
		relative_position_id = SPR_give_way_renewal_spain
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_coronation_juan_barcelona"
			add_ideas = SPR_coronation_juan_barcelona
			
		}
	}
	
	focus = {
		id = SPR_policy_liberalisation
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_coronation_juan_barcelona }
		x = 0
		y = 1
		relative_position_id = SPR_coronation_juan_barcelona
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_policy_liberalisation"
			add_political_power = 100
			add_timed_idea = { idea = SPR_policy_liberalisation days = 150 }
		}
	}
	
	focus = {
		id = SPR_democratization_regime_salazar
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_policy_liberalisation }
		x = -2
		y = 1
		relative_position_id = SPR_policy_liberalisation
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_democratization_regime_salazar"
			create_wargoal = {
				type = puppet_wargoal_focus
				target = POR
			}
		}
	}
	
	focus = {
		id = SPR_spanish_union
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_policy_liberalisation }
		mutually_exclusive = { focus = SPR_alliance_britain }
		x = 0
		y = 1
		relative_position_id = SPR_policy_liberalisation
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spanish_union"
			set_rule = { can_create_factions = yes }
			create_faction = SPR_spanish_union
		}
	}
	
	focus = {
		id = SPR_alliance_britain
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_policy_liberalisation }
		mutually_exclusive = { focus = SPR_spanish_union }
		x = 2
		y = 1
		relative_position_id = SPR_policy_liberalisation
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spanish_union"
			ENG = { country_event = { id = generic.2 days = 0 } }
			hidden_effect = {
				ENG = {
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
			}
		}
	}
	
	focus = {
		id = SPR_agreement_united_states
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_spanish_union }
		x = -1
		y = 1
		relative_position_id = SPR_spanish_union
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_agreement_united_states"
			add_opinion_modifier = { target = USA modifier = SPR_agreement_united_states }
			USA = { add_opinion_modifier = { target = ROOT modifier = SPR_agreement_united_states } }
		}
	}
	
	focus = {
		id = SPR_return_america
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_spanish_union focus = SPR_alliance_britain }
		x = 1
		y = 1
		relative_position_id = SPR_spanish_union
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_return_america"
			if = {
				limit = { VEN = { NOT = { has_government = democratic } } }
				create_wargoal = {
					type = puppet_wargoal_focus
					target = VEN
				}
			}
			if = {
				limit = { DOM = { NOT = { has_government = democratic } } }
				create_wargoal = {
					type = puppet_wargoal_focus
					target = DOM
				}
			}
		}
	}
	
	focus = {
		id = SPR_invite_mexico
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_spanish_union }
		x = 0
		y = 2
		relative_position_id = SPR_spanish_union
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_invite_mexico"
			MEX = { country_event = { id = generic.5 days = 0 } }
			hidden_effect = {
				MEX = {
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
				}
			}
		}
	}
	
	focus = {
		id = SPR_dictatorship_icnp
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_victory_national_block }
		mutually_exclusive = { focus = SPR_give_way_renewal_spain }
		x = -2
		y = 1
		relative_position_id = SPR_victory_national_block
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_dictatorship_icnp"
			add_political_power = 50
			set_party_name = { ideology = monarchy name = SPR_icnp long_name = SPR_icnp_long }
		}
	}
	
	focus = {
		id = SPR_restore_position_church_in_state
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_give_way_renewal_spain focus = SPR_dictatorship_icnp }
		x = -2
		y = 1
		relative_position_id = SPR_dictatorship_icnp
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_restore_position_church_in_state"
			add_opinion_modifier = {
				target = VAT
				modifier = SPR_restore_position_church_in_state
			}
			VAT = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SPR_restore_position_church_in_state
				}
			}
		}
	}
	
	focus = {
		id = SPR_get_rid_supporters_monarchy
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_dictatorship_icnp }
		x = 0
		y = 1
		relative_position_id = SPR_dictatorship_icnp
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_get_rid_supporters_monarchy"
			add_stability = 0.1
		}
	}
	
	focus = {
		id = SPR_seek_support_in_spanish_phalanga
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_get_rid_supporters_monarchy }
		x = -1
		y = 1
		relative_position_id = SPR_get_rid_supporters_monarchy
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_seek_support_in_spanish_phalanga"
			add_ideas = SPR_support_in_spanish_phalanga
		}
	}
	
	focus = {
		id = SPR_expand_rights_president
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_get_rid_supporters_monarchy }
		x = 0
		y = 2
		relative_position_id = SPR_get_rid_supporters_monarchy
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_expand_rights_president"
			add_ideas = SPR_expand_rights_president
		}
	}
	
	focus = {
		id = SPR_great_spain
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_get_rid_supporters_monarchy }
		x = 1
		y = 1
		relative_position_id = SPR_get_rid_supporters_monarchy
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_great_spain"
			add_stability = 0.05
			add_war_support = 0.05
		}
	}
	
	focus = {
		id = SPR_former_borders_aragon
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_expand_rights_president }
		x = -1
		y = 1
		relative_position_id = SPR_expand_rights_president
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_former_borders_aragon"
			every_state = {
				limit = {
					is_core_of = SIC
				}
				add_claim_by = ROOT
				add_core_of = ROOT
			}
			hidden_effect = {
				115 = {
					controller = {
						ROOT = {
							add_ai_strategy = {
								type = antagonize
								id = PREV
								value = 200
							}
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = SPR_spanish_netherlands
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_expand_rights_president }
		x = 1
		y = 1
		relative_position_id = SPR_expand_rights_president
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spanish_netherlands"
			every_state = {
				limit = {
					OR = {
						is_core_of = BEL
						state = 1019
					}
				}
				add_claim_by = ROOT
			}
			add_ai_strategy = {
				type = antagonize
				id = "BEL"
				value = 200
			}
		}
	}
	
	focus = {
		id = SPR_march_in_madrid
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_victory_national_block }
		x = 0
		y = 1
		relative_position_id = SPR_victory_national_block
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_march_in_madrid"
			add_political_power = 150
			country_event = { id = NWspain.21 days = 0 }
		}
	}
	
	focus = {
		id = SPR_expansion_ties_centre
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_march_in_madrid }
		x = 0
		y = 1
		relative_position_id = SPR_march_in_madrid
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_expansion_ties_centre"
			add_popularity = {
				ideology = neutrality
				popularity = -0.05
			}
			add_popularity = {
				ideology = monarchy
				popularity = 0.05
			}
		}
	}
	
	focus = {
		id = SPR_prohibition_left_wing_parties
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_victory_national_block }
		x = 2
		y = 1
		relative_position_id = SPR_victory_national_block
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_prohibition_left_wing_parties"
			add_popularity = {
				ideology = democratic
				popularity = -0.1
			}
			add_popularity = {
				ideology = communism
				popularity = -0.1
			}
			add_popularity = {
				ideology = trozkism
				popularity = -0.1
			}
			add_popularity = {
				ideology = anarchism
				popularity = -0.1
			}
		}
	}
	
	focus = {
		id = SPR_repression_against_leftists
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_prohibition_left_wing_parties }
		x = 0
		y = 1
		relative_position_id = SPR_prohibition_left_wing_parties
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_repression_against_leftists"
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
			add_popularity = {
				ideology = trozkism
				popularity = -0.05
			}
			add_popularity = {
				ideology = anarchism
				popularity = -0.05
			}
			custom_effect_tooltip = SPR_repression_against_leftists_tt
		}
	}
	
	focus = {
		id = SPR_collapse_secularization
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_victory_national_block }
		x = 4
		y = 1
		relative_position_id = SPR_victory_national_block
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_collapse_secularization"
			add_ideas = SPR_collapse_secularization
		}
	}
	
	focus = {
		id = SPR_return_land_landowners
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_collapse_secularization }
		x = 0
		y = 1
		relative_position_id = SPR_collapse_secularization
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_return_land_landowners"
			random_owned_state = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPR_limiting_power_oligarchy
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_return_land_landowners }
		x = -2
		y = 1
		relative_position_id = SPR_return_land_landowners
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_limiting_power_oligarchy"
			random_owned_state = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPR_introduction_progressive_tax_rent
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_return_land_landowners }
		x = 0
		y = 1
		relative_position_id = SPR_return_land_landowners
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_introduction_progressive_tax_rent"
			random_owned_state = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPR_overcome_crisis
		icon = GFX_z_focus_propaganda_soviet
		prerequisite = { focus = SPR_expansion_ties_centre }
		prerequisite = { focus = SPR_limiting_power_oligarchy }
		prerequisite = { focus = SPR_introduction_progressive_tax_rent }
		x = -1
		y = 1
		relative_position_id = SPR_limiting_power_oligarchy
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_overcome_crisis"
			remove_ideas = SPR_social_crisis
			if = {
				limit = { has_idea = SPR_catalon_nationalism }
				remove_ideas = SPR_catalon_nationalism
			}
		}
	}
	
	
	
	
}
