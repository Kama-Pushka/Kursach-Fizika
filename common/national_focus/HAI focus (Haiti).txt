### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}


# 869	Артибонит
# 318	Столица Порто-О-Пренс
# 1189	Энш

# 870	Западные Доминиканы
# 319	Восточные Доминиканы
# 864	Восточная Куба (Орьенте )

# 690	Северные Багамы
# 693	Южные Багамы


focus_tree = {
	id = nw_haiti_focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = HAI
		}
	}
	default = no
	
	continuous_focus_position = { x = 150 y = 900 }
	
	initial_show_position = {
		focus = HAI_approve_the_plebiscite
		offset = {
			x = 23
			y = 0
			trigger = {
				has_completed_focus = HAI_calixtas_coup
			}
		}
	}


#########################
##### FIRST SECTION #####
#########################

	focus = {
		id = HAI_approve_the_plebiscite
		icon = GFX_z_goal_approve_the_1935_plebiscite
		
		x = 11
		y = 0
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		allow_branch = {
			NOT = { has_completed_focus = HAI_calixtas_coup }
		}
		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_approve_the_plebiscite"
			add_political_power = 80
			add_popularity = { ideology = democratic popularity = -0.075 }
		}
	}
	
	focus = {
		id = HAI_unarchive_american_stocks
		icon = GFX_focus_FIN_weapon_caches
		prerequisite = { focus = HAI_approve_the_plebiscite }
		x = -10
		y = 1
		relative_position_id = HAI_approve_the_plebiscite
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			custom_trigger_tooltip = {
				tooltip = HAI_consequences_of_petrushka_massacre_idea__NOT_tt
				NOT = {
					has_idea = HAI_consequences_of_petrushka_massacre_idea_1
					has_idea = HAI_consequences_of_petrushka_massacre_idea_1_1
					has_idea = HAI_consequences_of_petrushka_massacre_idea_2_1
				}
			}
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_unarchive_american_stocks"
			add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 900 producer = USA }
			add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 50 producer = USA }
			add_equipment_to_stockpile = { type = support_equipment amount = 80 producer = USA }
		}
	}
	
	focus = {
		id = HAI_introduction_of_conscription_policy_in_gonava
		icon = GFX_z_goal_wartime_powers
		prerequisite = { focus = HAI_unarchive_american_stocks }
		x = -1
		y = 1
		relative_position_id = HAI_unarchive_american_stocks
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			custom_trigger_tooltip = {
				tooltip = HAI_consequences_of_petrushka_massacre_idea__NOT_tt
				NOT = {
					has_idea = HAI_consequences_of_petrushka_massacre_idea_1
					has_idea = HAI_consequences_of_petrushka_massacre_idea_1_1
					has_idea = HAI_consequences_of_petrushka_massacre_idea_2_1
				}
			}
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_introduction_of_conscription_policy_in_gonava"
			add_manpower = 11000
			add_political_power = 25
			if = {
				limit = {
					meta_trigger = {
						text = { [RULING_IDEOLOGY] > 0.65 }
						RULING_IDEOLOGY = "[?current_party_ideology_group.GetTokenKey]"
					}
				}
				capital_scope = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = HAI_conduct_border_exercises
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = HAI_unarchive_american_stocks }
		x = 1
		y = 1
		relative_position_id = HAI_unarchive_american_stocks
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			custom_trigger_tooltip = {
				tooltip = HAI_consequences_of_petrushka_massacre_idea__NOT_tt
				NOT = {
					has_idea = HAI_consequences_of_petrushka_massacre_idea_1
					has_idea = HAI_consequences_of_petrushka_massacre_idea_1_1
					has_idea = HAI_consequences_of_petrushka_massacre_idea_2_1
				}
			}
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_conduct_border_exercises"
			add_war_support = 0.075
			add_manpower = 17000
			army_experience = 15
			if = {
				limit = { has_war_support > 0.6 }
				capital_scope = {
					create_unit = {
						division = "name = \"Haitian Guard\" division_template = \"Haitian Guard\" start_experience_factor = 0.4"
						owner = ROOT
						count = 1
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
			if = {
				limit = { num_of_factories > 5 }
				every_controlled_state = {
					add_building_construction = {
						type = bunker
						level = 1
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border_country = DOM
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = HAI_consequences_of_the_petrushka_massacre
		icon = GFX_z_goal_consequences_of_the_petrushka_massacre
		prerequisite = { focus = HAI_approve_the_plebiscite }
		x = -5
		y = 1
		relative_position_id = HAI_approve_the_plebiscite
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			custom_trigger_tooltip = {
				always = no
				tooltip = TUR_focus_autocomplete_tt
			}
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_consequences_of_the_petrushka_massacre"
			effect_tooltip = {
				activate_mission = HAI_calixtas_coup_miss
				activate_mission = HAI_vincents_reaction
			}
		}
	}
	
	focus = {
		id = HAI_restrict_press
		icon = GFX_z_goal_restrict_press
		prerequisite = { focus = HAI_consequences_of_the_petrushka_massacre }
		mutually_exclusive = { focus = HAI_propaganda_against_trujillo }
		x = -2
		y = 1
		relative_position_id = HAI_consequences_of_the_petrushka_massacre
		
		cost = 2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_restrict_press"
			swap_ideas = {
				remove_idea = HAI_consequences_of_petrushka_massacre_idea_1
				add_idea = HAI_consequences_of_petrushka_massacre_idea_1_1
			}
			add_popularity = { ideology = var:current_party_ideology_group popularity = -0.075 }
			add_opinion_modifier = { target = DOM modifier = HAI_restrict_press_op }
			DOM = { add_opinion_modifier = { target = ROOT modifier = HAI_restrict_press_op } }
			activate_mission = HAI_government_actions
			country_event = { id = NWhaiti.3 hours = 3 }
		}
	}
	
	focus = {
		id = HAI_bribe_the_media
		icon = GFX_z_goal_big_news
		prerequisite = { focus = HAI_restrict_press }
		x = -2
		y = 1
		relative_position_id = HAI_restrict_press
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			custom_trigger_tooltip = {
				tooltip = HAI_consequences_of_petrushka_massacre_idea__tt
				OR = {
					has_idea = HAI_consequences_of_petrushka_massacre_idea_1
					has_idea = HAI_consequences_of_petrushka_massacre_idea_1_1
					has_idea = HAI_consequences_of_petrushka_massacre_idea_2_1
				}
			}
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_bribe_the_media"
			add_political_power = 100
			add_ideas = HAI_bribe_the_media_idea
		}
	}
	
	focus = {
		id = HAI_dominican_compensation
		icon = GFX_z_goal_HAI_dominican_compensation
		prerequisite = { focus = HAI_restrict_press }
		x = 0
		y = 1
		relative_position_id = HAI_restrict_press
		
		cost = 2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			country_exists = DOM
			country_exists = USA
			NOT = {
				has_war_with = DOM
				has_war_with = USA
			}
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_dominican_compensation"
			USA = { country_event = { id = NWhaiti.5 hours = 6 } }
			DOM = { country_event = { id = NWhaiti.6 hours = 6 } }
			unlock_decision_tooltip = HAI_eliminate_the_consequences_of_the_massacre
		}
	}
	
	focus = {
		id = HAI_restore_trade_relations_with_santo_domingo
		icon = GFX_z_goal_restore_trade_relations_with_dominicana
		prerequisite = { focus = HAI_dominican_compensation }
		x = 0
		y = 1
		relative_position_id = HAI_dominican_compensation
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_country_flag = HAI_dominican_compensation_flag
			country_exists = DOM
			NOT = {
				has_war_with = DOM
			}
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
			has_country_flag = HAI_dominican_compensation_fail_flag
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_restore_trade_relations_with_santo_domingo"
			add_stability = 0.05
			add_war_support = -0.025
			add_offsite_building = { type = industrial_complex level = 1 }
			add_opinion_modifier = { target = DOM modifier = HAI_restore_trade_relations_with_santo_domingo_op }
			DOM = { add_opinion_modifier = { target = ROOT modifier = HAI_restore_trade_relations_with_santo_domingo_op } }
		}
	}
	
	focus = {
		id = HAI_propaganda_against_trujillo
		icon = GFX_z_goal_propaganda_against_trujillo
		prerequisite = { focus = HAI_consequences_of_the_petrushka_massacre }
		mutually_exclusive = { focus = HAI_restrict_press }
		x = 0
		y = 1
		relative_position_id = HAI_consequences_of_the_petrushka_massacre
		
		cost = 2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_propaganda_against_trujillo"
			swap_ideas = {
				remove_idea = HAI_consequences_of_petrushka_massacre_idea_1
				add_idea = HAI_consequences_of_petrushka_massacre_idea_2_1
			}
			add_popularity = { ideology = var:current_party_ideology_group popularity = 0.1 }
			add_opinion_modifier = { target = DOM modifier = HAI_propaganda_against_trujillo_op }
			DOM = { add_opinion_modifier = { target = ROOT modifier = HAI_propaganda_against_trujillo_op } }
			activate_mission = HAI_government_actions_2
			country_event = { id = NWhaiti.4 hours = 3 }
			custom_effect_tooltip = HAI_will_war_against_trujillo_tt
		}
	}
	
	focus = {
		id = HAI_deploy_border_force
		icon = GFX_z_goal_deploy_border_force
		prerequisite = { focus = HAI_propaganda_against_trujillo }
		prerequisite = { focus = HAI_recruitment_of_supporters_guards }
		mutually_exclusive = { focus = HAI_strengthen_security_of_national_palace }
		x = 0
		y = 1
		relative_position_id = HAI_propaganda_against_trujillo
		
		cost = 2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_deploy_border_force"
			add_manpower = 25000
			add_war_support = 0.2
			add_stability = -0.1
			if = {
				limit = {
					NOT = {
						has_idea = scraping_the_barrel
						has_idea = all_adults_serve
						has_idea = service_by_requirement
						has_idea = extensive_conscription
					}
				}
				add_ideas = extensive_conscription
			}
			random_owned_controlled_state = {
				prioritize = { 1189 }
				limit = {
					any_neighbor_state = { is_controlled_by = DOM }
				}
				create_unit = {
					division = "name = \"Haitian Guard\" division_template = \"Haitian Guard\" start_experience_factor = 0.6"
					owner = ROOT
					count = 1
					allow_spawning_on_enemy_provs = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 318 }
				limit = {
					any_neighbor_state = { is_controlled_by = DOM }
				}
				create_unit = {
					division = "name = \"Haitian Guard\" division_template = \"Haitian Guard\" start_experience_factor = 0.6"
					owner = ROOT
					count = 1
					allow_spawning_on_enemy_provs = yes
				}
			}
			add_timed_idea = { idea = HAI_mass_mobilization_idea days = 350 }
			unlock_decision_tooltip = HAI_eliminate_the_consequences_of_the_massacre
			activate_mission = HAI_border_conflict
			DOM = { country_event = { id = NWhaiti.11 hours = 3 } }
			custom_effect_tooltip = HAI_will_really_war_against_trujillo_tt
		}
	}
	
	focus = {
		id = HAI_cancellation_of_the_haitian_concession
		icon = GFX_z_goal_HAI_cancellation_of_the_haitian_concession
		prerequisite = { focus = HAI_deploy_border_force }
		x = 0
		y = 1
		relative_position_id = HAI_deploy_border_force
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			country_exists = DOM
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_cancellation_of_the_haitian_concession"
			add_manpower = 20000
			add_equipment_to_stockpile = { type = infantry_equipment amount = 1500 }
			add_state_core = 870
			if = {
				limit = { NOT = { has_war_with = DOM } }
				DOM = { country_event = { id = NWhaiti.12 hours = 3 } }
				custom_effect_tooltip = HAI_will_already_war_against_trujillo_tt
			}
		}
	}
	
	focus = {
		id = HAI_establish_surveillance_of_dissidents
		icon = GFX_z_goal_establish_surveillance_of_dissidents
		prerequisite = { focus = HAI_approve_the_plebiscite }
		x = -2
		y = 1
		relative_position_id = HAI_approve_the_plebiscite
		
		cost = 11
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_establish_surveillance_of_dissidents"
			create_intelligence_agency = { name = "Haitian Gendarmerie" }
			swap_ruler_traits = { remove = an_arrogant_authoritarian add = an_arrogant_authoritarian_1 }
		}
	}
	
	focus = {
		id = HAI_dissolve_communist_party
		icon = GFX_z_goal_dissolve_communist_party
		prerequisite = { focus = HAI_establish_surveillance_of_dissidents }
		x = -1
		y = 1
		relative_position_id = HAI_establish_surveillance_of_dissidents
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_dissolve_communist_party"
			set_temp_variable = { temp1 = 0 }
			subtract_from_temp_variable = { temp1 = party_popularity@communism }
			add_popularity = { ideology = communism popularity = temp1 }
			divide_temp_variable = { temp1 = 2 }
			add_stability = temp1
		}
	}
	
	focus = {
		id = HAI_recruitment_of_supporters_guards
		icon = GFX_z_goal_HAI_recruitment_of_supporters_guards
		prerequisite = { focus = HAI_establish_surveillance_of_dissidents }
		mutually_exclusive = { focus = HAI_invite_instructors_from_marine_corps }
		x = 1
		y = 1
		relative_position_id = HAI_establish_surveillance_of_dissidents
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_recruitment_of_supporters_guards"
			swap_ideas = {
				remove_idea = HAI_apolitical_armed_forces_idea_1
				add_idea = HAI_apolitical_armed_forces_idea_2
			}
			add_manpower = 15000
		}
	}
	
	focus = {
		id = HAI_strengthen_security_of_national_palace
		icon = GFX_z_goal_HAI_strengthen_security_of_national_palace_black
		prerequisite = { focus = HAI_recruitment_of_supporters_guards }
		mutually_exclusive = { focus = HAI_deploy_border_force }
		x = -1
		y = 1
		relative_position_id = HAI_recruitment_of_supporters_guards
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_global_flag = parsley_massacre_happened
			has_manpower > 7000
			controls_state = 318
			has_completed_focus = HAI_restrict_press
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_strengthen_security_of_national_palace"
			add_stability = 0.09
			add_manpower = -7000
			318 = {
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 4641
				}
				create_unit = {
					division = "name = \"Haitian Guard\" division_template = \"Haitian Guard\" start_experience_factor = 0.6"
					owner = ROOT
					count = 1
					allow_spawning_on_enemy_provs = yes
				}
			}
			add_timed_idea = { idea = HAI_discontent_of_black_soldiers_idea days = 365 }
			swap_ideas = {
				remove_idea = HAI_apolitical_armed_forces_idea_2
				add_idea = HAI_apolitical_armed_forces_idea_3
			}
			add_days_mission_timeout = { mission = HAI_calixtas_coup_miss days = 60 }
		}
	}
	
	focus = {
		id = HAI_arrest_of_calixta
		icon = GFX_z_goal_HAI_arrest_of_calixta
		prerequisite = { focus = HAI_strengthen_security_of_national_palace }
		mutually_exclusive = { focus = HAI_american_defense_of_regime }
		x = 0
		y = 1
		relative_position_id = HAI_strengthen_security_of_national_palace
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_arrest_of_calixta"
			effect_tooltip = {
				HAI_demosthenes_petrus_calixte = {
					retire = yes
				}
			}
			add_war_support = -0.035
			add_political_power = -80
			remove_ideas = HAI_apolitical_armed_forces_idea_3
		}
	}
	
	focus = {
		id = HAI_protection_from_dominican_invasion
		icon = GFX_z_goal_HAI_protection_from_dominican_invasion
		prerequisite = {
			focus = HAI_restore_trade_relations_with_santo_domingo
			focus = HAI_cancellation_of_the_haitian_concession
			focus = HAI_arrest_of_calixta
		}
		x = -1
		y = 1
		relative_position_id = HAI_arrest_of_calixta
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_country_flag = HAI_calixtas_coup_fail_flag
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_protection_from_dominican_invasion"
			add_war_support = 0.05
			every_controlled_state = {
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border_country = DOM
					}
				}
			}
		}
	}
	
	focus = {
		id = HAI_start_persecution_of_voodoo
		icon = GFX_z_goal_HAI_start_persecution_of_voodoo
		prerequisite = { focus = HAI_approve_the_plebiscite }
		x = 1
		y = 1
		relative_position_id = HAI_approve_the_plebiscite
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_start_persecution_of_voodoo"
			swap_ideas = {
				remove_idea = HAI_religious_setting__syncretic_catholicism_idea
				add_idea = HAI_religious_setting__dominance_of_catholicism_idea
			}
		}
	}
	
	focus = {
		id = HAI_strengthen_economic_ties_with_united_states
		icon = GFX_z_goal_strengthen_economic_ties_with_united_states
		prerequisite = { focus = HAI_approve_the_plebiscite }
		x = 3
		y = 1
		relative_position_id = HAI_approve_the_plebiscite
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_strengthen_economic_ties_with_united_states"
			add_opinion_modifier = { target = USA modifier = HAI_strengthen_economic_ties_with_united_states_op }
			diplomatic_relation = {
				country = USA
				relation = docking_rights
				active = yes
			}
			USA = {
				add_opinion_modifier = { target = ROOT modifier = HAI_strengthen_economic_ties_with_united_states_op }
				diplomatic_relation = {
					country = ROOT
					relation = docking_rights
					active = yes
				}
			}
			swap_ideas = {
				remove_idea = HAI_military_economic_dependence_on_united_states_idea_1
				add_idea = HAI_military_economic_dependence_on_united_states_idea_2
			}
			if = {
				limit = { NOT = { has_idea = free_trade } }
				add_ideas = free_trade
			}
			add_offsite_building = { type = industrial_complex level = 1 }
		}
	}
	
	focus = {
		id = HAI_invite_instructors_from_marine_corps
		icon = GFX_z_goal_HAI_invite_instructors_from_marine_corps
		prerequisite = { focus = HAI_strengthen_economic_ties_with_united_states }
		mutually_exclusive = { focus = HAI_recruitment_of_supporters_guards }
		x = -2
		y = 1
		relative_position_id = HAI_strengthen_economic_ties_with_united_states
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_invite_instructors_from_marine_corps"
			add_stability = -0.035
			add_war_support = 0.05
			add_tech_bonus = {
				name = HAI_invite_instructors_from_marine_corps
				bonus = 1.0
				uses = 2
				category = marine_tech
			}
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = HAI_smedley_butler
		}
	}
	
	focus = {
		id = HAI_american_defense_of_regime
		icon = GFX_z_goal_american_defense_of_regime
		prerequisite = { focus = HAI_invite_instructors_from_marine_corps }
		mutually_exclusive = { focus = HAI_arrest_of_calixta }
		x = 0
		y = 2
		relative_position_id = HAI_invite_instructors_from_marine_corps
		
		cost = 12
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_global_flag = parsley_massacre_happened
			country_exists = USA
			NOT = { has_war_with = USA }
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_american_defense_of_regime"
			army_experience = 10
			add_war_support = -0.025
			add_stability = 0.055
			add_popularity = { ideology = neutrality popularity = -0.065 }
			add_popularity = { ideology = democratic popularity = 0.065 }
			add_opinion_modifier = { target = USA modifier = HAI_american_defense_of_regime_op }
			give_military_access = USA
			USA = {
				add_opinion_modifier = { target = ROOT modifier = HAI_american_defense_of_regime_op }
				give_military_access = ROOT
				give_guarantee = ROOT
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_template = "Sécurité Côtière" } }
					division_template = {
						name = "Sécurité Côtière"
						is_locked = yes
						regiments = {
							marine = { x = 0 y = 0 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
							artillery_brigade = { x = 2 y = 0 }
						}
						support = {
							artillery = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							field_hospital = { x = 0 y = 2 }
						}
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Sécurité Côtière\" division_template = \"Sécurité Côtière\" start_experience_factor = 1.0"
					owner = ROOT
					count = 1
					allow_spawning_on_enemy_provs = yes
				}
			}
		}
	}
	
	focus = {
		id = HAI_coast_guard_expansion
		icon = GFX_z_goal_coast_guard_expansion
		prerequisite = { focus = HAI_american_defense_of_regime }
		x = 0
		y = 1
		relative_position_id = HAI_american_defense_of_regime
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_country_flag = HAI_calixtas_coup_fail_flag
			controls_state = 318
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_coast_guard_expansion"
			army_experience = 15
			navy_experience = 15
			set_division_template_lock = {
				division_template = "Sécurité Côtière"
				is_locked = no
			}
			318 = {
				create_unit = {
					division = "name = \"Sécurité Côtière\" division_template = \"Sécurité Côtière\" start_experience_factor = 1.0"
					owner = ROOT
					count = 1
					allow_spawning_on_enemy_provs = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					province = 4641
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 4641
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = HAI_submarine_hunters
		icon = GFX_z_goal_submarine_hunters
		prerequisite = { focus = HAI_protection_from_dominican_invasion }
		prerequisite = { focus = HAI_coast_guard_expansion }
		x = -2
		y = 1
		relative_position_id = HAI_coast_guard_expansion
		
		cost = 12
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			num_of_naval_factories > 0
			USA = { has_opinion = { target = ROOT value > 60 } }
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_submarine_hunters"
			navy_experience = 25
			add_equipment_to_stockpile = { type = convoy amount = 10 }
			custom_effect_tooltip = HAI_submarine_hunters_naval_tt
			hidden_effect = {
				if = {
					limit = { has_dlc = "Man the Guns" }
					# Light Cruisers #
					create_equipment_variant = {
						name = "Touissaint L’Ouverture Class"
						type = ship_hull_cruiser_1
						parent_version = 0
						modules = {
							fixed_ship_battery_slot = dp_light_battery_1
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_fire_control_system_slot = ship_sonar_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = cruiser_ship_engine_1
							fixed_ship_armor_slot = ship_armor_cruiser_1
							mid_1_custom_slot = empty
							mid_2_custom_slot = empty
							rear_1_custom_slot = ship_depth_charge_1
						}
					}
					# Heavy Cruisers #
					create_equipment_variant = {
						name = "Admiral Killick Class"
						type = ship_hull_cruiser_1
						parent_version = 0
						modules = {
							fixed_ship_battery_slot = dp_light_battery_1
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_fire_control_system_slot = ship_sonar_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = cruiser_ship_engine_1
							fixed_ship_secondaries_slot = ship_secondaries_1
							fixed_ship_armor_slot = ship_armor_cruiser_1
							mid_1_custom_slot = ship_torpedo_1
							mid_2_custom_slot = ship_torpedo_1
							rear_1_custom_slot = empty
						}
					}
					load_oob = HAI_submarine_hunters_naval_mtg
					
				}
				else = {
					create_equipment_variant = {
						name = "Touissaint L’Ouverture Class"
						type = light_cruiser_1
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 2
							ship_armor_upgrade = 2
							ship_gun_upgrade = 2
						}
					}
					create_equipment_variant = {
						name = "Admiral Killick Class"
						type = heavy_cruiser_1
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 2
							ship_armor_upgrade = 2
							ship_gun_upgrade = 2
						}
					}
					load_oob = HAI_submarine_hunters_naval_legacy
				}
			}
		}
	}
	
	focus = {
		id = HAI_revival_of_transport_system
		icon = GFX_z_goal_revival_of_transport_system
		prerequisite = { focus = HAI_strengthen_economic_ties_with_united_states }
		x = 0
		y = 1
		relative_position_id = HAI_strengthen_economic_ties_with_united_states
		
		cost = 13
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
			add_timed_idea = { idea = HAI_revival_of_transport_system_idea days = 91 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_revival_of_transport_system"
			custom_effect_tooltip = on_select_focus_tt
			effect_tooltip = { add_timed_idea = { idea = HAI_revival_of_transport_system_idea days = 91 } }
			custom_effect_tooltip = n3_tt
			custom_effect_tooltip = on_completion_focus_tt
			every_owned_state = {
				limit = {
					OR = {
						state = 318
						state = 869
						state = 1189
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			swap_ideas = {
				remove_idea = HAI_backward_transport_and_social_infrastructure_idea_1
				add_idea = HAI_backward_transport_and_social_infrastructure_idea_2
			}
			add_timed_idea = { idea = HAI_program_of_reorganization_of_transport_routes_idea days = 340 }
		}
	}
	
	focus = {
		id = HAI_fighting_the_elements
		icon = GFX_z_goal_fighting_the_elements
		prerequisite = { focus = HAI_revival_of_transport_system }
		x = 0
		y = 2
		relative_position_id = HAI_revival_of_transport_system
		
		cost = 14
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_country_flag = HAI_calixtas_coup_fail_flag
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_fighting_the_elements"
			if = {
				limit = { has_idea = HAI_pernicious_situation_of_agriculture_idea_3_1 }
				swap_ideas = {
					remove_idea = HAI_pernicious_situation_of_agriculture_idea_3_1
					add_idea = HAI_pernicious_situation_of_agriculture_idea_3
				}
			}
			else = {
				swap_ideas = {
					remove_idea = HAI_pernicious_situation_of_agriculture_idea_2
					add_idea = HAI_pernicious_situation_of_agriculture_idea_3_2
				}
			}
		}
	}
	
	focus = {
		id = HAI_support_private_initiative
		icon = GFX_z_goal_HAI_support_private_initiative
		prerequisite = { focus = HAI_strengthen_economic_ties_with_united_states }
		x = 2
		y = 1
		relative_position_id = HAI_strengthen_economic_ties_with_united_states
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_support_private_initiative"
			swap_ideas = {
				remove_idea = HAI_pernicious_situation_of_agriculture_idea_1
				add_idea = HAI_pernicious_situation_of_agriculture_idea_2
			}
		}
	}
	
	focus = {
		id = HAI_start_land_reclamation
		icon = GFX_z_goal_start_land_reclamation
		prerequisite = { focus = HAI_support_private_initiative }
		x = 0
		y = 2
		relative_position_id = HAI_support_private_initiative
		
		cost = 14
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_country_flag = HAI_calixtas_coup_fail_flag
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_start_land_reclamation"
			every_controlled_state = {
				limit = {
					OR = {
						state = 318
						state = 869
						state = 1189
					}
				}
				add_extra_state_shared_building_slots = 1
			}
			if = {
				limit = { has_idea = HAI_pernicious_situation_of_agriculture_idea_3_2 }
				swap_ideas = {
					remove_idea = HAI_pernicious_situation_of_agriculture_idea_3_2
					add_idea = HAI_pernicious_situation_of_agriculture_idea_3
				}
			}
			else = {
				swap_ideas = {
					remove_idea = HAI_pernicious_situation_of_agriculture_idea_2
					add_idea = HAI_pernicious_situation_of_agriculture_idea_3_1
				}
			}
			if = {
				limit = { any_core_state = { infrastructure > 4 } }
				random_owned_controlled_state = {
					limit = { is_core_of = ROOT infrastructure > 4 }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = { any_core_state = { infrastructure > 3 } }
				random_owned_controlled_state = {
					limit = { is_core_of = ROOT infrastructure > 3 }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = { any_core_state = { infrastructure > 2 } }
				random_owned_controlled_state = {
					limit = { is_core_of = ROOT infrastructure > 2 }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					limit = { is_core_of = ROOT }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = HAI_american_humanitarian_aid
		icon = GFX_z_goal_american_humanitarian_aid
		prerequisite = { focus = HAI_strengthen_economic_ties_with_united_states }
		x = 4
		y = 1
		relative_position_id = HAI_strengthen_economic_ties_with_united_states
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_country_flag = HAI_calixtas_coup_fail_flag
			USA = { has_opinion = { target = ROOT value > 39 } }
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_american_humanitarian_aid"
			swap_ideas = {
				remove_idea = HAI_military_economic_dependence_on_united_states_idea_2
				add_idea = HAI_military_economic_dependence_on_united_states_idea_3
			}
		}
	}
	
	focus = {
		id = HAI_attract_usa_finance
		icon = GFX_z_goal_attract_usa_finance
		prerequisite = { focus = HAI_american_humanitarian_aid }
		x = 0
		y = 1
		relative_position_id = HAI_american_humanitarian_aid
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			USA = {
				has_opinion = { target = ROOT value > 59 }
			}
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_attract_usa_finance"
			add_offsite_building = { type = industrial_complex level = 1 }
			swap_ideas = {
				remove_idea = HAI_military_economic_dependence_on_united_states_idea_3
				add_idea = HAI_military_economic_dependence_on_united_states_idea_4
			}
		}
	}
	
	focus = {
		id = HAI_economic_union_with_america
		icon = GFX_z_goal_HAI_economic_union_with_america
		prerequisite = { focus = HAI_attract_usa_finance }
		x = 0
		y = 1
		relative_position_id = HAI_attract_usa_finance
		
		cost = 12
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			num_of_civilian_factories > 5
			USA = {
				has_opinion = { target = ROOT value > 89 }
			}
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_economic_union_with_america"
			swap_ideas = {
				remove_idea = HAI_military_economic_dependence_on_united_states_idea_4
				add_idea = HAI_military_economic_dependence_on_united_states_idea_5
			}
			add_research_slot = 1
			add_tech_bonus = {
				name = HAI_economic_union_with_america
				bonus = 1.0
				uses = 2
				category = industry
			}
		}
	}
	
	focus = {
		id = HAI_innovations_in_agricultural_sector
		icon = GFX_z_goal_innovations_in_agricultural_sector
		prerequisite = { focus = HAI_fighting_the_elements }
		prerequisite = { focus = HAI_start_land_reclamation }
		prerequisite = { focus = HAI_economic_union_with_america }
		x = 1
		y = 1
		relative_position_id = HAI_start_land_reclamation
		
		cost = 14
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			num_of_civilian_factories > 6
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_innovations_in_agricultural_sector"
			add_stability = 0.06
			add_tech_bonus = {
				name = HAI_innovations_in_agricultural_sector
				bonus = 0.35
				uses = 3
				category = industry
			}
			swap_ideas = {
				remove_idea = HAI_pernicious_situation_of_agriculture_idea_3
				add_idea = HAI_pernicious_situation_of_agriculture_idea_4
			}
		}
	}
	
	focus = {
		id = HAI_cancel_direct_elections
		icon = GFX_z_goal_cancel_direct_elections
		prerequisite = {
			focus = HAI_recruitment_of_supporters_guards
			focus = HAI_support_private_initiative
		}
		x = -1
		y = 1
		relative_position_id = HAI_support_private_initiative
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_country_flag = HAI_calixtas_coup_fail_flag
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_cancel_direct_elections"
			set_temp_variable = { temp1 = 0 }
			set_temp_variable = { temp2 = party_popularity@democratic }
			subtract_from_temp_variable = { temp1 = temp2 }
			add_popularity = { ideology = democratic popularity = temp1 }
			add_popularity = { ideology = neutrality popularity = temp2 }
			divide_temp_variable = { temp1 = 2 }
			add_stability = temp1
			add_ideas = HAI_constitutional_reform_idea
		}
	}
	
	focus = {
		id = HAI_leskos_inauguration
		icon = GFX_z_goal_HAI_leskos_inauguration
		prerequisite = { focus = HAI_cancel_direct_elections }
		x = 0
		y = 2
		relative_position_id = HAI_cancel_direct_elections
		
		cost = 2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_leskos_inauguration"
			set_party_name = { ideology = neutrality long_name = HAI_liberal_party name = HAI_liberal_party }
			if = {
				limit = { NOT = { has_country_leader = { character = HAI_elie_lescot ruling_only = yes } } }
				retire_country_leader = yes
				add_country_leader_role = {
					character = HAI_elie_lescot
					country_leader = {
						ideology = authoritarian_democracy
						desc = "POLITICS_ELIE_LESCOT_DESC"
						traits = {
							a_representative_of_the_mulatto_elite
						}
						expire = "1965.1.1"
					}
					promote_leader = yes
				}
			}
			else = {
				add_country_leader_trait = a_representative_of_the_mulatto_elite
			}
			swap_ideas = {
				remove_idea = HAI_racial_and_social_tensions_idea_1
				add_idea = HAI_racial_and_social_tensions_idea_2
			}
		}
	}
	
	focus = {
		id = HAI_use_trujillos_money
		icon = GFX_z_goal_use_trujillos_money
		prerequisite = { focus = HAI_leskos_inauguration }
		x = -3
		y = 1
		relative_position_id = HAI_leskos_inauguration
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			DOM = { has_opinion = { target = ROOT value > 34 } }
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
			DOM = {
				OR = {
					has_war_with = ROOT
					is_subject_of = ROOT
					exists = no
				}
			}
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_use_trujillos_money"
			add_timed_idea = { idea = HAI_trujillo_support_idea days = 365 }
		}
	}
	
	focus = {
		id = HAI_strengthen_control_over_state_apparatus
		icon = GFX_z_goal_strengthen_control_over_state_apparatus
		prerequisite = { focus = HAI_leskos_inauguration }
		x = -1
		y = 1
		relative_position_id = HAI_leskos_inauguration
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			threat > 0.5
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_strengthen_control_over_state_apparatus"
			add_war_support = 0.1
			capital_scope = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			hidden_effect = {
				country_event = { id = NWhaiti.16 days = 14 }
			}
		}
	}
	
	focus = {
		id = HAI_revision_of_guards_administration
		icon = GFX_z_goal_revision_of_guards_administration
		prerequisite = { focus = HAI_use_trujillos_money }
		prerequisite = { focus = HAI_strengthen_control_over_state_apparatus }
		x = 0
		y = 1
		relative_position_id = HAI_use_trujillos_money
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_revision_of_guards_administration"
			show_unit_leaders_tooltip = HAI_franck_lavaud
			show_unit_leaders_tooltip = HAI_gerard_lescot
			show_unit_leaders_tooltip = HAI_antoine_levelt
			hidden_effect = {
				country_event = { id = NWhaiti.17 days = 10 }
			}
		}
	}
	
	focus = {
		id = HAI_create_rural_police
		icon = GFX_z_goal_create_rural_police
		prerequisite = { focus = HAI_revision_of_guards_administration }
		x = 0
		y = 1
		relative_position_id = HAI_revision_of_guards_administration
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_create_rural_police"
			if = {
				limit = { has_idea = HAI_apolitical_armed_forces_idea_1 }
				remove_ideas = HAI_apolitical_armed_forces_idea_1
			}
			if = {
				limit = { has_idea = HAI_apolitical_armed_forces_idea_2 }
				remove_ideas = HAI_apolitical_armed_forces_idea_2
			}
			if = {
				limit = { has_idea = HAI_apolitical_armed_forces_idea_3 }
				remove_ideas = HAI_apolitical_armed_forces_idea_3
			}
			add_ideas = HAI_politicized_army_idea
			hidden_effect = {
				if = {
					limit = { NOT = { has_template = "Police Rurale" } }
					division_template = {
						name = "Police Rurale"
						is_locked = yes
						regiments = {
							militia = { x = 0 y = 0 }
							militia = { x = 0 y = 1 }
							militia = { x = 0 y = 2 }
						}
						support = {
							military_police = { x = 0 y = 0 }
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 869 }
				create_unit = {
					division = "name = \"Police Rurale\" division_template = \"Police Rurale\" start_experience_factor = 0.4 start_equipment_factor = 0.65"
					owner = ROOT
					count = 1
					allow_spawning_on_enemy_provs = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 1189 }
				create_unit = {
					division = "name = \"Police Rurale\" division_template = \"Police Rurale\" start_experience_factor = 0.4 start_equipment_factor = 0.65"
					owner = ROOT
					count = 1
					allow_spawning_on_enemy_provs = yes
				}
			}
		}
	}
	
	focus = {
		id = HAI_wartime_powers
		icon = GFX_z_goal_wartime_powers
		prerequisite = { focus = HAI_strengthen_control_over_state_apparatus }
		x = 0
		y = 1
		relative_position_id = HAI_strengthen_control_over_state_apparatus
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_war = yes
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_wartime_powers"
			add_stability = -0.05
			add_ideas = HAI_wartime_powers_idea
			capital_scope = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = { controls_state = 869 }
				869 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = HAI_grant_asylum_to_jews
		icon = GFX_z_goal_grant_asylum_to_jews
		prerequisite = { focus = HAI_wartime_powers }
		x = 0
		y = 1
		relative_position_id = HAI_wartime_powers
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_war_with = GER
			GER = { has_government = fascism }
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_grant_asylum_to_jews"
			add_ideas = HAI_jewish_immigrants_idea
		}
	}
	
	focus = {
		id = HAI_increase_combat_readiness_of_army
		icon = GFX_z_goal_increase_combat_readiness_of_army_black
		prerequisite = {
			focus = HAI_create_rural_police
			focus = HAI_grant_asylum_to_jews
		}
		x = 1
		y = 1
		relative_position_id = HAI_create_rural_police
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_war = yes
			is_in_faction_with = USA
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_increase_combat_readiness_of_army"
			army_experience = 35
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 3
				category = land_doctrine
			}
			add_tech_bonus = {
				name = HAI_increase_combat_readiness_of_army
				bonus = 0.25
				uses = 2
				category = infantry_weapons
				category = artillery
				category = armor
			}
			add_equipment_to_stockpile = { type = infantry_equipment_0	amount = 1500	producer = USA }
			add_equipment_to_stockpile = { type = artillery_equipment_1	amount = 200	producer = USA }
			add_equipment_to_stockpile = { type = anti_tank_equipment_1	amount = 150	producer = USA }
			add_equipment_to_stockpile = { type = light_tank_chassis_1	amount = 100	producer = USA }
		}
	}
	
	focus = {
		id = HAI_fight_against_japan
		icon = GFX_z_goal_fight_against_japan
		prerequisite = { focus = HAI_increase_combat_readiness_of_army }
		mutually_exclusive = { focus = HAI_support_allies_in_europe }
		x = -1
		y = 1
		relative_position_id = HAI_increase_combat_readiness_of_army
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_war_with = JAP
			controls_state = 318
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_fight_against_japan"
			navy_experience = 35
			add_doctrine_cost_reduction = {
				name = HAI_fight_against_japan
				cost_reduction = 0.75
				uses = 1
				category = naval_doctrine
			}
			add_tech_bonus = {
				name = HAI_fight_against_japan
				bonus = 1.0
				uses = 1
				category = naval_equipment
			}
			add_tech_bonus = {
				name = HAI_fight_against_japan
				bonus = 1.0
				uses = 1
				category = cat_special_forces_generic
			}
			add_ideas = HAI_fight_against_japan_idea
			318 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					province = 4641
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 4641
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = HAI_support_allies_in_europe
		icon = GFX_z_goal_HAI_support_allies_in_europe
		prerequisite = { focus = HAI_increase_combat_readiness_of_army }
		mutually_exclusive = { focus = HAI_fight_against_japan }
		x = 1
		y = 1
		relative_position_id = HAI_increase_combat_readiness_of_army
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_war_with = GER
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_support_allies_in_europe"
			army_experience = 25
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.35
				uses = 2
				category = land_doctrine
			}
			add_tech_bonus = {
				name = HAI_support_allies_in_europe
				bonus = 0.75
				uses = 2
				category = armor
			}
			add_ideas = HAI_fight_against_germany
		}
	}
	
	focus = {
		id = HAI_create_haitian_air_force
		icon = GFX_z_goal_HAI_create_haitian_air_force
		prerequisite = {
			focus = HAI_fight_against_japan
			focus = HAI_support_allies_in_europe
		}
		x = 1
		y = 1
		relative_position_id = HAI_fight_against_japan
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			is_in_faction_with = USA
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_create_haitian_air_force"
			air_experience = 50
			add_doctrine_cost_reduction = {
				name = HAI_create_haitian_air_force
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
			add_tech_bonus = {
				name = HAI_create_haitian_air_force
				bonus = 1.0
				uses = 2
				category = air_equipment
			}
			add_equipment_to_stockpile = { type = small_plane_cas_airframe			amount = 70	producer = USA }
			add_equipment_to_stockpile = { type = small_plane_airframe				amount = 80	producer = USA }
			add_equipment_to_stockpile = { type = small_plane_naval_bomber_airframe	amount = 50	producer = USA }
			capital_scope = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = HAI_rubber_growing_program
		icon = GFX_z_goal_rubber_growing_program
		prerequisite = { focus = HAI_leskos_inauguration }
		x = 1
		y = 1
		relative_position_id = HAI_leskos_inauguration
		
		cost = 15
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			controls_state = 869
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
			add_ai_strategy = { type = build_building id = synthetic_refinery target = 869 value = 3 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_rubber_growing_program"
			add_ideas = HAI_haitian_national_debt_idea
			add_tech_bonus = {
				name = HAI_rubber_growing_program
				bonus = 2.0
				uses = 2
				category = synth_rubber_res
				category = synth_oil_res
			}
			869 = {
				set_variable = { synthetic_refinery_goal = 3 }
				subtract_from_variable = { synthetic_refinery_goal = building_level@synthetic_refinery }
				if = {
					limit = { check_variable = { synthetic_refinery_goal > 0 } }
					add_extra_state_shared_building_slots = var:synthetic_refinery_goal
				}
			}
			add_ideas = HAI_consequences_of_the_shada_program_idea
			if = {
				limit = {
					country_exists = USA
					NOT = { has_war_with = USA }
				}
				give_resource_rights = {
					receiver = USA
					state = capital_scope
					resources = { rubber }
				}
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HAI_thomas_fennell
			custom_effect_tooltip = empty_line_tooltip
			
			activate_mission = HAI_shada_program_mission
			custom_effect_tooltip = HAI_shada_program_mission_tasks_tt
		}
	}
	
	focus = {
		id = HAI_extend_terms_of_payment_of_state_debt
		icon = GFX_z_goal_extend_terms_of_payment_of_state_debt_gold
		prerequisite = { focus = HAI_rubber_growing_program }
		x = 0
		y = 1
		relative_position_id = HAI_rubber_growing_program
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_extend_terms_of_payment_of_state_debt"
			unlock_decision_tooltip = HAI_pay_off_government_debts
		}
	}
	
	focus = {
		id = HAI_revive_coffee_trade
		icon = GFX_z_goal_revive_coffee_trade
		prerequisite = { focus = HAI_innovations_in_agricultural_sector }
		x = 1
		y = 1
		relative_position_id = HAI_innovations_in_agricultural_sector
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_revive_coffee_trade"
			capital_scope = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			swap_ideas = {
				remove_idea = HAI_pernicious_situation_of_agriculture_idea_4
				add_idea = HAI_pernicious_situation_of_agriculture_idea_5
			}
			if = {
				limit = { has_idea = free_trade }
				custom_effect_tooltip = effect_by_economic_law_tt
				add_stability = 0.05
				add_offsite_building = { type = industrial_complex level = 1 }
			}
		}
	}
	
	focus = {
		id = HAI_railway_repairs
		icon = GFX_z_goal_railway_repairs
		prerequisite = { focus = HAI_leskos_inauguration }
		x = 5
		y = 1
		relative_position_id = HAI_leskos_inauguration
		
		cost = 12
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_railway_repairs"
			build_railway = {
				path = {
					4641 14691 14482 1594
				}
				level = 2
			}
			swap_ideas = {
				remove_idea = HAI_backward_transport_and_social_infrastructure_idea_2
				add_idea = HAI_backward_transport_and_social_infrastructure_idea_3
			}
		}
	}
	
	focus = {
		id = HAI_haitian_american_sugar_campaign
		icon = GFX_z_goal_HAI_haitian_american_sugar_campaign
		prerequisite = { focus = HAI_revive_coffee_trade }
		prerequisite = { focus = HAI_railway_repairs }
		x = 0
		y = 1
		relative_position_id = HAI_revive_coffee_trade
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_haitian_american_sugar_campaign"
			swap_ideas = {
				remove_idea = HAI_military_economic_dependence_on_united_states_idea_5
				add_idea = HAI_military_economic_dependence_on_united_states_idea_6
			}
			869 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			1189 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = HAI_expand_export_of_cash_crops
		icon = GFX_z_goal_expand_export_of_cash_crops
		prerequisite = { focus = HAI_extend_terms_of_payment_of_state_debt }
		prerequisite = { focus = HAI_haitian_american_sugar_campaign }
		mutually_exclusive = { focus = HAI_growing_food_crops }
		x = 0
		y = 1
		relative_position_id = HAI_extend_terms_of_payment_of_state_debt
		
		cost = 12
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_idea = free_trade
			num_of_civilian_factories > 9
			OR = {
				USA = { has_opinion = { target = ROOT value > 74 } }
				event_target:NW_france_scope = { has_opinion = { target = ROOT value > 74 } }
				ENG = { has_opinion = { target = ROOT value > 74 } }
			}
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_expand_export_of_cash_crops"
			add_offsite_building = { type = industrial_complex level = 1 }
			swap_ideas = {
				remove_idea = HAI_pernicious_situation_of_agriculture_idea_5
				add_idea = HAI_pernicious_situation_of_agriculture_idea_6_1
			}
		}
	}
	
	focus = {
		id = HAI_growing_food_crops
		icon = GFX_z_goal_growing_food_crops
		prerequisite = { focus = HAI_extend_terms_of_payment_of_state_debt }
		prerequisite = { focus = HAI_haitian_american_sugar_campaign }
		mutually_exclusive = { focus = HAI_expand_export_of_cash_crops }
		x = 0
		y = 1
		relative_position_id = HAI_haitian_american_sugar_campaign
		
		cost = 12
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_stability > 0.549
			num_of_civilian_factories > 11
			meta_trigger = {
				text = {
					[RULING_IDEOLOGY] > 0.75
				}
				RULING_IDEOLOGY = "[?current_party_ideology_group.GetTokenKey]"
			}
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_growing_food_crops"
			swap_ideas = {
				remove_idea = HAI_pernicious_situation_of_agriculture_idea_5
				add_idea = HAI_pernicious_situation_of_agriculture_idea_6_2
			}
		}
	}
	
	focus = {
		id = HAI_infrastructure_for_trade
		icon = GFX_z_goal_infrastructure_for_trade
		prerequisite = { focus = HAI_revive_coffee_trade }
		prerequisite = { focus = HAI_railway_repairs }
		x = 0
		y = 1
		relative_position_id = HAI_railway_repairs
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_infrastructure_for_trade"
			swap_ideas = {
				remove_idea = HAI_backward_transport_and_social_infrastructure_idea_3
				add_idea = HAI_backward_transport_and_social_infrastructure_idea_4
			}
			capital_scope = {
				add_resource = {
					type = steel
					amount = 2
				}
				add_resource = {
					type = rubber
					amount = 2
				}
				add_resource = {
					type = chromium
					amount = 2
				}
			}
		}
	}
	
	focus = {
		id = HAI_dartigs_reform
		icon = GFX_z_goal_HAI_dartigs_reform
		prerequisite = { focus = HAI_leskos_inauguration }
		x = 7
		y = 1
		relative_position_id = HAI_leskos_inauguration
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		cancel = {
			has_country_flag = HAI_calixtas_coup_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_dartigs_reform"
			add_research_slot = 1
			swap_ideas = {
				remove_idea = HAI_religious_setting__syncretic_catholicism_idea
				add_idea = HAI_religious_setting__dominance_of_catholicism_idea
			}
		}
	}
	
	
	
##########################
##### SECOND SECTION #####
##########################

	focus = {
		id = HAI_calixtas_coup
		icon = GFX_z_goal_kalkista
		x = 27
		y = 3
		offset = {
			x = 0
			y = -3
			trigger = {
				has_completed_focus = HAI_calixtas_coup
			}
		}
		offset = {
			x = -23
			y = 0
			trigger = {
				has_completed_focus = HAI_arrest_of_noirists
			}
		}
		offset = {
			x = -20
			y = 0
			trigger = {
				OR = {
					has_completed_focus = HAI_victory_of_the_liberal_front
					has_completed_focus = HAI_lorimers_victory
					has_completed_focus = HAI_PHC_victory
				}
			}
		}
		relative_position_id = HAI_approve_the_plebiscite
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		allow_branch = {
			NOT = { has_country_flag = HAI_calixtas_coup_fail_flag }
		}
		available = {
			has_country_flag = HAI_calixtas_coup_flag
			custom_trigger_tooltip = {
				always = no
				tooltip = TUR_focus_autocomplete_tt
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_calixtas_coup"
			effect_tooltip = {
				retire_country_leader = yes
				add_political_power = 50
				add_stability = -0.085
				set_party_name = { ideology = neutrality	long_name = HAI_calixta_regime			name = HAI_calixta_regime }
				set_party_name = { ideology = democratic	long_name = HAI_freedom_movement		name = HAI_freedom_movement }
				set_party_name = { ideology = fascism		long_name = HAI_national_peoples_party	name = HAI_national_peoples_party }
				add_country_leader_role = {
					character = HAI_demosthenes_petrus_calixte
					promote_leader = yes
					country_leader = {
						ideology = centrism
						expire = 1965.1.1
						traits = { a_political_opportunist }
					}
				}
				add_country_leader_role = {
					character = HAI_jean_price_mars
					promote_leader = yes
					country_leader = {
						ideology = conservatism
						expire = 1965.1.1
						traits = { defender_of_haitian_identity }
					}
				}
				if = {
					limit = {
						OR = {
							has_idea = HAI_apolitical_armed_forces_idea_1
							has_idea = HAI_apolitical_armed_forces_idea_2
							has_idea = HAI_apolitical_armed_forces_idea_3
						}
					}
					if = {
						limit = { has_idea = HAI_apolitical_armed_forces_idea_1 }
						remove_ideas = HAI_apolitical_armed_forces_idea_1
					}
					else_if = {
						limit = { has_idea = HAI_apolitical_armed_forces_idea_2 }
						remove_ideas = HAI_apolitical_armed_forces_idea_2
					}
					else_if = {
						limit = { has_idea = HAI_apolitical_armed_forces_idea_3 }
						remove_ideas = HAI_apolitical_armed_forces_idea_3
					}
				}
				if = {
					limit = {
						OR = {
							has_idea = HAI_consequences_of_petrushka_massacre_idea_1
							has_idea = HAI_consequences_of_petrushka_massacre_idea_1_1
							has_idea = HAI_consequences_of_petrushka_massacre_idea_2_1
						}
					}
					effect_tooltip = { remove_ideas = HAI_consequences_of_petrushka_massacre_idea_1 }
					hidden_effect = {
						remove_ideas = {
							HAI_consequences_of_petrushka_massacre_idea_1
							HAI_consequences_of_petrushka_massacre_idea_1_1
							HAI_consequences_of_petrushka_massacre_idea_2_1
						}
					}
				}
			}
			mark_focus_tree_layout_dirty = yes
		}
	}
	
	focus = {
		id = HAI_rise_of_noirism
		icon = GFX_z_goal_liberation
		prerequisite = { focus = HAI_calixtas_coup }
		mutually_exclusive = { focus = HAI_end_conflict_with_trujillo }
		x = -8
		y = 1
		relative_position_id = HAI_calixtas_coup
		
		cost = 2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			hidden_trigger = {
				NOT = { has_country_flag = HAI_end_noirists_calixtas_opposite_flag has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_rise_of_noirism"
			add_ideas = HAI_rise_of_noirism_idea
			activate_mission = HAI_preparing_coup
			activate_mission = HAI_bases_for_usa_navy
			hidden_effect = {
				country_event = { id = NWhaiti.61 days = 1 }
			}
		}
	}
	
	focus = {
		id = HAI_loyalty_of_military
		icon = GFX_z_goal_peoples_black_army
		prerequisite = { focus = HAI_rise_of_noirism }
		x = -4
		y = 1
		relative_position_id = HAI_rise_of_noirism
		
		cost = 15
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			has_country_flag = HAI_remove_blacks_from_command_flag
			hidden_trigger = {
				NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_loyalty_of_military"
			add_war_support = -0.13
			add_popularity = { ideology = var:current_party_ideology_group popularity = -0.13 }
			custom_effect_tooltip = HAI_during_the_noirist_coup_tt
			effect_tooltip = {
				add_manpower = 50000
				add_war_support = 0.15
			}
		}
	}
	
	focus = {
		id = HAI_engage_mulatto_opposition
		icon = GFX_focus_generic_industrialists
		prerequisite = { focus = HAI_loyalty_of_military }
		x = 0
		y = 1
		relative_position_id = HAI_loyalty_of_military
		
		cost = 2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			hidden_trigger = {
				NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_engage_mulatto_opposition"
			custom_effect_tooltip = HAI_during_the_noirist_coup_tt
			custom_effect_tooltip = HAI_engage_mulatto_opposition_tt
			effect_tooltip = {
				show_unit_leaders_tooltip = HAI_franck_lavaud
				show_unit_leaders_tooltip = HAI_antoine_levelt
			}
		}
	}
	
	focus = {
		id = HAI_support_student_movements
		icon = GFX_z_goal_etnofication_of_the_education_system
		prerequisite = { focus = HAI_rise_of_noirism }
		x = -2
		y = 1
		relative_position_id = HAI_rise_of_noirism
		
		cost = 12
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			has_country_flag = HAI_amendments_to_education_system_flag
			hidden_trigger = {
				NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_support_student_movements"
			country_event = NWhaiti.26
		}
	}
	
	focus = {
		id = HAI_spirit_of_progressivism
		icon = GFX_z_goal_translation_of_scientific_and_military_works_into_Dari
		prerequisite = { focus = HAI_support_student_movements }
		x = 0
		y = 1
		relative_position_id = HAI_support_student_movements
		
		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			hidden_trigger = {
				NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_spirit_of_progressivism"
			add_ideas = HAI_progressive_sentiments_idea
		}
	}
	
	focus = {
		id = HAI_form_liberal_coalition
		icon = GFX_z_national_liber
		prerequisite = { focus = HAI_engage_mulatto_opposition }
		prerequisite = { focus = HAI_spirit_of_progressivism }
		x = 1
		y = 1
		relative_position_id = HAI_engage_mulatto_opposition
		
		cost = 4
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			hidden_trigger = {
				NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_form_liberal_coalition"
			add_popularity = { ideology = communism popularity = -0.045 }
			add_popularity = { ideology = fascism popularity = -0.045 }
			
			set_temp_variable = { temp1 = 0 }
			set_temp_variable = { temp2 = party_popularity@democratic }
			multiply_temp_variable  = { temp2 = 0.35 }
			subtract_from_temp_variable = { temp1 = temp2 }
			add_popularity = { ideology = neutrality popularity = temp1 }
			add_popularity = { ideology = democratic popularity = temp2 }
		}
	}
	
	focus = {
		id = HAI_alliance_with_voodoo
		icon = GFX_z_goal_revive_voodoo
		prerequisite = { focus = HAI_rise_of_noirism }
		x = 0
		y = 1
		relative_position_id = HAI_rise_of_noirism
		
		cost = 11
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			has_idea = HAI_religious_setting__dominance_of_catholicism_idea
			hidden_trigger = {
				NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_alliance_with_voodoo"
			add_ideas = HAI_instability_among_voodoo
		}
	}
	
	focus = {
		id = HAI_preparation_of_nationalist_cells
		icon = GFX_focus_generic_infiltration
		prerequisite = { focus = HAI_alliance_with_voodoo }
		x = 0
		y = 1
		relative_position_id = HAI_alliance_with_voodoo
		
		cost = 13
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			hidden_trigger = {
				NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_preparation_of_nationalist_cells"
			unlock_decision_category_tooltip = HAI_preparation_of_nationalist_cells_category
			custom_effect_tooltip = HAI_preparation_of_nationalist_cells_tt
		}
	}
	
	focus = {
		id = HAI_ignite_racial_conflict
		icon = GFX_z_goal_JAP_parliament_elections
		prerequisite = { focus = HAI_preparation_of_nationalist_cells }
		x = 0
		y = 1
		relative_position_id = HAI_preparation_of_nationalist_cells
		
		cost = 12
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			hidden_trigger = {
				NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_ignite_racial_conflict"
			if = {
				limit = { NOT = { check_variable = { stability = 0 } } }
				custom_effect_tooltip = HAI_ignite_racial_conflict_tt
				set_temp_variable = { temp1 = 0.01 }
				divide_temp_variable = { temp1 = stability }
				divide_temp_variable = { temp1 = 10 }
			}
			else = { set_temp_variable = { temp1 = 0.1 } }
			add_popularity = { ideology = fascism popularity = temp1 }
			country_event = { id = NWhaiti.27 hours = 3 }
		}
	}
	
	focus = {
		id = HAI_black_jacobins
		icon = GFX_focus_generic_workers
		prerequisite = { focus = HAI_rise_of_noirism }
		x = 2
		y = 2
		relative_position_id = HAI_rise_of_noirism
		
		cost = 12
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			hidden_trigger = {
				NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_black_jacobins"
			unlock_decision_tooltip = HAI_arrange_mass_strikes
			unlock_decision_tooltip = HAI_creation_of_guerrilla_underground
		}
	}
	
	focus = {
		id = HAI_nation_and_revolution
		icon = GFX_z_goal_back_hard_work
		prerequisite = { focus = HAI_black_jacobins }
		prerequisite = { focus = HAI_preparation_of_nationalist_cells }
		x = 0
		y = 1
		relative_position_id = HAI_black_jacobins
		
		cost = 4
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			hidden_trigger = {
				NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_nation_and_revolution"
			add_popularity = { ideology = fascism popularity = 0.035 }
			unlock_decision_tooltip = HAI_dissemination_of_national_revolutionary_propaganda
			unlock_decision_tooltip = HAI_attack_on_the_national_palace
		}
	}
	
	
	focus = {
		id = HAI_end_conflict_with_trujillo
		icon = GFX_z_goal_stop_conflict_with_truhilio
		prerequisite = { focus = HAI_calixtas_coup }
		mutually_exclusive = { focus = HAI_rise_of_noirism }
		x = 0
		y = 1
		relative_position_id = HAI_calixtas_coup
		
		cost = 7
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			hidden_trigger = {
				NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_end_conflict_with_trujillo"
			add_war_support = -0.085
			add_popularity = { ideology = neutrality popularity = -0.085 }
			add_opinion_modifier = { target = DOM modifier = HAI_end_conflict_with_trujillo_op }
			DOM = { add_opinion_modifier = { target = ROOT modifier = HAI_end_conflict_with_trujillo_op } }
			random_owned_controlled_state = {
				prioritize = { 1189 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				hidden_effect = { add_state_modifier = { modifier = { local_building_slots = -1 } } }
				effect_tooltip = { add_extra_state_shared_building_slots = -1 }
			}
			DOM = {
				random_owned_controlled_state = {
					prioritize = { 870 }
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			if = {
				limit = { NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists } }
				activate_mission = HAI_formation_of_liberal_coalition
				hidden_effect = {
					country_event = { id = NWhaiti.61 days = 1 }
				}
			}
		}
	}
	
	focus = {
		id = HAI_achieve_american_recognition
		icon = GFX_focus_generic_befriend_usa
		prerequisite = { focus = HAI_end_conflict_with_trujillo }
		x = -1
		y = 1
		relative_position_id = HAI_end_conflict_with_trujillo
		
		cost = 7
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			country_exists = USA
			NOT = { has_war_with = USA }
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_achieve_american_recognition"
			add_offsite_building = { type = industrial_complex level = 1 }
			diplomatic_relation = {
				country = USA
				relation = non_aggression_pact
				active = yes
			}
			add_opinion_modifier = { target = USA modifier = HAI_achieve_american_recognition_op }
			USA = { add_opinion_modifier = { target = ROOT modifier = HAI_achieve_american_recognition_op } }
		}
	}
	
	focus = {
		id = HAI_bases_for_usa_navy
		icon = GFX_z_goal_USA_base
		prerequisite = { focus = HAI_achieve_american_recognition }
		x = 0
		y = 1
		relative_position_id = HAI_achieve_american_recognition
		
		cost = 7
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			controls_state = 318
			country_exists = USA
			NOT = { has_war_with = USA }
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_bases_for_usa_navy"
			diplomatic_relation = {
				country = USA
				relation = docking_rights
				active = yes
			}
			318 = {
				add_building_construction = {
					type = naval_base
					level = 2
					province = 4641
					instant_build = yes
				}
			}
			if = {
				limit = { NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists } }
				activate_mission = HAI_national_liberation_strikes_in_ports
			}
		}
	}
	
	focus = {
		id = HAI_amendments_to_education_system
		icon = GFX_z_goal_change_education_system
		prerequisite = { focus = HAI_end_conflict_with_trujillo }
		x = 1
		y = 1
		relative_position_id = HAI_end_conflict_with_trujillo
		
		cost = 7
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_amendments_to_education_system"
			add_ideas = HAI_amendments_to_education_system_idea
			if = {
				limit = { NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists } }
				activate_mission = HAI_student_protests
			}
		}
	}
	
	focus = {
		id = HAI_chasing_voodoo
		icon = GFX_z_goal_stop_vodoo
		prerequisite = { focus = HAI_end_conflict_with_trujillo }
		x = 3
		y = 1
		relative_position_id = HAI_end_conflict_with_trujillo
		
		cost = 7
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
		}
		bypass = {
			has_idea = HAI_religious_setting__dominance_of_catholicism_idea
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_chasing_voodoo"
			if = {
				limit = { has_idea = HAI_religious_setting__syncretic_catholicism_idea }
				swap_ideas = {
					remove_idea = HAI_religious_setting__syncretic_catholicism_idea
					add_idea = HAI_religious_setting__dominance_of_catholicism_idea
				}
			}
			if = {
				limit = { NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists } }
				activate_mission = HAI_attacks_on_catholic_churches
			}
		}
	}
	
	focus = {
		id = HAI_remove_blacks_from_command
		icon = GFX_z_goal_increase_combat_readiness_of_army_black
		prerequisite = { focus = HAI_amendments_to_education_system }
		prerequisite = { focus = HAI_chasing_voodoo }
		x = 1
		y = 1
		relative_position_id = HAI_amendments_to_education_system
		
		cost = 7
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_remove_blacks_from_command"
			add_manpower = -80000
			if = {
				limit = { NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists } }
				activate_mission = HAI_mass_sabotage_in_the_army
			}
			HAI_paul_eugene_magloire = { effect_tooltip = { remove_unit_leader_role = yes } set_character_flag = remove_unit_leader_role_flag }
			show_unit_leaders_tooltip = HAI_franck_lavaud
			show_unit_leaders_tooltip = HAI_antoine_levelt
		}
	}
	
	focus = {
		id = HAI_military_cooperation_with_dominican_republic
		icon = GFX_z_goal_DOM_strongest_army
		prerequisite = { focus = HAI_bases_for_usa_navy }
		prerequisite = { focus = HAI_remove_blacks_from_command }
		x = 1
		y = 1
		relative_position_id = HAI_bases_for_usa_navy
		
		cost = 7
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			country_exists = DOM
			NOT = { has_war_with = DOM }
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_military_cooperation_with_dominican_republic"
			add_popularity = { ideology = var:current_party_ideology_group popularity = -0.105 }
			diplomatic_relation = {
				country = DOM
				relation = non_aggression_pact
				active = yes
			}
			give_military_access = DOM
			give_guarantee = DOM
			DOM = {
				give_military_access = ROOT
				give_guarantee = ROOT
			}
		}
	}
	
	focus = {
		id = HAI_settle_territorial_dispute
		icon = GFX_z_goal_HAI_revive_the_black_spirit_of_dominicana
		prerequisite = { focus = HAI_military_cooperation_with_dominican_republic }
		x = 0
		y = 1
		relative_position_id = HAI_military_cooperation_with_dominican_republic
		
		cost = 2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			hidden_trigger = { NOT = { has_completed_focus = HAI_coup_of_noirists has_completed_focus = HAI_arrest_of_noirists } }
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_settle_territorial_dispute"
			remove_ideas = HAI_liberal_coalition_idea
			if = {
				limit = { has_idea = HAI_underground_labor_movement_idea }
				remove_ideas = HAI_underground_labor_movement_idea
			}
			if = {
				limit = { has_idea = HAI_instability_among_voodoo }
				remove_ideas = HAI_instability_among_voodoo
			}
			custom_effect_tooltip = HAI_settle_territorial_dispute_tt
			hidden_effect = {
				if = {
					limit = {
						meta_trigger = {
							text = {
								[RULING_IDEOLOGY] < 0.45
							}
							RULING_IDEOLOGY = "[?current_party_ideology_group.GetTokenKey]"
						}
						has_stability < 0.2
					}
					country_event = { id = NWhaiti.23 hours = 3 }
				}
				else = {
					country_event = { id = NWhaiti.24 hours = 3 }
				}
			}
		}
	}
	
	focus = {
		id = HAI_arrest_of_noirists
		icon = GFX_z_goal_liberation
		prerequisite = { focus = HAI_settle_territorial_dispute }
		mutually_exclusive = { focus = HAI_coup_of_noirists }
		x = 0
		y = 1
		relative_position_id = HAI_settle_territorial_dispute
		
		cost = 9
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		allow_branch = {
			NOT = {
				has_country_flag = HAI_calixtas_coup_fail_flag
				has_completed_focus = HAI_coup_of_noirists
			}
		}
		available = {
			has_country_leader = { character = HAI_demosthenes_petrus_calixte ruling_only = yes }
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_arrest_of_noirists"
			add_stability = 0.185
			add_manpower = -1000
			add_popularity = { ideology = neutrality popularity = 0.25 }
			add_popularity = { ideology = democratic popularity = -0.15 }
			set_temp_variable = { temp1 = 0 }
			subtract_from_temp_variable = { temp1 = party_popularity@communism }
			add_popularity = { ideology = communism popularity = temp1 }
			mark_focus_tree_layout_dirty = yes
		}
	}
	
	focus = {
		id = HAI_entry_of_dominican_troops
		icon = GFX_z_goal_dominican_army_in_haiti
		prerequisite = { focus = HAI_arrest_of_noirists }
		x = 0
		y = 1
		relative_position_id = HAI_arrest_of_noirists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		available = {
			country_exists = DOM
			NOT = { has_war_with = DOM }
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_entry_of_dominican_troops"
			add_ideas = HAI_dependence_on_trujillo_idea
		}
	}
	
	focus = {
		id = HAI_haitis_new_destination
		icon = GFX_z_goal_new_hairi_fate
		prerequisite = { focus = HAI_entry_of_dominican_troops }
		x = 0
		y = 1
		relative_position_id = HAI_entry_of_dominican_troops
		
		cost = 15
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_haitis_new_destination"
			add_popularity = { ideology = neutrality popularity = 0.1 }
			add_stability = 0.1
			add_war_support = 0.1
			add_timed_idea = { idea = HAI_emigration_of_blacks_idea days = 795 }
			every_other_country = {
				limit = {
					original_tag = USA
					original_tag = CUB
					original_tag = BRA
				}
				country_event = { id = NWhaiti.25 hours = 3 }
			}
		}
	}
	
	focus = {
		id = HAI_coup_of_noirists
		icon = GFX_z_goal_empire_power
		prerequisite = {
			focus = HAI_form_liberal_coalition
			focus = HAI_ignite_racial_conflict
			focus = HAI_nation_and_revolution
			focus = HAI_settle_territorial_dispute
		}
		mutually_exclusive = { focus = HAI_arrest_of_noirists }
		x = 0
		y = 2
		offset = {
			x = 4
			y = 0
			trigger = {
				has_completed_focus = HAI_coup_of_noirists
			}
		}
		relative_position_id = HAI_ignite_racial_conflict
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		allow_branch = {
			NOT = {
				has_country_flag = HAI_calixtas_coup_fail_flag
				has_completed_focus = HAI_arrest_of_noirists
			}
		}
		available = {
			custom_trigger_tooltip = {
				always = no
				tooltip = TUR_focus_autocomplete_tt
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_coup_of_noirists"
			effect_tooltip = {
				HAI_demosthenes_petrus_calixte = { retire = yes }
				add_political_power = 200
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			mark_focus_tree_layout_dirty = yes
		}
	}
	
	focus = {
		id = HAI_hold_elections
		icon = GFX_z_goal_goverment_elections
		prerequisite = { focus = HAI_coup_of_noirists }
		x = 0
		y = 2
		offset = {
			x = 0
			y = -1
			trigger = {
				has_completed_focus = HAI_coup_of_noirists
			}
		}
		relative_position_id = HAI_coup_of_noirists
		
		cost = 2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_hold_elections"
			set_temp_variable = { temp_dem = party_popularity@democratic }
			set_temp_variable = { temp_com = party_popularity@communism }
			set_temp_variable = { temp_fas = party_popularity@fascism }
			if = {
				limit = {
					OR = {
						AND = {
							check_variable = { var = temp_dem value = temp_com compare = greater_than_or_equals }
							check_variable = { var = temp_dem value = temp_fas compare = greater_than_or_equals }
						}
						AND = {
							is_ai = yes
							has_country_flag = NW_HAI_AI_DEMOCRATIC
						}
					}
					if = {
						limit = { is_ai = yes }
						NOT = {
							has_country_flag = NW_HAI_AI_FASCIST
							has_country_flag = NW_HAI_AI_COMMUNIST
						}
					}
				}
				country_event = { id = NWhaiti.29 hours = 3 }
			}
			else_if = {
				limit = {
					OR = {
						AND = {
							check_variable = { var = temp_com value = temp_dem compare = greater_than_or_equals }
							check_variable = { var = temp_com value = temp_fas compare = greater_than_or_equals }
						}
						AND = {
							is_ai = yes
							has_country_flag = NW_HAI_AI_COMMUNIST
						}
					}
					if = {
						limit = { is_ai = yes }
						NOT = {
							has_country_flag = NW_HAI_AI_DEMOCRATIC
							has_country_flag = NW_HAI_AI_FASCIST
						}
					}
				}
				country_event = { id = NWhaiti.30 hours = 3 }
			}
			else_if = {
				limit = {
					OR = {
						AND = {
							check_variable = { var = temp_fas value = temp_dem compare = greater_than_or_equals }
							check_variable = { var = temp_fas value = temp_com compare = greater_than_or_equals }
						}
						AND = {
							is_ai = yes
							has_country_flag = NW_HAI_AI_FASCIST
						}
					}
					if = {
						limit = { is_ai = yes }
						NOT = {
							has_country_flag = NW_HAI_AI_DEMOCRATIC
							has_country_flag = NW_HAI_AI_COMMUNIST
						}
					}
				}
				country_event = { id = NWhaiti.31 hours = 3 }
			}
		}
	}
	
	
##############################
##### DEMOCRATIC SECTION #####
##############################
	
	focus = {
		id = HAI_victory_of_the_liberal_front
		icon = GFX_z_goal_HAI_victory_of_the_liberal_front
		prerequisite = { focus = HAI_hold_elections }
		mutually_exclusive = {
			focus = HAI_lorimers_victory
			focus = HAI_PHC_victory
		}
		x = -17
		y = 1
		offset = {
			x = 17
			y = 0
			trigger = {
				has_completed_focus = HAI_victory_of_the_liberal_front
			}
		}
		relative_position_id = HAI_hold_elections
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		allow_branch = {
			NOT = {
				has_country_flag = HAI_calixtas_coup_fail_flag
				has_completed_focus = HAI_arrest_of_noirists
				has_completed_focus = HAI_lorimers_victory
				has_completed_focus = HAI_PHC_victory
			}
		}
		available = {
			custom_trigger_tooltip = {
				always = no
				tooltip = TUR_focus_autocomplete_tt
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_victory_of_the_liberal_front"
			effect_tooltip = {
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			mark_focus_tree_layout_dirty = yes
		}
	}
	
	focus = {
		id = HAI_countrys_reconstruction_program
		icon = GFX_z_goal_countrys_reconstruction_program
		prerequisite = { focus = HAI_victory_of_the_liberal_front }
		x = 0
		y = 1
		relative_position_id = HAI_victory_of_the_liberal_front
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_countrys_reconstruction_program"
			add_timed_idea = { idea = HAI_countrys_reconstruction_program_idea days = 120 }
			country_event = { id = NWhaiti.34 hours = 3 }
		}
	}
	
	focus = {
		id = HAI_revive_an_apolitical_army
		icon = GFX_z_goal_revive_an_apolitical_army_black
		prerequisite = { focus = HAI_countrys_reconstruction_program }
		x = -7
		y = 1
		relative_position_id = HAI_countrys_reconstruction_program
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			custom_trigger_tooltip = {
				tooltip = HAI_revive_an_apolitical_army_tt
				NOT = {
					has_idea = HAI_internal_credit_idea
					has_idea = HAI_debts_to_american_campaigns_idea
				}
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_revive_an_apolitical_army"
			swap_ideas = {
				remove_idea = HAI_military_economic_dependence_on_united_states_idea_liberal_front_2
				add_idea = HAI_american_military_leadership_idea
			}
		}
	}
	
	focus = {
		id = HAI_national_defense_plan
		icon = GFX_z_goal_HAI_national_defense_plan
		prerequisite = { focus = HAI_revive_an_apolitical_army }
		x = 0
		y = 1
		relative_position_id = HAI_revive_an_apolitical_army
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_national_defense_plan"
			add_ideas = HAI_national_defense_plan_idea
		}
	}
	
	focus = {
		id = HAI_maintain_military_ties_with_united_states
		icon = GFX_z_goal_HAI_maintain_military_ties_with_united_states
		prerequisite = { focus = HAI_national_defense_plan }
		x = 0
		y = 1
		relative_position_id = HAI_national_defense_plan
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
			USA = {
				OR = {
					NOT = { has_government = democratic }
					has_war_with = ROOT
				}
			}
		}
		select_effect = {
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_maintain_military_ties_with_united_states"
			army_experience = 20
			navy_experience = 25
			add_doctrine_cost_reduction = {
				name = HAI_maintain_military_ties_with_united_states
				cost_reduction = 0.5
				uses = 3
				category = cat_marines_doctrine
			}
			add_tech_bonus = {
				name = HAI_maintain_military_ties_with_united_states
				bonus = 0.25
				uses = 4
				category = naval_equipment
			}
			USA = {
				if = {
					limit = {
						OR = {
							AND = {
								has_opinion = { target = ROOT value < 45 }
								NOT = { has_non_aggression_pact_with = ROOT }
							}
							AND = {
								has_opinion = { target = ROOT value < 75 }
								has_non_aggression_pact_with = ROOT
							}
						}
					}
					custom_effect_tooltip = HAI_maintain_military_ties_with_united_states_tt
				}
				else = {
					if = {
						limit = {
							has_opinion = { target = ROOT value > 44 }
							NOT = { has_non_aggression_pact_with = ROOT }
						}
						diplomatic_relation = { country = ROOT relation = non_aggression_pact active = yes }
					}
					if = {
						limit = {
							has_opinion = { target = ROOT value > 74 }
						}
						add_to_tech_sharing_group = HAI_USA_science_group
						ROOT = { add_to_tech_sharing_group = HAI_USA_science_group }
					}
				}
			}
		}
	}

	focus = {
		id = HAI_end_trujillo
		icon = GFX_z_goal_kill_trujillo
		prerequisite = { focus = HAI_maintain_military_ties_with_united_states }
		x = -4
		y = 1
		relative_position_id = HAI_maintain_military_ties_with_united_states
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
			DOM = {
				OR = {
					has_war_with = ROOT
					is_in_faction_with = ROOT
					is_subject_of = ROOT
					exists = no
				}
			}
		}
		select_effect = {
		}
		
		will_lead_to_war_with = DOM
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_end_trujillo"
			create_wargoal = {
				type = topple_government
				target = DOM
				expire = 0
			}
		}
	}

	focus = {
		id = HAI_approve_an_anti_communist_course
		icon = GFX_z_goal_approve_an_anti_communist_course
		prerequisite = { focus = HAI_end_trujillo }
		x = 0
		y = 1
		relative_position_id = HAI_end_trujillo
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_approve_an_anti_communist_course"
			USA = { add_opinion_modifier = { target = ROOT modifier = HAI_approve_an_anti_communist_course_plus_op } }
			SOV = { add_opinion_modifier = { target = ROOT modifier = HAI_approve_an_anti_communist_course_minus_op } }
			swap_ideas = {
				remove_idea = HAI_american_military_leadership_idea
				add_idea = HAI_american_military_leadership_idea_2
			}
		}
	}

	focus = {
		id = HAI_volunteers_for_war_in_africa
		icon = GFX_z_goal_HAI_volunteers_for_war_in_africa
		prerequisite = { focus = HAI_approve_an_anti_communist_course }
		x = -1
		y = 1
		relative_position_id = HAI_approve_an_anti_communist_course
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_volunteers_for_war_in_africa"
			swap_ideas = {
				remove_idea = HAI_american_military_leadership_idea_2
				add_idea = HAI_american_military_leadership_idea_3
			}
		}
	}

	focus = {
		id = HAI_development_of_military_infrastructure
		icon = GFX_focus_generic_industry_3
		prerequisite = { focus = HAI_approve_an_anti_communist_course }
		x = 1
		y = 1
		relative_position_id = HAI_approve_an_anti_communist_course
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_development_of_military_infrastructure"
			add_equipment_to_stockpile = { type = transport_plane_equipment amount = 20 producer = USA }
			add_equipment_to_stockpile = { type = convoy amount = 30 producer = USA }
			add_equipment_to_stockpile = { type = train_equipment amount = 3 producer = USA }
			if = {
				limit = { NOT = { has_tech = radio_detection } }
				set_technology = { radio_detection = 1 }
			}
			capital_scope = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = radar_station
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 869 }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = radar_station
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = HAI_creating_an_elite_army
		icon = GFX_z_goal_creating_an_elite_army
		prerequisite = { focus = HAI_maintain_military_ties_with_united_states }
		x = -1
		y = 1
		relative_position_id = HAI_maintain_military_ties_with_united_states
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_creating_an_elite_army"
			add_tech_bonus = {
				name = HAI_creating_an_elite_army
				bonus = 1.0
				uses = 2
				category = special_forces_tech
			}
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.35
				uses = 2
				category = cat_superior_firepower
			}
			capital_scope = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = HAI_purchase_of_tanks_and_aircraft
		icon = GFX_z_goal_purchase_of_tanks_and_aircraft
		prerequisite = { focus = HAI_creating_an_elite_army }
		x = 0
		y = 1
		relative_position_id = HAI_creating_an_elite_army
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_purchase_of_tanks_and_aircraft"
			army_experience = 30
			air_experience = 30
			if = {
				limit = { country_exists = USA }
				add_equipment_to_stockpile = { type = light_tank_chassis_1 amount = 80 producer = USA variant_name = "M2A2" }
				add_equipment_to_stockpile = { type = small_plane_airframe amount = 50 producer = USA variant_name = "P-35A" }
			}
			add_tech_bonus = {
				name = HAI_purchase_of_tanks_and_aircraft
				bonus = 1.0
				uses = 1
				category = armor
				category = air_equipment
			}
		}
	}

	focus = {
		id = HAI_patrol_and_security_vehicles
		icon = GFX_z_goal_patrol_and_security_vehicles
		prerequisite = { focus = HAI_purchase_of_tanks_and_aircraft }
		x = 0
		y = 1
		relative_position_id = HAI_purchase_of_tanks_and_aircraft
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_patrol_and_security_vehicles"
			random_owned_controlled_state = {
				prioritize = { 869 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = {
					limit = {
						NOT = { has_tech = armored_car1 }
					}
					set_technology = {
						armored_car1 = 1
					}
				}
				add_equipment_to_stockpile = { type = armored_car_equipment amount = 150 }
				if = {
					limit = { NOT = { has_template = "Escouade de Patrouille" } }
					division_template = {
						name = "Escouade de Patrouille"
						regiments = {
							armored_car = { x = 0 y = 0 }
							armored_car = { x = 0 y = 1 }
							motorized = { x = 1 y = 0 }
							motorized = { x = 1 y = 1 }
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = HAI_preparing_for_economic_liberation
		icon = GFX_z_goal_preparing_for_economic_liberation
		prerequisite = { focus = HAI_countrys_reconstruction_program }
		x = -2
		y = 1
		relative_position_id = HAI_countrys_reconstruction_program
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
			NOT = { has_idea = HAI_countrys_reconstruction_program_idea }
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_preparing_for_economic_liberation"
			modify_timed_idea = { idea = HAI_countrys_reconstruction_program_idea days = 70 }
			swap_ideas = {
				remove_idea = HAI_countrys_reconstruction_program_idea
				add_idea = HAI_countrys_reconstruction_program_idea_2
			}
		}
	}
	
	focus = {
		id = HAI_nationalize_sfc
		icon = GFX_z_goal_nationalize_sfc
		prerequisite = { focus = HAI_preparing_for_economic_liberation }
		x = -1
		y = 1
		relative_position_id = HAI_preparing_for_economic_liberation
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_nationalize_sfc"
			add_stability = 0.055
			add_popularity = { ideology = var:current_party_ideology_group popularity = 0.055 }
			random_owned_controlled_state = {
				prioritize = { 1189 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_opinion_modifier = { target = USA modifier = HAI_nationalize_sfc_op }
			USA = { add_opinion_modifier = { target = ROOT modifier = HAI_nationalize_sfc_op } }
			swap_ideas = {
				remove_idea = HAI_military_economic_dependence_on_united_states_idea_2
				add_idea = HAI_military_economic_dependence_on_united_states_idea_liberal_front_1
			}
			swap_ideas = {
				remove_idea = HAI_pernicious_situation_of_agriculture_idea_2
				add_idea = HAI_pernicious_situation_of_agriculture_idea_liberal_front_1
			}
			add_ideas = HAI_debts_to_american_campaigns_idea
		}
	}
	
	focus = {
		id = HAI_attract_public_donations
		icon = GFX_z_goal_attract_public_donations
		prerequisite = { focus = HAI_nationalize_sfc }
		x = 0
		y = 1
		relative_position_id = HAI_nationalize_sfc
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_attract_public_donations"
			add_stability = -0.095
			add_timed_idea = { idea = HAI_internal_credit_idea days = 240 }
			if = {
				limit = { has_idea = HAI_debts_to_american_campaigns_idea }
				remove_ideas = HAI_debts_to_american_campaigns_idea
			}
		}
	}
	
	focus = {
		id = HAI_construction_of_power_plants
		icon = GFX_z_goal_construction_of_power_plants
		prerequisite = { focus = HAI_national_defense_plan }
		prerequisite = { focus = HAI_nationalize_sfc }
		x = 2
		y = 1
		relative_position_id = HAI_national_defense_plan
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_construction_of_power_plants"
			swap_ideas = {
				remove_idea = HAI_pernicious_situation_of_agriculture_idea_liberal_front_1
				add_idea = HAI_pernicious_situation_of_agriculture_idea_liberal_front_2
			}
			unlock_decision_tooltip = HAI_construction_of_peligr_dam
		}
	}
	
	focus = {
		id = HAI_purchase_foreign_equipment
		icon = GFX_z_goal_purchase_foreign_equipment
		prerequisite = { focus = HAI_construction_of_power_plants }
		prerequisite = { focus = HAI_attract_public_donations }
		x = -1
		y = 1
		relative_position_id = HAI_construction_of_power_plants
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_idea = free_trade
			USA = { has_opinion = { target = ROOT value > 60 } }
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_purchase_foreign_equipment"
			swap_ideas = {
				remove_idea = HAI_pernicious_situation_of_agriculture_idea_liberal_front_2
				add_idea = HAI_pernicious_situation_of_agriculture_idea_liberal_front_3
			}
		}
	}
	
	focus = {
		id = HAI_pay_off_external_debt
		icon = GFX_z_goal_HAI_pay_off_external_debt
		prerequisite = { focus = HAI_construction_of_power_plants }
		prerequisite = { focus = HAI_attract_public_donations }
		x = 1
		y = 1
		relative_position_id = HAI_construction_of_power_plants
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			NOT = { has_idea = HAI_internal_credit_idea }
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_pay_off_external_debt"
			swap_ideas = {
				remove_idea = HAI_military_economic_dependence_on_united_states_idea_liberal_front_1
				add_idea = HAI_military_economic_dependence_on_united_states_idea_liberal_front_2
			}
		}
	}
	
	focus = {
		id = HAI_development_of_artibonite_valley
		icon = GFX_z_goal_development_of_artibonite_valley
		prerequisite = { focus = HAI_purchase_foreign_equipment }
		prerequisite = { focus = HAI_pay_off_external_debt }
		x = 1
		y = 1
		relative_position_id = HAI_purchase_foreign_equipment
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			controls_state = 869
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_development_of_artibonite_valley"
			869 = {
				add_extra_state_shared_building_slots = 3
			}
			add_timed_idea = { idea = HAI_artibonite_valley_development_program_idea days = 180 }
			hidden_effect = {
				set_variable = { target_num_of_industrial_complex = 869.industrial_complex_level }
				add_to_variable = { target_num_of_industrial_complex = 2 }
			}
			custom_effect_tooltip = empty_line_tooltip
			
			activate_mission = HAI_development_of_artibonite_valley_mission
			custom_effect_tooltip = HAI_development_of_artibonite_valley_mission_tasks_tt
		}
	}
	
	focus = {
		id = HAI_financing_of_tourism_industry
		icon = GFX_z_goal_financing_of_tourism_industry
		prerequisite = { focus = HAI_development_of_artibonite_valley }
		x = 0
		y = 1
		relative_position_id = HAI_development_of_artibonite_valley
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			custom_trigger_tooltip = {
				tooltip = HAI_backward_transport_and_social_infrastructure_idea__NOT_tt
				NOT = {
					has_idea = HAI_backward_transport_and_social_infrastructure_idea_1
					has_idea = HAI_backward_transport_and_social_infrastructure_idea_2
					has_idea = HAI_backward_transport_and_social_infrastructure_idea_3
					has_idea = HAI_backward_transport_and_social_infrastructure_idea_4
					has_idea = HAI_backward_transport_and_social_infrastructure_idea_liberal_front_1
					has_idea = HAI_backward_transport_and_social_infrastructure_idea_liberal_front_2
				}
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_financing_of_tourism_industry"
			add_ideas = HAI_development_of_tourism_industry_idea
		}
	}
	
	focus = {
		id = HAI_international_exhibition_in_porto_au_prince
		icon = GFX_z_goal_HAI_international_exhibition_in_porto_au_prince
		prerequisite = { focus = HAI_financing_of_tourism_industry }
		x = 0
		y = 1
		relative_position_id = HAI_financing_of_tourism_industry
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_international_exhibition_in_porto_au_prince"
			country_event = { id = NWhaiti.35 hours = 3 }
		}
	}
	
	focus = {
		id = HAI_restore_haitian_roads
		icon = GFX_z_goal_restore_haitian_roads
		prerequisite = { focus = HAI_preparing_for_economic_liberation }
		x = 1
		y = 1
		relative_position_id = HAI_preparing_for_economic_liberation
		
		cost = 12
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_restore_haitian_roads"
			build_railway = {
				path = {
					4641 14691 14482 1594
				}
				level = 1
			}
			capital_scope = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 869 }
				limit = { infrastructure < 5 }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			swap_ideas = {
				remove_idea = HAI_backward_transport_and_social_infrastructure_idea_2
				add_idea = HAI_backward_transport_and_social_infrastructure_idea_liberal_front_1
			}
			add_timed_idea = { idea = HAI_economic_burden_idea days = 120 }
		}
	}
	
	focus = {
		id = HAI_rural_development_campaign
		icon = GFX_z_goal_rural_development_campaign
		prerequisite = { focus = HAI_restore_haitian_roads }
		x = 0
		y = 1
		relative_position_id = HAI_restore_haitian_roads
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_rural_development_campaign"
			random_owned_controlled_state = {
				prioritize = { 869 }
				add_extra_state_shared_building_slots = 1
				if = {
					limit = { infrastructure < 5 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 1189 }
				add_extra_state_shared_building_slots = 1
			}
			swap_ideas = {
				remove_idea = HAI_backward_transport_and_social_infrastructure_idea_liberal_front_1
				add_idea = HAI_backward_transport_and_social_infrastructure_idea_liberal_front_2
			}
		}
	}
	
	focus = {
		id = HAI_empowering_women
		icon = GFX_z_goal_HAI_empowering_women
		prerequisite = { focus = HAI_rural_development_campaign }
		prerequisite = { focus = HAI_new_educational_policy }
		x = -1
		y = 1
		relative_position_id = HAI_rural_development_campaign
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_empowering_women"
			add_ideas = HAI_womens_suffrage_idea
		}
	}
	
	focus = {
		id = HAI_form_new_administration
		icon = GFX_z_goal_HAI_form_new_administration
		prerequisite = { focus = HAI_countrys_reconstruction_program }
		x = 1
		y = 1
		relative_position_id = HAI_countrys_reconstruction_program
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_form_new_administration"
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HAI_daniel_fignole
			show_ideas_tooltip = HAI_roger_dorsinville
			add_advisor_role = {
				character = HAI_francois_duvalier
				advisor = {
					slot = political_advisor
					cost = 100
					idea_token = HAI_francois_duvalier
					available = {
					}
					visible = {
					}
					traits = {
						minister_of_health_and_labor
					}
				}
			}
		}
	}

	focus = {
		id = HAI_promote_identity_of_haitian_culture
		icon = GFX_z_goal_HAI_promote_identity_of_haitian_culture
		prerequisite = { focus = HAI_countrys_reconstruction_program }
		x = 5
		y = 1
		relative_position_id = HAI_countrys_reconstruction_program
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_promote_identity_of_haitian_culture"
			add_war_support = 0.025
			add_ideas = HAI_doctrine_of_the_negro_idea
		}
	}

	focus = {
		id = HAI_start_fight_with_the_mulatto_elite
		icon = GFX_z_goal_start_fight_with_the_mulatto_elite
		prerequisite = { focus = HAI_form_new_administration }
		prerequisite = { focus = HAI_promote_identity_of_haitian_culture }
		x = 2
		y = 1
		relative_position_id = HAI_form_new_administration
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_start_fight_with_the_mulatto_elite"
			swap_ideas = {
				remove_idea = HAI_racial_and_social_tensions_idea_1
				add_idea = HAI_racial_and_social_tensions_idea_liberal_front_1
			}
		}
	}

	focus = {
		id = HAI_new_educational_policy
		icon = GFX_z_goal_new_educational_policy
		prerequisite = { focus = HAI_start_fight_with_the_mulatto_elite }
		x = -2
		y = 1
		relative_position_id = HAI_start_fight_with_the_mulatto_elite
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_new_educational_policy"
			add_stability = 0.065
			add_ideas = HAI_new_educational_policy_idea
		}
	}

	focus = {
		id = HAI_construction_of_provincial_schools
		icon = GFX_z_goal_expansion_of_rural_schools
		prerequisite = { focus = HAI_rural_development_campaign }
		prerequisite = { focus = HAI_new_educational_policy }
		x = 1
		y = 1
		relative_position_id = HAI_rural_development_campaign
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_construction_of_provincial_schools"
			swap_ideas = {
				remove_idea = HAI_backward_transport_and_social_infrastructure_idea_liberal_front_2
				add_idea = HAI_backward_transport_and_social_infrastructure_idea_liberal_front_3
			}
			unlock_decision_category_tooltip = HAI_development_of_provincial_education_category
		}
	}

	focus = {
		id = HAI_spend_population_census
		icon = GFX_z_goal_spend_population_census
		prerequisite = { focus = HAI_new_educational_policy }
		x = 1
		y = 1
		relative_position_id = HAI_new_educational_policy
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_spend_population_census"
			add_ideas = HAI_national_population_census_idea
		}
	}

	focus = {
		id = HAI_eliminate_illiteracy
		icon = GFX_z_goal_eliminate_illiteracy_education
		prerequisite = { focus = HAI_empowering_women }
		prerequisite = { focus = HAI_construction_of_provincial_schools }
		x = -1
		y = 1
		relative_position_id = HAI_construction_of_provincial_schools
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			custom_trigger_tooltip = {
				tooltip = HAI_new_educational_policy_comlete_tt
				has_idea = HAI_new_educational_policy_idea_1_2_3
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_eliminate_illiteracy"
			add_research_slot = 1
			set_country_flag = { flag = HAI_eliminate_illiteracy_flag	days = 90	value = 1 }
		}
	}

	focus = {
		id = HAI_revive_haitis_transportation_system
		icon = GFX_z_goal_HAI_revive_haitis_transportation_system
		prerequisite = { focus = HAI_construction_of_provincial_schools }
		prerequisite = { focus = HAI_spend_population_census }
		x = 1
		y = 1
		relative_position_id = HAI_construction_of_provincial_schools
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_revive_haitis_transportation_system"
			hidden_effect = {
				set_variable = { num_of_rail = 0 }
				set_variable = { target_num_of_rail = 0 }
				while_loop_effect = {
					limit = {
						rail_way > var:num_of_rail
					}
					add_to_variable = { num_of_rail = 1 }
				}
				set_variable = { target_num_of_rail = num_of_rail }
				set_temp_variable = { start_num_of_rail = target_num_of_rail }
				add_to_variable = { target_num_of_rail = 16 }
				
				set_variable = { delta_num_of_rail = target_num_of_rail }
				# subtract_from_variable = { delta_num_of_rail = total_num_of_rail }
				subtract_from_variable = { delta_num_of_rail = start_num_of_rail }
				
				country_event = { id = NWhaiti.996 days = 14 }
				add_ideas = HAI_revive_haitis_transportation_system_mission
				log = "NWhaiti.996: [?num_of_rail] / [?target_num_of_rail] / [?delta_num_of_rail]"
			}
			activate_mission = HAI_revive_haitis_transportation_system_mission
			custom_effect_tooltip = HAI_revive_haitis_transportation_system_mission_tasks_tt
		}
	}

	focus = {
		id = HAI_autonomy_for_universities
		icon = GFX_z_goal_autonomy_for_universities
		prerequisite = { focus = HAI_eliminate_illiteracy }
		prerequisite = { focus = HAI_revive_haitis_transportation_system }
		x = 1
		y = 1
		relative_position_id = HAI_eliminate_illiteracy
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			custom_trigger_tooltip = {
				tooltip = HAI_eliminate_illiteracy_trigger_tt
				NOT = { has_country_flag = { flag = HAI_eliminate_illiteracy_flag value > 0 } }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_autonomy_for_universities"
			add_research_slot = 1
		}
	}

	focus = {
		id = HAI_social_equality_program
		icon = GFX_z_goal_social_equality_program_black
		prerequisite = { focus = HAI_start_fight_with_the_mulatto_elite }
		x = 2
		y = 1
		relative_position_id = HAI_start_fight_with_the_mulatto_elite
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_social_equality_program"
			swap_ideas = {
				remove_idea = HAI_racial_and_social_tensions_idea_liberal_front_1
				add_idea = HAI_fighting_social_conflicts_idea
			}
		}
	}

	focus = {
		id = HAI_union_of_peasants_and_workers
		icon = GFX_z_goal_union_of_peasants_and_workers_red
		prerequisite = { focus = HAI_social_equality_program }
		x = -1
		y = 1
		relative_position_id = HAI_social_equality_program
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_idea = HAI_daniel_fignole
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_union_of_peasants_and_workers"
			add_popularity = { ideology = communism popularity = 0.1 }
			if = {
				limit = {
					country_exists = USA
					USA = { NOT = { has_government = communism } }
				}
				USA = { add_opinion_modifier = { target = ROOT modifier = HAI_union_of_peasants_and_workers_minus_op } }
			}
			if = {
				limit = {
					country_exists = SOV
					SOV = { has_government = communism }
				}
				SOV = { add_opinion_modifier = { target = ROOT modifier = HAI_union_of_peasants_and_workers_plus_op } }
			}
			add_ideas = HAI_union_of_peasants_and_workers_idea
		}
	}

	focus = {
		id = HAI_strengthen_role_of_trade_unions
		icon = GFX_z_goal_HAI_strengthen_role_of_trade_unions
		prerequisite = { focus = HAI_union_of_peasants_and_workers }
		mutually_exclusive = { focus = HAI_establish_state_control_over_the_labor_sector }
		x = 0
		y = 1
		relative_position_id = HAI_union_of_peasants_and_workers
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_strengthen_role_of_trade_unions"
			add_stability = -0.085
			swap_ideas = {
				remove_idea = HAI_union_of_peasants_and_workers_idea
				add_idea = HAI_union_of_peasants_and_workers_idea_2
			}
			capital_scope = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = HAI_support_urbanization_of_haiti
		icon = GFX_z_goal_support_urbanization_of_haiti
		prerequisite = { focus = HAI_strengthen_role_of_trade_unions }
		x = 0
		y = 1
		relative_position_id = HAI_strengthen_role_of_trade_unions
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_support_urbanization_of_haiti"
			capital_scope = {
				add_dynamic_modifier = { modifier = HAI_urban_development_dyn }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = HAI_construction_of_the_bellader
		icon = GFX_z_goal_construction_of_the_bellader
		prerequisite = { focus = HAI_support_urbanization_of_haiti }
		x = -1
		y = 1
		relative_position_id = HAI_support_urbanization_of_haiti
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_construction_of_the_bellader"
			869 = {
				if = {
					limit = { ROOT = { has_stability < 0.75 } }
					add_extra_state_shared_building_slots = 1
				}
				else = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				add_victory_points = { province = 14691 value = 1 }
			}
		}
	}
	
	focus = {
		id = HAI_stop_racist_tendencies
		icon = GFX_z_goal_HAI_stop_racist_tendencies
		prerequisite = { focus = HAI_social_equality_program }
		x = 1
		y = 1
		relative_position_id = HAI_social_equality_program
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_stop_racist_tendencies"
			swap_ideas = {
				remove_idea = HAI_fighting_social_conflicts_idea
				add_idea = HAI_fighting_social_conflicts_idea_2
			}
		}
	}
	
	focus = {
		id = HAI_establish_state_control_over_the_labor_sector
		icon = GFX_z_goal_establish_state_control_over_the_labor_sector
		prerequisite = { focus = HAI_stop_racist_tendencies }
		mutually_exclusive = { focus = HAI_strengthen_role_of_trade_unions }
		x = 0
		y = 1
		relative_position_id = HAI_stop_racist_tendencies
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_establish_state_control_over_the_labor_sector"
			add_war_support = -0.085
			add_ideas = HAI_establish_state_control_over_the_labor_sector_idea
		}
	}
	
	focus = {
		id = HAI_stop_migration_to_cities
		icon = GFX_z_goal_stop_migration_to_cities
		prerequisite = { focus = HAI_establish_state_control_over_the_labor_sector }
		x = 0
		y = 1
		relative_position_id = HAI_establish_state_control_over_the_labor_sector
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_stop_migration_to_cities"
			1189 = { add_dynamic_modifier = { modifier = HAI_village_development_dyn } }
			869 = {
				add_dynamic_modifier = { modifier = HAI_village_development_dyn }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = HAI_hold_national_labor_conference
		icon = GFX_z_goal_HAI_hold_national_labor_conference
		prerequisite = {
			focus = HAI_support_urbanization_of_haiti
			focus = HAI_stop_migration_to_cities
		}
		x = 1
		y = 1
		relative_position_id = HAI_support_urbanization_of_haiti
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_hold_national_labor_conference"
			add_ideas = HAI_normalized_working_day_idea
		}
	}
	
	focus = {
		id = HAI_introduction_of_new_irrigation_systems
		icon = GFX_z_goal_introduction_of_new_irrigation_systems
		prerequisite = { focus = HAI_stop_migration_to_cities }
		x = 1
		y = 1
		relative_position_id = HAI_stop_migration_to_cities
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_introduction_of_new_irrigation_systems"
			869 = { add_extra_state_shared_building_slots = 1 }
			swap_ideas = {
				remove_idea = HAI_establish_state_control_over_the_labor_sector_idea
				add_idea = HAI_establish_state_control_over_the_labor_sector_idea_2
			}
		}
	}
	
	focus = {
		id = HAI_achieve_social_reconciliation
		icon = GFX_z_goal_achieve_social_reconciliation
		prerequisite = { focus = HAI_international_exhibition_in_porto_au_prince }
		prerequisite = { focus = HAI_autonomy_for_universities }
		prerequisite = { focus = HAI_hold_national_labor_conference }
		x = 1
		y = 2
		relative_position_id = HAI_autonomy_for_universities
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_achieve_social_reconciliation"
			swap_ideas = {
				remove_idea = HAI_fighting_social_conflicts_idea_2
				add_idea = HAI_racial_and_social_reconciliation_idea
			}
		}
	}
	
	focus = {
		id = HAI_protect_voodoo
		icon = GFX_z_goal_HAI_protect_voodoo
		prerequisite = { focus = HAI_promote_identity_of_haitian_culture }
		x = 3
		y = 1
		relative_position_id = HAI_promote_identity_of_haitian_culture
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_protect_voodoo"
			swap_ideas = {
				remove_idea = HAI_religious_setting__syncretic_catholicism_idea
				add_idea = HAI_religious_setting__voodoo_syncretism_idea
			}
		}
	}
	
	focus = {
		id = HAI_realize_role_of_slavery_in_our_history
		icon = GFX_z_goal_HAI_realize_role_of_slavery_in_our_history
		prerequisite = { focus = HAI_protect_voodoo }
		x = -1
		y = 1
		relative_position_id = HAI_protect_voodoo
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_realize_role_of_slavery_in_our_history"
			swap_ideas = {
				remove_idea = HAI_doctrine_of_the_negro_idea
				add_idea = HAI_doctrine_of_the_negro_idea_2
			}
		}
	}
	
	focus = {
		id = HAI_fight_against_collective_bovarism
		icon = GFX_z_goal_fight_against_collective_bovarism
		prerequisite = { focus = HAI_protect_voodoo }
		x = 1
		y = 1
		relative_position_id = HAI_protect_voodoo
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_fight_against_collective_bovarism"
			add_ideas = HAI_growth_of_black_self_awareness_idea
			if = {
				limit = { country_exists = DOM }
				DOM = { add_ideas = HAI_growth_of_black_self_awareness_idea_DOM }
			}
		}
	}
	
	focus = {
		id = HAI_revive_the_black_spirit_of_dominicana
		icon = GFX_z_goal_HAI_revive_the_black_spirit_of_dominicana
		prerequisite = { focus = HAI_realize_role_of_slavery_in_our_history }
		prerequisite = { focus = HAI_fight_against_collective_bovarism }
		x = 1
		y = 1
		relative_position_id = HAI_realize_role_of_slavery_in_our_history
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_revive_the_black_spirit_of_dominicana"
			add_political_power = -200
			add_state_core = 870
			add_state_core = 319
			if = {
				limit = { country_exists = DOM }
				DOM = {
					swap_ideas = {
						remove_idea = HAI_growth_of_black_self_awareness_idea_DOM
						add_idea = HAI_growth_of_black_self_awareness_idea_DOM_2
					}
				}
			}
		}
	}
	
	focus = {
		id = HAI_african_cultural_nationalism
		icon = GFX_z_goal_african_cultural_nationalism
		prerequisite = { focus = HAI_revive_the_black_spirit_of_dominicana }
		x = 0
		y = 1
		relative_position_id = HAI_revive_the_black_spirit_of_dominicana
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			controls_state = 870
			controls_state = 319
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_african_cultural_nationalism"
			add_state_core = 864
			swap_ideas = {
				remove_idea = HAI_growth_of_black_self_awareness_idea
				add_idea = HAI_growth_of_black_self_awareness_idea_2
			}
			every_other_country = {
				limit = {
					is_subject = yes
					capital_scope = { is_on_continent = africa }
				}
				add_autonomy_score = { value = 200 }
			}
		}
	}


###########################
##### FASCISM SECTION #####
###########################
	
	focus = {
		id = HAI_lorimers_victory
		icon = GFX_z_goal_HAI_lorimers_victory
		prerequisite = { focus = HAI_hold_elections }
		mutually_exclusive = {
			focus = HAI_victory_of_the_liberal_front
			focus = HAI_PHC_victory
		}
		x = 4
		y = 1
		offset = {
			x = -4
			y = 0
			trigger = {
				has_completed_focus = HAI_lorimers_victory
			}
		}
		relative_position_id = HAI_hold_elections
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		allow_branch = {
			NOT = {
				has_country_flag = HAI_calixtas_coup_fail_flag
				has_completed_focus = HAI_arrest_of_noirists
				has_completed_focus = HAI_victory_of_the_liberal_front
				has_completed_focus = HAI_PHC_victory
			}
		}
		available = {
			custom_trigger_tooltip = {
				always = no
				tooltip = TUR_focus_autocomplete_tt
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_lorimers_victory"
			effect_tooltip = {
				set_politics = {
					ruling_party = fascism
				}
			}
			mark_focus_tree_layout_dirty = yes
		}
	}
	
	focus = {
		id = HAI_protect_haitian_culture
		icon = GFX_z_goal_HAI_protect_haitian_culture
		prerequisite = { focus = HAI_lorimers_victory }
		x = -2
		y = 1
		relative_position_id = HAI_lorimers_victory
		
		cost = 11
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_protect_haitian_culture"
			add_ideas = 0.1
			if = {
				limit = { has_idea = HAI_religious_setting__syncretic_catholicism_idea }
				swap_ideas = {
					remove_idea = HAI_religious_setting__syncretic_catholicism_idea
					add_idea = HAI_religious_setting__voodoo_syncretism_idea
				}
			}
			else = {
				swap_ideas = {
					remove_idea = HAI_religious_setting__dominance_of_catholicism_idea
					add_idea = HAI_religious_setting__voodoo_syncretism_idea
				}
			}
			set_country_flag = { flag = HAI_protect_haitian_culture_flag	days = 63	value = 1 }
		}
	}
	
	focus = {
		id = HAI_revive_voodoo
		icon = GFX_z_goal_revive_voodoo
		prerequisite = { focus = HAI_protect_haitian_culture }
		x = 0
		y = 1
		relative_position_id = HAI_protect_haitian_culture
		
		cost = 11
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			custom_trigger_tooltip = {
				tooltip = HAI_protect_haitian_culture_flag_tt
				NOT = { has_country_flag = HAI_protect_haitian_culture_flag }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_revive_voodoo"
			swap_ideas = {
				remove_idea = HAI_religious_setting__voodoo_syncretism_idea
				add_idea = HAI_religious_setting__dominance_of_voodoo_idea
			}
		}
	}
	
	focus = {
		id = HAI_start_fight_against_social_inequality
		icon = GFX_z_goal_start_fight_against_social_inequality
		prerequisite = { focus = HAI_lorimers_victory }
		x = 0
		y = 1
		relative_position_id = HAI_lorimers_victory
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_start_fight_against_social_inequality"
			swap_ideas = {
				remove_idea = HAI_racial_and_social_tensions_idea_1
				add_idea = HAI_racial_and_social_tensions_idea_lorimer_1
			}
		}
	}
	
	focus = {
		id = HAI_carry_out_constitutional_reform
		icon = GFX_z_goal_HAI_carry_out_constitutional_reform
		prerequisite = { focus = HAI_lorimers_victory }
		x = 2
		y = 1
		relative_position_id = HAI_lorimers_victory
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_carry_out_constitutional_reform"
			add_stability = -0.1
			add_popularity = { ideology = fascism popularity = 1 }
			add_ideas = HAI_one_party_system_idea
		}
	}
	
	focus = {
		id = HAI_true_root_of_haitian_problems
		icon = GFX_z_goal_HAI_true_root_of_haitian_problems
		prerequisite = { focus = HAI_start_fight_against_social_inequality }
		x = 0
		y = 1
		relative_position_id = HAI_start_fight_against_social_inequality
		
		cost = 13
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_true_root_of_haitian_problems"
			swap_ideas = {
				remove_idea = HAI_racial_and_social_tensions_idea_lorimer_1
				add_idea = HAI_racial_and_social_tensions_idea_lorimer_2
			}
		}
	}
	
	focus = {
		id = HAI_end_dominican_problem
		icon = GFX_z_goal_end_dominican_problem
		prerequisite = { focus = HAI_revive_voodoo }
		prerequisite = { focus = HAI_true_root_of_haitian_problems }
		x = -5
		y = 1
		relative_position_id = HAI_revive_voodoo
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}
		
		will_lead_to_war_with = DOM
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_end_dominican_problem"
			add_state_core = 870
			add_state_claim = 319
			if = {
				limit = {
					country_exists = DOM
					NOT = {
						has_war_with = DOM
						is_in_faction_with = DOM
					}
				}
				create_wargoal = {
					type = annex_everything
					target = DOM
					expire = 0
				}
				add_ideas = HAI_end_dominican_problem_idea
			}
		}
	}
	
	focus = {
		id = HAI_haile_selassies_visit
		icon = GFX_z_goal_haile_selassies_visit
		prerequisite = { focus = HAI_end_dominican_problem }
		x = -3
		y = 1
		relative_position_id = HAI_end_dominican_problem
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
			ETH = { NOT = { has_country_leader = { character = ETH_haile_selassie ruling_only = yes } } }
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_haile_selassies_visit"
			add_war_support = 0.075
			if = {
				limit = { 
					NOT = { 
						AND = {
							has_global_flag = italo_ethiopian_war_over 
							country_exists = ETH 
						}
					} 
				}
				add_opinion_modifier = { target = ITA modifier = HAI_haile_selassies_visit_op }
				ITA = { add_opinion_modifier = { target = ROOT modifier = HAI_haile_selassies_visit_op } }
				ETH = {
					every_core_state = {
						add_resistance = 8.5
					}
				}
			}
			custom_effect_tooltip = empty_line_tooltip
			
			custom_effect_tooltip = HAI_if_ethiopia_has_capitulated_tt
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HAI_haile_selassies
		}
	}
	
	focus = {
		id = HAI_protect_orientes_african_heritage
		icon = GFX_z_goal_HAI_protect_orientes_african_heritage_cuba
		prerequisite = { focus = HAI_end_dominican_problem }
		x = 0
		y = 1
		relative_position_id = HAI_end_dominican_problem
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}
		
		will_lead_to_war_with = CUB
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_protect_orientes_african_heritage"
			add_state_core = 864
			if = {
				limit = {
					country_exists = CUB
					NOT = {
						has_war_with = CUB
						is_in_faction_with = CUB
					}
				}
				create_wargoal = {
					type = annex_everything
					target = CUB
					expire = 0
				}
			}
		}
	}
	
	focus = {
		id = HAI_association_of_hispaniola_blacks
		icon = GFX_z_goal_HAI_association_of_hispaniola_blacks
		prerequisite = { focus = HAI_end_dominican_problem }
		x = 2
		y = 1
		relative_position_id = HAI_end_dominican_problem
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			controls_state = 870
			controls_state = 319
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_association_of_hispaniola_blacks"
			add_stability = 0.075
			870 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			319 = { add_dynamic_modifier = { modifier = HAI_support_for_afrodominicans_dyn } }
		}
	}

	focus = {
		id = HAI_support_panafrican_ideas
		icon = GFX_z_goal_support_panafrican_ideas
		prerequisite = { focus = HAI_haile_selassies_visit }
		prerequisite = {
			focus = HAI_protect_orientes_african_heritage
			focus = HAI_association_of_hispaniola_blacks
		}
		x = 1
		y = 1
		relative_position_id = HAI_haile_selassies_visit
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_support_panafrican_ideas"
			add_war_support = 0.1
			add_political_power = 200
			unlock_decision_tooltip = HAI_support_afro_bahamians
			unlock_decision_tooltip = HAI_collaboration_with_west_indian_revolutionaries
			unlock_decision_tooltip = HAI_support_african_unity
		}
	}

	focus = {
		id = HAI_cooperation_with_rastafari
		icon = GFX_z_goal_cooperation_with_rastafari
		prerequisite = { focus = HAI_support_panafrican_ideas }
		x = -1
		y = 1
		relative_position_id = HAI_support_panafrican_ideas
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_cooperation_with_rastafari"
			add_ideas = HAI_cooperation_with_rastafari_idea
			unlock_decision_tooltip = HAI_organize_jamaican_resistance
			unlock_decision_tooltip = HAI_consolidate_the_movement_back_to_africa
			unlock_decision_tooltip = HAI_inspire_the_ethiopian_guerrillas
			ETH = {
				every_core_state = {
					limit = { has_resistance = yes controller = { NOT = { tag = ROOT is_subject_of = ROOT is_in_faction_with = ROOT } } }
					add_resistance = 7.5
				}
			}
			JAM = {
				every_core_state = {
					limit = { has_resistance = yes controller = { NOT = { tag = ROOT is_subject_of = ROOT is_in_faction_with = ROOT } } }
					add_resistance = 7.5
				}
			}
		}
	}

	focus = {
		id = HAI_exploring_west_african_culture
		icon = GFX_z_goal_HAI_exploring_west_african_culture
		prerequisite = { focus = HAI_support_panafrican_ideas }
		x = 1
		y = 1
		relative_position_id = HAI_support_panafrican_ideas
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_exploring_west_african_culture"
			add_research_slot = 1
			unlock_decision_tooltip = HAI_cooperation_with_leopards
			unlock_decision_tooltip = HAI_spread_myths_about_voodoo
			unlock_decision_tooltip = HAI_ignite_struggle_against_anglo_french_occupation
		}
	}

	focus = {
		id = HAI_liberate_the_black_continent
		icon = GFX_z_goal_liberate_the_black_continent
		prerequisite = { focus = HAI_cooperation_with_rastafari }
		prerequisite = { focus = HAI_exploring_west_african_culture }
		x = 1
		y = 1
		relative_position_id = HAI_cooperation_with_rastafari
		
		cost = 3
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_liberate_the_black_continent"
			every_other_country = {
				limit = {
					NOT = { capital_scope = { is_on_continent = africa } }
					OR = {
						any_owned_state = { is_on_continent = africa NOT = { is_core_of = PREV } }
						any_subject_country = { capital_scope = { is_on_continent = africa } }
					}
				}
				ROOT = {
					create_wargoal = {
						target = PREV
						type = annex_everything
						expire = 0
					}
					hidden_effect = {
						add_ai_strategy = {
							type = antagonize
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
			}
			unlock_decision_tooltip = HAI_deploy_african_resistance_forces
			unlock_decision_tooltip = HAI_terrorize_the_whites
			unlock_decision_tooltip = HAI_liberate_african_zion
		}
	}

	focus = {
		id = HAI_caribbean_bastion
		icon = GFX_z_goal_HAI_caribbean_bastion
		prerequisite = {
			focus = HAI_protect_orientes_african_heritage
			focus = HAI_association_of_hispaniola_blacks
		}
		x = 1
		y = 1
		relative_position_id = HAI_protect_orientes_african_heritage
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			CUB = {
				all_core_state = {
					OR = {
						controller = { tag = ROOT }
						state = 1139
					}
				}
			}
			DOM = {
				all_core_state = {
					controller = { tag = ROOT }
				}
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_caribbean_bastion"
			every_controlled_state = {
				limit = {
					OR = {
						is_core_of = ROOT
						is_core_of = CUB
						is_core_of = DOM
					}
				}
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			every_core_state = {
				limit = { NOT = { has_dynamic_modifier = { modifier = HAI_support_for_afrodominicans_dyn } } }
				add_dynamic_modifier = { modifier = HAI_support_for_afrodominicans_dyn_2 }
			}
			hidden_effect = {
				set_variable = { num_of_bunker = 0 }
				set_variable = { num_of_coastal_bunker = 0 }
				set_variable = { target_num_of_bunker = 0 }
				while_loop_effect = {
					limit = {
						bunker > var:num_of_bunker
					}
					add_to_variable = { num_of_bunker = 1 }
				}
				while_loop_effect = {
					limit = {
						coastal_bunker > var:num_of_coastal_bunker
					}
					add_to_variable = { num_of_coastal_bunker = 1 }
				}
				set_variable = { target_num_of_bunker = num_of_bunker }
				add_to_variable = { target_num_of_bunker = num_of_coastal_bunker }
				set_temp_variable = { start_num_of_bunker = target_num_of_bunker }
				add_to_variable = { target_num_of_bunker = 18 }
				
				set_variable = { delta_num_of_bunker = target_num_of_bunker }
				# subtract_from_variable = { delta_num_of_bunker = total_num_of_bunker }
				subtract_from_variable = { delta_num_of_bunker = start_num_of_bunker }
				
				country_event = { id = NWhaiti.998 days = 14 }
				log = "NWhaiti.998: [?num_of_bunker] / [?num_of_coastal_bunker] / [?target_num_of_bunker] / [?start_num_of_bunker] / [?delta_num_of_bunker]"
			}
			custom_effect_tooltip = empty_line_tooltip
			
			activate_mission = HAI_caribbean_bastion_mission
			custom_effect_tooltip = HAI_caribbean_bastion_mission_tasks_tt
		}
	}

	focus = {
		id = HAI_support_the_traditions_of_tambor_de_mina
		icon = GFX_z_goal_HAI_support_the_traditions_of_tambor_de_mina
		prerequisite = { focus = HAI_caribbean_bastion }
		x = 0
		y = 1
		relative_position_id = HAI_caribbean_bastion
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}
		
		will_lead_to_war_with = BRA
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_support_the_traditions_of_tambor_de_mina"
			add_state_claim = 499
			add_state_claim = 498
			add_state_claim = 497
			create_wargoal = {
				type = take_state_focus
				target = BRA
				generator = { 499 498 497 }
			}
			hidden_effect = {
				add_ai_strategy = {
					type = antagonize
					id = BRA
					value = 200
				}
				add_ai_strategy = {
					type = declare_war
					id = BRA
					value = 100
				}
			}
		}
	}

	focus = {
		id = HAI_protection_from_communism
		icon = GFX_z_goal_protection_from_communism
		prerequisite = {
			focus = HAI_exploring_west_african_culture
			focus = HAI_support_the_traditions_of_tambor_de_mina
		}
		x = 1
		y = 1
		relative_position_id = HAI_exploring_west_african_culture
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			OR = {
				any_of_scopes = {
					array = global.is_communism
					tooltip = is_communism_tt
					NOT = { tag = ROOT }
					capital_scope = {
						OR = {
							is_on_continent = north_america
							is_on_continent = south_america
							is_on_continent = africa
						}
					}
					exists = yes
				}
				any_of_scopes = {
					array = global.is_trozkism
					tooltip = is_trozkism_tt
					NOT = { tag = ROOT }
					capital_scope = {
						OR = {
							is_on_continent = north_america
							is_on_continent = south_america
							is_on_continent = africa
						}
					}
					exists = yes
				}
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_protection_from_communism"
			custom_effect_tooltip = HAI_protection_from_communism_tt
			for_each_loop = {
				array = global.is_communism
				if = {
					limit = {
						capital_scope = {
							OR = {
								is_on_continent = north_america
								is_on_continent = south_america
								is_on_continent = africa
							}
						}
					}
					ROOT = {
						create_wargoal = {
							target = PREV
							type = topple_government
							expire = 0
						}
						hidden_effect = {
							add_ai_strategy = {
								type = antagonize
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = declare_war
								id = PREV
								value = 100
							}
						}
					}
				}
			}
			for_each_loop = {
				array = global.is_trozkism
				if = {
					limit = {
						capital_scope = {
							OR = {
								is_on_continent = north_america
								is_on_continent = south_america
								is_on_continent = africa
							}
						}
					}
					ROOT = {
						create_wargoal = {
							target = PREV
							type = topple_government
							expire = 0
						}
						hidden_effect = {
							add_ai_strategy = {
								type = antagonize
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = declare_war
								id = PREV
								value = 100
							}
						}
					}
				}
			}
#			every_other_country = {
#				limit = {
#					OR = {
#						has_government = communism
#						has_government = trozkism
#					}
#					capital_scope = {
#						OR = {
#							is_on_continent = africa
#							is_on_continent = north_america
#							is_on_continent = south_america
#						}
#					}
#				}
#				ROOT = {
#					create_wargoal = {
#						target = PREV
#						type = topple_government
#						expire = 0
#					}
#					hidden_effect = {
#						add_ai_strategy = {
#							type = antagonize
#							id = PREV
#							value = 200
#						}
#						add_ai_strategy = {
#							type = declare_war
#							id = PREV
#							value = 100
#						}
#					}
#				}
#			}

		}
	}

	focus = {
		id = HAI_end_american_racism
		icon = GFX_z_goal_end_american_racism
		prerequisite = { focus = HAI_caribbean_bastion }
		x = 2
		y = 1
		relative_position_id = HAI_caribbean_bastion
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			num_of_civilian_factories > 21
		}
		bypass = {
		}
		select_effect = {
		}
		
		will_lead_to_war_with = USA
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_end_american_racism"
			every_state = {
				limit = {
					controller = { NOT = { tag = ROOT } }
					OR = {
						state = 371	# Луизиана
						state = 370	# Миссисипи
						state = 367	# Алабама
						state = 365	# Джорджия
						state = 364	# Южная Каролина
					}
				}
				add_dynamic_modifier = { modifier = HAI_fighting_american_racism_dyn }
			}
			add_state_claim = 371
			create_wargoal = {
				type = take_state_focus
				target = USA
				generator = { 371 }
			}
			hidden_effect = {
				add_ai_strategy = {
					type = antagonize
					id = USA
					value = 200
				}
				add_ai_strategy = {
					type = declare_war
					id = USA
					value = 100
				}
			}
		}
	}

	focus = {
		id = HAI_revive_african_identity
		icon = GFX_z_goal_revive_african_identity
		prerequisite = { focus = HAI_support_the_traditions_of_tambor_de_mina }
		prerequisite = { focus = HAI_end_american_racism }
		x = 1
		y = 1
		relative_position_id = HAI_support_the_traditions_of_tambor_de_mina
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			num_of_civilian_factories > 25
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_revive_african_identity"
			unlock_decision_category_tooltip = HAI_revive_african_identity_category
		}
	}

	focus = {
		id = HAI_squads_of_gede_nibo
		icon = GFX_z_goal_HAI_squads_of_gede_nibo
		prerequisite = { focus = HAI_revive_voodoo }
		prerequisite = { focus = HAI_true_root_of_haitian_problems }
		x = 1
		y = 1
		relative_position_id = HAI_revive_voodoo
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_squads_of_gede_nibo"
			hidden_effect = {
				if = {
					limit = { NOT = { has_template = "Guédé Nibo" } }
					division_template = {
						name = "Guédé Nibo"
						is_locked = yes
						regiments = {
							militia = { x = 0 y = 0 }
							militia = { x = 0 y = 1 }
							militia = { x = 1 y = 0 }
							militia = { x = 1 y = 1 }
						}
						support = {
							military_police = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							logistics_company = { x = 0 y = 2 }
						}
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Guédé Nibo\" division_template = \"Guédé Nibo\" start_experience_factor = 0.4 start_equipment_factor = 0.65"
					owner = ROOT
					count = 2
					allow_spawning_on_enemy_provs = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 869 }
				create_unit = {
					division = "name = \"Guédé Nibo\" division_template = \"Guédé Nibo\" start_experience_factor = 0.4 start_equipment_factor = 0.65"
					owner = ROOT
					count = 1
					allow_spawning_on_enemy_provs = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 1189 }
				create_unit = {
					division = "name = \"Guédé Nibo\" division_template = \"Guédé Nibo\" start_experience_factor = 0.4 start_equipment_factor = 0.65"
					owner = ROOT
					count = 1
					allow_spawning_on_enemy_provs = yes
				}
			}
			if = {
				limit = { has_intelligence_agency = no }
				create_intelligence_agency = { name = "Guédé Nibo" }
			}
			add_ideas = HAI_squads_of_gede_nibo_idea
		}
	}

	focus = {
		id = HAI_withdraw_church_values
		icon = GFX_z_goal_withdraw_church_values
		prerequisite = { focus = HAI_squads_of_gede_nibo }
		x = -2
		y = 1
		relative_position_id = HAI_squads_of_gede_nibo
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_withdraw_church_values"
			add_ideas = HAI_withdraw_church_values_idea
		}
	}

	focus = {
		id = HAI_haitian_parapsychology
		icon = GFX_z_goal_haitian_parapsychology
		prerequisite = { focus = HAI_withdraw_church_values }
		x = 0
		y = 1
		relative_position_id = HAI_withdraw_church_values
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_haitian_parapsychology"
			swap_ideas = {
				remove_idea = HAI_religious_setting__dominance_of_voodoo_idea
				add_idea = HAI_religious_setting__dominance_of_voodoo_idea_2
			}
			add_manpower = 15470
		}
	}

	focus = {
		id = HAI_expropriation_of_mulatto_lands
		icon = GFX_z_goal_expropriation_of_mulatto_lands
		prerequisite = { focus = HAI_squads_of_gede_nibo }
		x = 0
		y = 1
		relative_position_id = HAI_squads_of_gede_nibo
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_expropriation_of_mulatto_lands"
			add_stability = -0.05
			add_political_power = 100
			add_tech_bonus = {
				name = HAI_expropriation_of_mulatto_lands
				bonus = 0.5
				uses = 2
				category = industry
			}
			every_owned_state = {
				limit = {
					OR = {
						is_capital = yes
						state = 869
						state = 1189
					}
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}

	focus = {
		id = HAI_arrest_of_mulatto_politicians
		icon = GFX_z_goal_HAI_arrest_of_mulatto_politicians
		prerequisite = { focus = HAI_squads_of_gede_nibo }
		prerequisite = { focus = HAI_carry_out_constitutional_reform }
		x = 2
		y = 1
		relative_position_id = HAI_squads_of_gede_nibo
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_arrest_of_mulatto_politicians"
			army_experience = 10
			add_manpower = -1500
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = HAI_dantes_louis_bellegarde
			show_ideas_tooltip = HAI_louis_dejoie
		}
	}
	
	focus = {
		id = HAI_eliminate_traitors_of_the_race
		icon = GFX_z_goal_broken_red_star_2
		prerequisite = { focus = HAI_squads_of_gede_nibo }
		prerequisite = { focus = HAI_carry_out_constitutional_reform }
		x = 1
		y = 3
		relative_position_id = HAI_carry_out_constitutional_reform
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_eliminate_traitors_of_the_race"
			set_temp_variable = { temp1 = 0 }
			subtract_from_temp_variable = { temp1 = party_popularity@communism }
			add_popularity = { ideology = communism popularity = temp1 }
			multiply_temp_variable = { temp1 = 100000 }
			add_manpower = temp1
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = HAI_emile_saint_lot
		}
	}

	focus = {
		id = HAI_hunting_for_white_devils
		icon = GFX_z_goal_hunting_for_white_devils
		prerequisite = { focus = HAI_expropriation_of_mulatto_lands }
		prerequisite = { focus = HAI_arrest_of_mulatto_politicians }
		x = 1
		y = 1
		relative_position_id = HAI_expropriation_of_mulatto_lands
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_hunting_for_white_devils"
			add_war_support = 0.075
			add_stability = -0.095
			add_equipment_to_stockpile = { type = infantry_equipment amount = 1500 }
			hidden_effect = {
				if = {
					limit = { NOT = { has_template = "Guédé Nibo" } }
					division_template = {
						name = "Guédé Nibo"
						is_locked = yes
						regiments = {
							militia = { x = 0 y = 0 }
							militia = { x = 0 y = 1 }
							militia = { x = 1 y = 0 }
							militia = { x = 1 y = 1 }
						}
						support = {
							military_police = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							logistics_company = { x = 0 y = 2 }
						}
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Guédé Nibo\" division_template = \"Guédé Nibo\" start_experience_factor = 0.4 start_equipment_factor = 0.65"
					owner = ROOT
					count = 1
					allow_spawning_on_enemy_provs = yes
				}
			}
			every_controlled_state = {
				limit = {
					OR = {
						state = 869
						state = 318
						state = 1189
					}
				}
				add_dynamic_modifier = { modifier = HAI_hunting_for_white_devils_dyn days = 170 }
			}
		}
	}

	focus = {
		id = HAI_eradicate_catholicism
		icon = GFX_focus_mex_triumph_over_the_cristeros
		prerequisite = { focus = HAI_haitian_parapsychology }
		prerequisite = { focus = HAI_hunting_for_white_devils }
		x = 1
		y = 1
		relative_position_id = HAI_haitian_parapsychology
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_eradicate_catholicism"
			swap_ideas = {
				remove_idea = HAI_withdraw_church_values_idea
				add_idea = HAI_persecution_of_christianity_idea
			}
		}
	}

	focus = {
		id = HAI_baron_saturday
		icon = GFX_z_goal_HAI_baron_saturday
		prerequisite = { focus = HAI_arrest_of_mulatto_politicians }
		x = 1
		y = 1
		relative_position_id = HAI_arrest_of_mulatto_politicians
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_baron_saturday"
			add_country_leader_trait = baron_saturday
		}
	}

	focus = {
		id = HAI_spirit_of_the_haitian_revolution
		icon = GFX_z_goal_HAI_spirit_of_the_haitian_revolution
		prerequisite = { focus = HAI_baron_saturday }
		mutually_exclusive = { focus = HAI_savior_of_the_blacks }
		x = -1
		y = 1
		relative_position_id = HAI_baron_saturday
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_spirit_of_the_haitian_revolution"
			add_stability = 0.1
			add_popularity = { ideology = communism popularity = 0.075 }
			add_ideas = HAI_spirit_of_the_haitian_revolution_idea
			swap_ideas = {
				remove_idea = HAI_squads_of_gede_nibo_idea
				add_idea = HAI_squads_of_gede_nibo_idea_2
			}
		}
	}

	focus = {
		id = HAI_expansion_of_black_militia
		icon = GFX_z_goal_expansion_of_black_militia
		prerequisite = { focus = HAI_spirit_of_the_haitian_revolution }
		x = 0
		y = 1
		relative_position_id = HAI_spirit_of_the_haitian_revolution
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_expansion_of_black_militia"
			if = {
				limit = { has_dlc = "La Resistance" }
				add_country_leader_trait = the_black_revolutionary
			}
			else = { add_country_leader_trait = the_black_revolutionary_no_lar }
			swap_ideas = {
				remove_idea = HAI_spirit_of_the_haitian_revolution_idea
				add_idea = HAI_spirit_of_the_haitian_revolution_idea_2
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_template = "Milice Noire" } }
					division_template = {
						name = "Milice Noire"
						is_locked = yes
						regiments = {
							militia = { x = 0 y = 0 }
							militia = { x = 0 y = 1 }
							militia = { x = 0 y = 2 }
						}
						support = {
							artillery = { x = 0 y = 0 }
						}
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Milice Noire\" division_template = \"Milice Noire\" start_experience_factor = 0.4 start_equipment_factor = 0.65"
					owner = ROOT
					count = 2
					allow_spawning_on_enemy_provs = yes
				}
			}
		}
	}
	
	focus = {
		id = HAI_savior_of_the_blacks
		icon = GFX_z_goal_HAI_savior_of_the_blacks
		prerequisite = { focus = HAI_baron_saturday }
		mutually_exclusive = { focus = HAI_spirit_of_the_haitian_revolution }
		x = 1
		y = 1
		relative_position_id = HAI_baron_saturday
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_savior_of_the_blacks"
			add_country_leader_trait = the_black_messiah
		}
	}
	
	focus = {
		id = HAI_betting_on_secret_police
		icon = GFX_z_goal_HAI_betting_on_secret_police
		prerequisite = { focus = HAI_savior_of_the_blacks }
		x = 0
		y = 1
		relative_position_id = HAI_savior_of_the_blacks
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_betting_on_secret_police"
			swap_ideas = {
				remove_idea = HAI_squads_of_gede_nibo_idea
				add_idea = HAI_squads_of_gede_nibo_idea_3
			}
			add_tech_bonus = {
				name = HAI_betting_on_secret_police
				bonus = 0.5
				uses = 2
				category = support_tech
			}
			add_advisor_role = {
				character = HAI_francois_duvalier
				advisor = {
					slot = political_advisor
					idea_token = HAI_francois_duvalier
					available = {
					}
					visible = {
					}
					traits = {
						the_leader_of_gede_nibo
					}
				}
			}
		}
	}
	
	focus = {
		id = HAI_nationalization_of_coffee_plantations
		icon = GFX_z_goal_nationalization_of_coffee_plantations
		prerequisite = { focus = HAI_expansion_of_black_militia }
		x = -1
		y = 1
		relative_position_id = HAI_expansion_of_black_militia
		
		cost = 11
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_nationalization_of_coffee_plantations"
			swap_ideas = {
				remove_idea = HAI_pernicious_situation_of_agriculture_idea_2
				add_idea = HAI_pernicious_situation_of_agriculture_idea_lorimer_1
			}
			every_controlled_state = {
				limit = {
					OR = {
						state = 869
						state = 1189
					}
				}
				add_extra_state_shared_building_slots = 2
			}
			if = {
				limit = { controls_state = 869 }
				869 = {
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = HAI_strategy_of_psychological_impact
		icon = GFX_z_goal_strategy_of_psychological_impact_black
		prerequisite = { focus = HAI_expansion_of_black_militia focus = HAI_betting_on_secret_police }
		x = 1
		y = 1
		relative_position_id = HAI_expansion_of_black_militia
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_strategy_of_psychological_impact"
			add_ideas = HAI_strategy_of_psychological_impact_idea
			custom_effect_tooltip = RAJ_jungle_training_effect
			hidden_effect = { set_technology = { jungle_warfare = 1 } }
		}
	}
	
	focus = {
		id = HAI_ensure_nationwide_employment
		icon = GFX_z_goal_ensure_nationwide_employment # TODO повторяется?
		prerequisite = { focus = HAI_nationalization_of_coffee_plantations }
		x = -1
		y = 1
		relative_position_id = HAI_nationalization_of_coffee_plantations
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_ensure_nationwide_employment"
			add_stability = -0.1
			add_ideas = HAI_ensure_nationwide_employment_idea
		}
	}
	
	focus = {
		id = HAI_peoples_black_army
		icon = GFX_z_goal_peoples_black_army
		prerequisite = { focus = HAI_nationalization_of_coffee_plantations }
		prerequisite = { focus = HAI_strategy_of_psychological_impact }
		x = 1
		y = 1
		relative_position_id = HAI_nationalization_of_coffee_plantations
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_peoples_black_army"
			add_ideas = peoples_black_militia
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.65
				uses = 3
				category = cat_mass_assault
			}
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						NOT = { has_tech = mass_assault }
					}
				}
				set_technology = { mass_assault = 1 }
			}
			army_experience = 20
		}
	}
	
	focus = {
		id = HAI_pan_african_resistance
		icon = GFX_z_goal_pan_african_resistance
		prerequisite = { focus = HAI_ensure_nationwide_employment }
		prerequisite = { focus = HAI_peoples_black_army }
		x = 1
		y = 1
		relative_position_id = HAI_ensure_nationwide_employment
		
		cost = 12
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_pan_african_resistance"
			swap_ideas = {
				remove_idea = HAI_spirit_of_the_haitian_revolution_idea_2
				add_idea = HAI_spirit_of_the_haitian_revolution_idea_3
			}
			custom_effect_tooltip = HAI_pan_african_resistance_tt
			effect_tooltip = { every_core_state = { add_resistance = 25 } }
			hidden_effect = {
				every_state = {
					limit = {
						has_resistance = yes
						NOT = { is_controlled_by = ROOT }
						OR = {
							is_core_of = NGA
							is_core_of = GHA
							is_core_of = GNA
							is_core_of = SIE
						}
					}
					add_resistance = 25
				}
			}
			add_equipment_to_stockpile = { type = infantry_equipment amount = -5000 }
			add_manpower = 90000
		}
	}
	
	focus = {
		id = HAI_nationalization_of_foreign_capital
		icon = GFX_z_goal_nationalization_of_foreign_capital
		prerequisite = { focus = HAI_carry_out_constitutional_reform }
		x = 3
		y = 1
		relative_position_id = HAI_carry_out_constitutional_reform
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_nationalization_of_foreign_capital"
			if = {
				limit = { NOT = { has_idea = closed_economy has_idea = limited_exports } }
				add_ideas = limited_exports
			}
			add_ideas = HAI_control_over_foreign_capital_idea_1
			swap_ideas = {
				remove_idea = HAI_military_economic_dependence_on_united_states_idea_2
				add_idea = HAI_military_economic_dependence_on_united_states_idea_lorimer_1
			}
			USA = { add_opinion_modifier = { target = ROOT modifier = HAI_nationalization_of_foreign_capital_op } }
			every_other_country = {
				limit = {
					OR = {
						original_tag = FRA
						original_tag = ENG
					}
				}
				add_opinion_modifier = { target = ROOT modifier = HAI_nationalization_of_foreign_capital_op2 }
			}
		}
	}
	
	focus = {
		id = HAI_break_off_military_cooperation_with_america
		icon = GFX_z_goal_break_off_military_cooperation_with_america
		prerequisite = { focus = HAI_nationalization_of_foreign_capital }
		x = 0
		y = 1
		relative_position_id = HAI_nationalization_of_foreign_capital
		
		cost = 13
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_war_support > 0.4
			NOT = { is_in_faction_with = USA }
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_break_off_military_cooperation_with_america"
			add_war_support = 0.15
			remove_ideas = HAI_military_economic_dependence_on_united_states_idea_lorimer_1
			swap_ideas = {
				remove_idea = HAI_control_over_foreign_capital_idea_1
				add_idea = HAI_control_over_foreign_capital_idea_2
			}
			if = {
				limit = { NOT = { has_idea = closed_economy } }
				add_ideas = closed_economy
			}
			if = {
				limit = { OR = { has_idea = undisturbed_isolation has_idea = isolation has_idea = civilian_economy } }
				add_ideas = low_economic_mobilisation
			}
			
			
			USA = {
				country_event = { id = NWhaiti.32 hours = 3 }
				add_opinion_modifier = { target = ROOT modifier = HAI_break_off_military_cooperation_with_america_op }
				if = {
					limit = { has_non_aggression_pact_with = ROOT }
					diplomatic_relation = { country = ROOT relation = non_aggression_pact active = no }
				}
				if = {
					limit = { has_guaranteed = ROOT }
					diplomatic_relation = { country = ROOT relation = guarantee active = no }
				}
				if = {
					limit = { gives_military_access_to = ROOT }
					diplomatic_relation = { country = ROOT relation = military_access active = no }
				}
				diplomatic_relation = { country = ROOT relation = docking_rights active = no }
			}
			if = {
				limit = { has_guaranteed = USA }
				diplomatic_relation = { country = USA relation = guarantee active = no }
			}
			if = {
				limit = { gives_military_access_to = USA }
				diplomatic_relation = { country = USA relation = military_access active = no }
			}
			diplomatic_relation = { country = USA relation = docking_rights active = no }
			
			every_other_country = {
				limit = { has_government = democratic }
				add_opinion_modifier = { target = ROOT modifier = HAI_break_off_military_cooperation_with_america_op2 }
				add_opinion_modifier = { target = ROOT modifier = HAI_break_off_military_cooperation_with_america_trade_op }
			}
			
			delete_unit_template_and_units = { division_template = "Haitian Guard" disband = yes }
			delete_unit_template_and_units = { division_template = "Sécurité Côtière" disband = no }
			hidden_effect = {
				if = {
					limit = { NOT = { has_template = "Milice Populaire" } }
					division_template = {
						name = "Milice Populaire"
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
						}
						support = {
							engineer = { x = 0 y = 0 }
						}
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Milice Populaire\" division_template = \"Milice Populaire\" start_experience_factor = 1.0"
					owner = ROOT
					count = 3
					allow_spawning_on_enemy_provs = yes
				}
			}
		}
	}
	
	focus = {
		id = HAI_baron_criminel
		icon = GFX_z_goal_HAI_baron_criminel
		prerequisite = { focus = HAI_break_off_military_cooperation_with_america }
		x = 0
		y = 1
		relative_position_id = HAI_break_off_military_cooperation_with_america
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_baron_criminel"
			add_stability = -0.115
			every_other_country = {
				limit = { OR = { original_tag = CUB original_tag = DOM } }
				add_opinion_modifier = { target = ROOT modifier = HAI_baron_criminel_op }
			}
			swap_ideas = {
				remove_idea = HAI_control_over_foreign_capital_idea_2
				add_idea = HAI_control_over_foreign_capital_idea_3
			}
			sync_factories = yes
			add_ideas = HAI_outbreaks_of_hunger_idea
			custom_effect_tooltip = EFFECT_CHANGE_LAW_trade_laws_tt
			show_ideas_tooltip = black_market_law
			custom_effect_tooltip = EFFECT_CHANGE_LAW_economy_laws_tt
			show_ideas_tooltip = shadow_economic_law
		}
	}
	
	focus = {
		id = HAI_tax_on_state_needs
		icon = GFX_z_goal_HAI_tax_on_state_needs
		prerequisite = { focus = HAI_baron_criminel }
		x = -1
		y = 1
		relative_position_id = HAI_baron_criminel
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_tax_on_state_needs"
			swap_ideas = {
				remove_idea = HAI_control_over_foreign_capital_idea_3
				add_idea = HAI_control_over_foreign_capital_idea_4
			}
			unlock_decision_category_tooltip = HAI_public_donations_to_state_category
		}
	}
	
	focus = {
		id = HAI_caribbean_vampires
		icon = GFX_z_goal_HAI_caribbean_vampires
		prerequisite = { focus = HAI_baron_criminel }
		x = 1
		y = 1
		relative_position_id = HAI_baron_criminel
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_caribbean_vampires"
			custom_effect_tooltip = HAI_caribbean_vampires_tt
			hidden_effect = {
				set_temp_variable = { temp1 = global.threat }
				multiply_temp_variable = { temp1 = 10 }
				divide_temp_variable = { temp1 = 3 }
				add_offsite_building = { type = industrial_complex level = temp1 }
			}
		}
	}
	
	focus = {
		id = HAI_broad_middle_class
		icon = GFX_z_goal_broad_middle_class
		prerequisite = { focus = HAI_tax_on_state_needs }
		prerequisite = { focus = HAI_caribbean_vampires }
		x = 1
		y = 1
		relative_position_id = HAI_tax_on_state_needs
		
		cost = 12
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_broad_middle_class"
			add_stability = 0.085
			add_timed_idea = { idea = HAI_broad_middle_class_idea_1 days = 145 }
			custom_effect_tooltip = HAI_broad_middle_class_idea_tt
			every_owned_state = {
				limit = { is_controlled_by = ROOT }
				add_extra_state_shared_building_slots = 1
			}
		}
	}
	
	focus = {
		id = HAI_satisfy_the_hunger_of_the_slums
		icon = GFX_z_goal_satisfy_the_hunger_of_the_slums
		prerequisite = { focus = HAI_broad_middle_class }
		x = 0
		y = 1
		relative_position_id = HAI_broad_middle_class
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_satisfy_the_hunger_of_the_slums"
			add_stability = -0.07
			swap_ideas = {
				remove_idea = HAI_outbreaks_of_hunger_idea
				add_idea = HAI_spread_of_cannibalism_idea
			}
			if = {
				limit = { controls_state = 869 }
				869 = { add_manpower = -27300 }
			}
			if = {
				limit = { controls_state = 1189 }
				1189 = { add_manpower = -18670 }
			}
			capital_scope = { add_manpower = -31450 }
		}
	}
	
	focus = {
		id = HAI_prohibit_contraception
		icon = GFX_z_goal_prohibit_contraception
		prerequisite = { focus = HAI_satisfy_the_hunger_of_the_slums }
		x = 1
		y = 1
		relative_position_id = HAI_satisfy_the_hunger_of_the_slums
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_prohibit_contraception"
			add_timed_idea = { idea = HAI_demographic_boom_idea_1 days = 270 }
			custom_effect_tooltip = HAI_demographic_boom_idea_tt
		}
	}
	
	focus = {
		id = HAI_legalize_the_racket
		icon = GFX_z_goal_legalize_the_racket
		prerequisite = { focus = HAI_betting_on_secret_police }
		prerequisite = { focus = HAI_satisfy_the_hunger_of_the_slums }
		x = -1
		y = 1
		relative_position_id = HAI_satisfy_the_hunger_of_the_slums
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_legalize_the_racket"
			swap_ideas = {
				remove_idea = HAI_squads_of_gede_nibo_idea_3
				add_idea = HAI_squads_of_gede_nibo_idea_4
			}
			unlock_decision_category_tooltip = HAI_gede_nibo_racket_category
			custom_effect_tooltip = HAI_gede_nibo_racket_category_tt
		}
	}
	
	focus = {
		id = HAI_create_elite_sabotage_squads
		icon = GFX_z_goal_create_elite_sabotage_squads
		prerequisite = { focus = HAI_strategy_of_psychological_impact }
		prerequisite = { focus = HAI_legalize_the_racket }
		x = -1
		y = 1
		relative_position_id = HAI_legalize_the_racket
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_create_elite_sabotage_squads"
			add_tech_bonus = {
				name = HAI_create_elite_sabotage_squads
				bonus = 0.5
				uses = 2
				category = artillery
				category = special_forces_tech
				category = support_tech
			}
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = cat_superior_firepower
				category = cat_asymmetric_warfare
			}
			army_experience = 20
			swap_ideas = {
				remove_idea = HAI_squads_of_gede_nibo_idea_4
				add_idea = HAI_squads_of_gede_nibo_idea_5
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_template = "Détachement Ogun" } }
					division_template = {
						name = "Détachement Ogun"
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
							artillery_brigade = { x = 2 y = 0 }
						}
						support = {
							artillery = { x = 0 y = 0 }
							logistics_company = { x = 0 y = 1 }
							field_hospital = { x = 0 y = 2 }
						}
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Détachement Ogun\" division_template = \"Détachement Ogun\" start_experience_factor = 1.0"
					owner = ROOT
					count = 1
					allow_spawning_on_enemy_provs = yes
				}
			}
		}
	}
	
	focus = {
		id = HAI_father_lorimers_international_black_family
		icon = GFX_z_goal_HAI_father_lorimers_international_black_family
		prerequisite = { focus = HAI_legalize_the_racket }
		x = 1
		y = 1
		relative_position_id = HAI_legalize_the_racket
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_father_lorimers_international_black_family"
			add_ideas = HAI_black_mafia_idea
			if = {
				limit = { country_exists = USA }
				USA = { add_stability = -0.05 }
				add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 2000 producer = USA }
			}
		}
	}
	
	focus = {
		id = HAI_aviation_support
		icon = GFX_z_goal_aviation_support
		prerequisite = { 
			focus = HAI_peoples_black_army 
			focus = HAI_create_elite_sabotage_squads
		}
		x = 1
		y = 1
		relative_position_id = HAI_peoples_black_army
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_aviation_support"
			capital_scope = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = HAI_aviation_support
				bonus = 1.0
				uses = 2
				category = air_equipment
			}
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.35
				uses = 3
				category = cat_battlefield_support
			}
			air_experience = 25
		}
	}
	
	focus = {
		id = HAI_military_contraband
		icon = GFX_z_goal_military_contraband_weapon
		prerequisite = { focus = HAI_create_elite_sabotage_squads }
		prerequisite = { focus = HAI_father_lorimers_international_black_family }
		x = 1
		y = 1
		relative_position_id = HAI_create_elite_sabotage_squads
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
			hidden_trigger = {
				NOT = { has_dlc = "La Resistance" }
			}
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_military_contraband"
			custom_effect_tooltip = HAI_military_contraband_tt
		}
	}
	
	focus = {
		id = HAI_establish_transatlantic_fleet
		icon = GFX_focus_generic_africa_naval
		prerequisite = { 
			focus = HAI_pan_african_resistance 
			focus = HAI_military_contraband
		}
		prerequisite = { focus = HAI_aviation_support }
		x = 0
		y = 1
		relative_position_id = HAI_aviation_support
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_establish_transatlantic_fleet"
			capital_scope = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			navy_experience = 25
			add_tech_bonus = {
				name = HAI_establish_transatlantic_fleet
				bonus = 0.5
				uses = 3
				category = naval_equipment
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
					name = "Port-au-Prince Class"
					type = ship_hull_cruiser_1
					parent_version = 0
					allow_without_tech = yes
					modules = {
						fixed_ship_battery_slot = ship_light_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = cruiser_ship_engine_1
						mid_1_custom_slot = empty
						mid_2_custom_slot = ship_light_battery_1
						rear_1_custom_slot = empty
					}
				}
				create_equipment_variant = {
					name = "Dèlma Class"
					type = ship_hull_submarine_1
					parent_version = 0
					allow_without_tech = yes
					modules = {
						fixed_ship_torpedo_slot = ship_torpedo_sub_1
						fixed_ship_engine_slot = sub_ship_engine_2
						rear_1_custom_slot = ship_mine_layer_sub
					}
				}
			}
			else = {
				create_equipment_variant = {
					name = "Port-au-Prince Class"
					type = light_cruiser_1
					parent_version = 0
					allow_without_tech = yes
					upgrades = {
						ship_reliability_upgrade = 3
						ship_engine_upgrade = 3
						ship_gun_upgrade = 2
						ship_anti_air_upgrade = 3
					}
					obsolete = yes
				}
				create_equipment_variant = {
					name = "Dèlma Class"
					type = submarine_1
					parent_version = 0
					allow_without_tech = yes
					upgrades = {
						ship_reliability_upgrade = 3
						sub_engine_upgrade = 2
						sub_stealth_upgrade = 2
						sub_torpedo_upgrade = 3
					}
				}
			}
		}
	}


#############################
##### COMMUNISM SECTION #####
#############################
	
	focus = {
		id = HAI_PHC_victory
		icon = GFX_z_goal_HAI_PHC_victory
		prerequisite = { focus = HAI_hold_elections }
		mutually_exclusive = {
			focus = HAI_victory_of_the_liberal_front
			focus = HAI_lorimers_victory
		}
		x = 23
		y = 1
		offset = {
			x = -23
			y = 0
			trigger = {
				has_completed_focus = HAI_PHC_victory
			}
		}
		relative_position_id = HAI_hold_elections
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		allow_branch = {
			NOT = {
				has_country_flag = HAI_calixtas_coup_fail_flag
				has_completed_focus = HAI_arrest_of_noirists
				has_completed_focus = HAI_victory_of_the_liberal_front
				has_completed_focus = HAI_lorimers_victory
			}
		}
		available = {
			custom_trigger_tooltip = {
				always = no
				tooltip = TUR_focus_autocomplete_tt
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_PHC_victory"
			effect_tooltip = {
				set_politics = {
					ruling_party = communism
				}
			}
			mark_focus_tree_layout_dirty = yes
		}
	}
	
	focus = {
		id = HAI_experience_of_fighting_the_american_occupation
		icon = GFX_z_goal_experience_of_fighting_the_american_occupation_black
		prerequisite = { focus = HAI_PHC_victory }
		x = 0
		y = 1
		relative_position_id = HAI_PHC_victory
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_experience_of_fighting_the_american_occupation"
			army_experience = 20
			if = {
				limit = {
					OR = {
						has_idea = disarmed_nation
						has_idea = volunteer_only
						has_idea = limited_conscription
					}
				}
				add_ideas = extensive_conscription
			}
			if = {
				limit = {
					OR = {
						has_idea = undisturbed_isolation
						has_idea = isolation
						has_idea = civilian_economy
					}
				}
				add_ideas = low_economic_mobilisation
			}
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.2
				uses = 2
				category = cat_mass_assault
			}
		}
	}
	
	focus = {
		id = HAI_proclaim_national_revolution
		icon = GFX_z_goal_proclaim_national_revolution_red
		prerequisite = { focus = HAI_experience_of_fighting_the_american_occupation }
		x = -3
		y = 1
		relative_position_id = HAI_experience_of_fighting_the_american_occupation
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_proclaim_national_revolution"
			add_ideas = HAI_national_revolution_idea
		}
	}
	
	focus = {
		id = HAI_end_american_influence
		icon = GFX_z_goal_end_american_influence
		prerequisite = { focus = HAI_proclaim_national_revolution }
		x = 0
		y = 1
		relative_position_id = HAI_proclaim_national_revolution
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_end_american_influence"
			custom_effect_tooltip = HAI_end_american_influence_tt
			add_war_support = 0.2
			add_stability = 0.075
			effect_tooltip = { remove_ideas = HAI_military_economic_dependence_on_united_states_idea_1 }
			hidden_effect = {
				remove_ideas = {
					HAI_military_economic_dependence_on_united_states_idea_1
					HAI_military_economic_dependence_on_united_states_idea_2
				}
			}
			if = {
				limit = { has_idea = HAI_apolitical_armed_forces_idea_1 }
				remove_ideas = HAI_apolitical_armed_forces_idea_1
			}
			else_if = {
				limit = { has_idea = HAI_apolitical_armed_forces_idea_2 }
				remove_ideas = HAI_apolitical_armed_forces_idea_2
			}
			else_if = {
				limit = { has_idea = HAI_apolitical_armed_forces_idea_3 }
				remove_ideas = HAI_apolitical_armed_forces_idea_3
			}
			add_opinion_modifier = { target = USA modifier = HAI_end_american_influence_op }
			add_opinion_modifier = { target = USA modifier = HAI_end_american_influence_op_trade }
			USA = {
				add_opinion_modifier = { target = ROOT modifier = HAI_end_american_influence_op2 }
				add_opinion_modifier = { target = ROOT modifier = HAI_end_american_influence_op_trade }
			}
			
			if = {
				limit = { has_guaranteed = USA }
				diplomatic_relation = { country = USA relation = guarantee active = no }
			}
			if = {
				limit = { gives_military_access_to = USA }
				diplomatic_relation = { country = USA relation = military_access active = no }
			}
			diplomatic_relation = { country = USA relation = docking_rights active = no }
			USA = {
				if = {
					limit = { has_non_aggression_pact_with = ROOT }
					diplomatic_relation = { country = ROOT relation = non_aggression_pact active = no }
				}
				if = {
					limit = { has_guaranteed = ROOT }
					diplomatic_relation = { country = ROOT relation = guarantee active = no }
				}
				if = {
					limit = { gives_military_access_to = ROOT }
					diplomatic_relation = { country = ROOT relation = military_access active = no }
				}
				diplomatic_relation = { country = ROOT relation = docking_rights active = no }
				country_event = { id = NWhaiti.36 hours = 3 }
			}
		}
	}
	
	focus = {
		id = HAI_awaken_rage_of_enslaved
		icon = GFX_z_goal_awaken_rage_of_enslaved
		prerequisite = { focus = HAI_end_american_influence }
		x = -2
		y = 1
		relative_position_id = HAI_end_american_influence
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_awaken_rage_of_enslaved"
			add_ideas = HAI_rage_of_dark_skinned_idea
		}
	}
	
	focus = {
		id = HAI_together_against_poverty
		icon = GFX_z_goal_together_against_poverty
		prerequisite = { focus = HAI_end_american_influence }
		x = 0
		y = 1
		relative_position_id = HAI_end_american_influence
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_together_against_poverty"
			swap_ideas = {
				remove_idea = HAI_racial_and_social_tensions_idea_1
				add_idea = HAI_racial_and_social_tensions_idea_PHC_1
			}
		}
	}
	
	focus = {
		id = HAI_start_fight_against_ignorance
		icon = GFX_z_goal_start_fight_against_ignorance
		prerequisite = { focus = HAI_end_american_influence }
		x = 2
		y = 1
		relative_position_id = HAI_end_american_influence
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_start_fight_against_ignorance"
			add_stability = 0.095
			swap_ideas = {
				remove_idea = HAI_backward_transport_and_social_infrastructure_idea_2
				add_idea = HAI_backward_transport_and_social_infrastructure_idea_PHC_1
			}
		}
	}
	
	focus = {
		id = HAI_creation_of_national_militia
		icon = GFX_z_goal_creation_of_national_militia_black
		prerequisite = { focus = HAI_awaken_rage_of_enslaved }
		x = -3
		y = 1
		relative_position_id = HAI_awaken_rage_of_enslaved
		
		cost = 7
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_creation_of_national_militia"
			army_experience = 20
			add_manpower = 25000
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = cat_mass_assault
			}
			if = {
				limit = { NOT = { has_idea = service_by_requirement has_idea = all_adults_serve has_idea = scraping_the_barrel } }
				add_ideas = service_by_requirement
			}
			if = {
				limit = { NOT = { has_idea = war_economy has_idea = tot_economic_mobilisation } }
				add_ideas = war_economy
			}
		}
	}
	
	focus = {
		id = HAI_sow_hatred_in_minds
		icon = GFX_z_goal_sow_hatred_in_minds_red
		prerequisite = { focus = HAI_creation_of_national_militia }
		x = -2
		y = 1
		relative_position_id = HAI_creation_of_national_militia
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_completed_focus = HAI_haitian_patriotic_youth_league
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_sow_hatred_in_minds"
			swap_ideas = {
				remove_idea = HAI_rage_of_dark_skinned_idea_2
				add_idea = HAI_rage_of_dark_skinned_idea_3
			}
		}
	}
	
	focus = {
		id = HAI_womens_rights_and_duties
		icon = GFX_focus_generic_women_in_military
		prerequisite = { focus = HAI_sow_hatred_in_minds }
		x = -2
		y = 1
		relative_position_id = HAI_sow_hatred_in_minds
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_womens_rights_and_duties"
			add_ideas = HAI_womens_rights_and_duties_idea
		}
	}
	
	focus = {
		id = HAI_preparation_for_war_against_imperialism
		icon = GFX_z_goal_preparation_for_war_against_imperialism_red
		prerequisite = { focus = HAI_sow_hatred_in_minds }
		x = 0
		y = 1
		relative_position_id = HAI_sow_hatred_in_minds
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_preparation_for_war_against_imperialism"
			swap_ideas = {
				remove_idea = HAI_rage_of_dark_skinned_idea_3
				add_idea = HAI_rage_of_dark_skinned_idea_4
			}
			every_controlled_state = {
				limit = { OR = { state = 869 state = 318 } }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = HAI_theory_of_protracted_war
		icon = GFX_z_goal_theory_of_protracted_war
		prerequisite = { focus = HAI_creation_of_national_militia }
		x = 0
		y = 1
		relative_position_id = HAI_creation_of_national_militia
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_theory_of_protracted_war"
			add_ideas = HAI_theory_of_protracted_war_idea
		}
	}
	
	focus = {
		id = HAI_introduction_of_subversive_methods
		icon = GFX_z_goal_introduction_of_subversive_methods
		prerequisite = { focus = HAI_theory_of_protracted_war }
		x = 0
		y = 1
		relative_position_id = HAI_theory_of_protracted_war
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_introduction_of_subversive_methods"
			swap_ideas = {
				remove_idea = HAI_theory_of_protracted_war_idea
				add_idea = HAI_theory_of_protracted_war_idea_2
			}
		}
	}
	
	focus = {
		id = HAI_creation_of_terrorist_cells
		icon = GFX_z_goal_creation_of_terrorist_cells
		prerequisite = { focus = HAI_preparation_for_war_against_imperialism }
		prerequisite = { focus = HAI_introduction_of_subversive_methods }
		x = 1
		y = 1
		relative_position_id = HAI_preparation_for_war_against_imperialism
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_creation_of_terrorist_cells"
			unlock_decision_category_tooltip = HAI_preparation_of_terrorist_cells_category
		}
	}
	
	focus = {
		id = HAI_haitian_patriotic_youth_league
		icon = GFX_z_goal_HAI_haitian_patriotic_youth_league
		prerequisite = { focus = HAI_awaken_rage_of_enslaved }
		x = -1
		y = 1
		relative_position_id = HAI_awaken_rage_of_enslaved
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_haitian_patriotic_youth_league"
			swap_ideas = {
				remove_idea = HAI_rage_of_dark_skinned_idea
				add_idea = HAI_rage_of_dark_skinned_idea_2
			}
			unlock_decision_tooltip = HAI_arming_haitian_youth
			custom_effect_tooltip = decision_available_in_war
		}
	}
	
	focus = {
		id = HAI_form_cultural_vanguard
		icon = GFX_z_goal_form_cultural_vanguard
		prerequisite = { focus = HAI_haitian_patriotic_youth_league }
		x = 0
		y = 1
		relative_position_id = HAI_haitian_patriotic_youth_league
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_form_cultural_vanguard"
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HAI_jacques_stephen_alexis
			show_ideas_tooltip = HAI_philippe_thoby_marcelin
			show_ideas_tooltip = HAI_emile_roumer
		}
	}
	
	focus = {
		id = HAI_preservation_of_religious_identity
		icon = GFX_z_goal_preservation_of_religious_identity_red
		prerequisite = { focus = HAI_form_cultural_vanguard }
		x = 0
		y = 1
		relative_position_id = HAI_form_cultural_vanguard
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_preservation_of_religious_identity"
			swap_ideas = {
				remove_idea = HAI_religious_setting__syncretic_catholicism_idea
				add_idea = HAI_religious_setting__voodoo_syncretism_idea
			}
		}
	}
	
	focus = {
		id = HAI_austerity_policy
		icon = GFX_z_goal_austerity_policy
		prerequisite = { focus = HAI_awaken_rage_of_enslaved }
		prerequisite = { focus = HAI_together_against_poverty }
		x = -1
		y = 1
		relative_position_id = HAI_together_against_poverty
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_austerity_policy"
			add_ideas = HAI_austerity_policy_idea
			capital_scope = {
				add_resource = {
					type = aluminium
					amount = 1
				}
				add_resource = {
					type = steel
					amount = 2
				}
			}
		}
	}
	
	focus = {
		id = HAI_unite_into_communes
		icon = GFX_z_goal_unite_into_communes
		prerequisite = { focus = HAI_austerity_policy }
		x = 0
		y = 1
		relative_position_id = HAI_austerity_policy
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_unite_into_communes"
			swap_ideas = {
				remove_idea = HAI_pernicious_situation_of_agriculture_idea_2
				add_idea = HAI_pernicious_situation_of_agriculture_idea_PHC_1
			}
		}
	}
	
	focus = {
		id = HAI_nationalization_of_foreign_companies
		icon = GFX_z_goal_nationalization_of_foreign_companies
		prerequisite = { focus = HAI_together_against_poverty }
		prerequisite = { focus = HAI_start_fight_against_ignorance }
		x = 1
		y = 1
		relative_position_id = HAI_together_against_poverty
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_nationalization_of_foreign_companies"
			add_stability = 0.055
			if = {
				limit = { NOT = { has_idea = limited_exports has_idea = closed_economy } }
				add_ideas = limited_exports
			}
			capital_scope = {
				add_resource = {
					type = rubber
					amount = 2
				}
				add_resource = {
					type = chromium
					amount = 2
				}
			}
			random_owned_controlled_state = {
				prioritize = { 869 }
				limit = { is_capital = no }
				add_resource = {
					type = rubber
					amount = 3
				}
				add_resource = {
					type = chromium
					amount = 3
				}
			}
			add_opinion_modifier = { target = ENG modifier = HAI_nationalization_of_foreign_companies }
			ENG = { add_opinion_modifier = { target = ROOT modifier = HAI_nationalization_of_foreign_companies } }
			add_opinion_modifier = { target = event_target:NW_france_scope modifier = HAI_nationalization_of_foreign_companies }
			event_target:NW_france_scope = { add_opinion_modifier = { target = ROOT modifier = HAI_nationalization_of_foreign_companies } }
			
			add_opinion_modifier = { target = ENG modifier = HAI_nationalization_of_foreign_companies_trade }
			ENG = { add_opinion_modifier = { target = ROOT modifier = HAI_nationalization_of_foreign_companies_trade } }
			add_opinion_modifier = { target = event_target:NW_france_scope modifier = HAI_nationalization_of_foreign_companies_trade }
			event_target:NW_france_scope = { add_opinion_modifier = { target = ROOT modifier = HAI_nationalization_of_foreign_companies_trade } }
		}
	}
	
	focus = {
		id = HAI_expropriation_of_aristocracys_possessions
		icon = GFX_z_goal_expropriation_of_aristocracys_possessions
		prerequisite = { focus = HAI_nationalization_of_foreign_companies }
		x = 0
		y = 1
		relative_position_id = HAI_nationalization_of_foreign_companies
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_expropriation_of_aristocracys_possessions"
			every_controlled_state = {
				limit = { OR = { state = 869 state = 318 state = 1189 } }
				add_extra_state_shared_building_slots = 1
			}
			swap_ideas = {
				remove_idea = HAI_racial_and_social_tensions_idea_PHC_1
				add_idea = HAI_racial_and_social_fracture_idea
			}
		}
	}
	
	focus = {
		id = HAI_seizure_of_church_wealth
		icon = GFX_z_goal_seizure_of_church_wealth_red
		prerequisite = { focus = HAI_expropriation_of_aristocracys_possessions }
		x = 1
		y = 1
		relative_position_id = HAI_expropriation_of_aristocracys_possessions
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_seizure_of_church_wealth"
			add_timed_idea = { idea = HAI_seizure_of_church_wealth_idea days = 365 }
		}
	}
	
	focus = {
		id = HAI_sprouts_of_new_life
		icon = GFX_z_goal_sprouts_of_new_life_red
		prerequisite = { focus = HAI_unite_into_communes }
		prerequisite = { focus = HAI_expropriation_of_aristocracys_possessions }
		x = -1
		y = 1
		relative_position_id = HAI_expropriation_of_aristocracys_possessions
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_stability > 0.5
			meta_trigger = {
				text = {
					[RULING_IDEOLOGY] > 0.6
				}
				RULING_IDEOLOGY = "[?current_party_ideology_group.GetTokenKey]"
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_sprouts_of_new_life"
			swap_ideas = {
				remove_idea = HAI_national_revolution_idea
				add_idea = HAI_national_revolution_idea_2
			}
			random_owned_controlled_state = {
				prioritize = { 869 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = HAI_unite_the_proletariat
		icon = GFX_z_goal_black_poletariate
		prerequisite = { focus = HAI_sprouts_of_new_life }
		x = -3
		y = 1
		relative_position_id = HAI_sprouts_of_new_life
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_unite_the_proletariat"
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HAI_daniel_fignole
			add_ideas = HAI_proletarian_unions_idea
		}
	}
	
	focus = {
		id = HAI_port_au_prince_shipyards
		icon = GFX_z_goal_port_au_prince_shipyards_dock
		prerequisite = { focus = HAI_unite_the_proletariat }
		x = -1
		y = 1
		relative_position_id = HAI_unite_the_proletariat
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			controls_state = 318
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_port_au_prince_shipyards"
			navy_experience = 15
			add_tech_bonus = {
				name = HAI_port_au_prince_shipyards
				bonus = 1.0
				uses = 2
				category = naval_equipment
			}
			318 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 3
					province = 4641
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = HAI_development_of_industrial_enterprises
		icon = GFX_z_goal_industrial_soviet
		prerequisite = { focus = HAI_port_au_prince_shipyards }
		mutually_exclusive = { focus = HAI_support_artisanal_fishing }
		x = 0
		y = 1
		relative_position_id = HAI_port_au_prince_shipyards
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_completed_focus = HAI_joining_the_comintern
		}
		bypass = {
			has_country_flag = HAI_points_of_dependence_on_ussr_block_flag
			NOT = { is_subject_of = SOV }	# смысла в условии нет, чисто для тултипа
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_development_of_industrial_enterprises"
			add_tech_bonus = {
				name = HAI_development_of_industrial_enterprises
				bonus = 0.5
				uses = 2
				category = industry
			}
			random_owned_controlled_state = {
				prioritize = { 318 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				if = {
					limit = { infrastructure > 4 }
					custom_effect_tooltip = infrastructure_bonus_effect_tt
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { has_variable = points_of_dependence_on_ussr_var }
				add_to_variable = { points_of_dependence_on_ussr_var = 12 tooltip = points_of_dependence_on_ussr_effect_tt }
				clamp_variable = { var = points_of_dependence_on_ussr_var min = 0 max = 100 }
				HAI_update_actual_points_of_dependence_on_ussr_idea = yes
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): HAI_development_of_industrial_enterprises // change points_of_dependence_on_ussr_var = +12"
			}
		}
	}
	
	focus = {
		id = HAI_establish_labor_standards
		icon = GFX_z_goal_establish_labor_standards_black
		prerequisite = { focus = HAI_unite_the_proletariat }
		x = 1
		y = 1
		relative_position_id = HAI_unite_the_proletariat
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_establish_labor_standards"
			swap_ideas = {
				remove_idea = HAI_proletarian_unions_idea
				add_idea = HAI_proletarian_unions_idea_2
			}
		}
	}
	
	focus = {
		id = HAI_support_artisanal_fishing
		icon = GFX_z_goal_support_artisanal_fishing_weapons
		prerequisite = { focus = HAI_establish_labor_standards }
		mutually_exclusive = { focus = HAI_development_of_industrial_enterprises }
		x = 0
		y = 1
		relative_position_id = HAI_establish_labor_standards
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_support_artisanal_fishing"
			add_tech_bonus = {
				name = HAI_support_artisanal_fishing
				bonus = 0.35
				uses = 3
				category = dispersed_industry_category
			}
			add_ideas = HAI_handicraft_production_idea
		}
	}
	
	focus = {
		id = HAI_help_of_soviet_engineers
		icon = GFX_z_goal_industry_work
		prerequisite = {
			focus = HAI_development_of_industrial_enterprises
			focus = HAI_support_artisanal_fishing
		}
		x = 1
		y = 1
		relative_position_id = HAI_development_of_industrial_enterprises
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_completed_focus = HAI_joining_the_comintern
		}
		bypass = {
			has_country_flag = HAI_points_of_dependence_on_ussr_block_flag
			NOT = { is_subject_of = SOV }	# смысла в условии нет, чисто для тултипа
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_help_of_soviet_engineers"
			add_tech_bonus = {
				name = HAI_help_of_soviet_engineers
				bonus = 0.6
				uses = 3
				category = industry
			}
			if = {
				limit = { has_variable = points_of_dependence_on_ussr_var }
				add_to_variable = { points_of_dependence_on_ussr_var = 12 tooltip = points_of_dependence_on_ussr_effect_tt }
				clamp_variable = { var = points_of_dependence_on_ussr_var min = 0 max = 100 }
				HAI_update_actual_points_of_dependence_on_ussr_idea = yes
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): HAI_help_of_soviet_engineers // change points_of_dependence_on_ussr_var = +12"
			}
		}
	}
	
	focus = {
		id = HAI_collective_agriculture
		icon = GFX_z_goal_collective_agriculture_red
		prerequisite = { focus = HAI_sprouts_of_new_life }
		x = 1
		y = 1
		relative_position_id = HAI_sprouts_of_new_life
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_collective_agriculture"
			unlock_decision_category_tooltip = HAI_organization_of_collective_labor_category
		}
	}
	
	focus = {
		id = HAI_provide_workers_with_food
		icon = GFX_z_goal_provide_workers_with_food
		prerequisite = { focus = HAI_collective_agriculture }
		x = -1
		y = 1
		relative_position_id = HAI_collective_agriculture
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_provide_workers_with_food"
			add_stability = 0.07
			swap_ideas = {
				remove_idea = HAI_backward_transport_and_social_infrastructure_idea_PHC_1
				add_idea = HAI_backward_transport_and_social_infrastructure_idea_PHC_2
			}
			every_controlled_state = {
				limit = { OR = { state = 869 state = 318 } }
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = HAI_construction_of_rural_roads
		icon = GFX_z_goal_restore_haitian_roads
		prerequisite = { focus = HAI_provide_workers_with_food }
		x = 0
		y = 1
		relative_position_id = HAI_provide_workers_with_food
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_construction_of_rural_roads"
			hidden_effect = {
				set_variable = { num_of_infrastructure = 0 }
				set_variable = { target_num_of_infrastructure = 0 }
				while_loop_effect = {
					limit = {
						infrastructure > var:num_of_infrastructure
					}
					add_to_variable = { num_of_infrastructure = 1 }
				}
				set_variable = { target_num_of_infrastructure = num_of_infrastructure }
				add_to_variable = { target_num_of_infrastructure = 3 }
				
				add_ideas = HAI_construction_of_rural_roads
			}
			activate_mission = HAI_construction_of_rural_roads
		}
	}
	
	focus = {
		id = HAI_combating_soil_erosion
		icon = GFX_z_goal_combating_soil_erosion
		prerequisite = { focus = HAI_collective_agriculture }
		x = 1
		y = 1
		relative_position_id = HAI_collective_agriculture
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_country_flag = HAI_cultivation_of_gonaiva_swamps_flag
			has_country_flag = HAI_cultivation_of_mato_ridge_flag
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_combating_soil_erosion"
			swap_ideas = {
				remove_idea = HAI_pernicious_situation_of_agriculture_idea_PHC_1
				add_idea = HAI_pernicious_situation_of_agriculture_idea_PHC_2
			}
		}
	}
	
	focus = {
		id = HAI_invite_soviet_specialists
		icon = GFX_z_goal_invite_soviet_specialists_red
		prerequisite = { focus = HAI_combating_soil_erosion }
		x = 0
		y = 1
		relative_position_id = HAI_combating_soil_erosion
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_completed_focus = HAI_joining_the_comintern
		}
		bypass = {
			has_country_flag = HAI_points_of_dependence_on_ussr_block_flag
			NOT = { is_subject_of = SOV }	# смысла в условии нет, чисто для тултипа
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_invite_soviet_specialists"
			random_owned_controlled_state = {
				prioritize = { 869 }
				add_resource = {
					type = oil
					amount = 3
				}
			}
			add_ideas = HAI_soviet_breeders_and_chemists_idea
			if = {
				limit = { has_variable = points_of_dependence_on_ussr_var }
				add_to_variable = { points_of_dependence_on_ussr_var = 15 tooltip = points_of_dependence_on_ussr_effect_tt }
				clamp_variable = { var = points_of_dependence_on_ussr_var min = 0 max = 100 }
				HAI_update_actual_points_of_dependence_on_ussr_idea = yes
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): HAI_invite_soviet_specialists // change points_of_dependence_on_ussr_var = +15"
			}
		}
	}
	
	focus = {
		id = HAI_program_of_universal_equality
		icon = GFX_z_goal_abolition_of_conservative_measures
		prerequisite = { focus = HAI_construction_of_rural_roads }
		x = -1
		y = 1
		relative_position_id = HAI_construction_of_rural_roads
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_program_of_universal_equality"
			swap_ideas = {
				remove_idea = HAI_racial_and_social_fracture_idea
				add_idea = HAI_racial_and_social_fracture_idea_2
			}
		}
	}
	
	focus = {
		id = HAI_revive_haitian_village
		icon = GFX_z_goal_revive_haitian_village
		prerequisite = { focus = HAI_construction_of_rural_roads }
		prerequisite = { focus = HAI_invite_soviet_specialists }
		x = 1
		y = 1
		relative_position_id = HAI_construction_of_rural_roads
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_revive_haitian_village"
			swap_ideas = {
				remove_idea = HAI_pernicious_situation_of_agriculture_idea_PHC_2
				add_idea = HAI_pernicious_situation_of_agriculture_idea_PHC_3
			}
			if = {
				limit = { has_idea = HAI_backward_transport_and_social_infrastructure_idea_PHC_2 }
				swap_ideas = {
					remove_idea = HAI_backward_transport_and_social_infrastructure_idea_PHC_2
					add_idea = HAI_backward_transport_and_social_infrastructure_idea_PHC_4
				}
			}
			else_if = {
				limit = { has_idea = HAI_backward_transport_and_social_infrastructure_idea_PHC_3 }
				swap_ideas = {
					remove_idea = HAI_backward_transport_and_social_infrastructure_idea_PHC_3
					add_idea = HAI_backward_transport_and_social_infrastructure_idea_PHC_3_4
				}
			}
			custom_effect_tooltip = HAI_revive_haitian_village_effect_tt
			hidden_effect = {
				if = {
					limit = { num_of_civilian_factories > 9 has_stability > 0.750 }
					add_offsite_building = { type = industrial_complex level = 1 }
				}
			}
		}
	}
	
	focus = {
		id = HAI_export_of_cash_crops_to_ussr
		icon = GFX_z_goal_HAI_export_of_cash_crops_to_ussr
		prerequisite = { focus = HAI_invite_soviet_specialists }
		x = 1
		y = 1
		relative_position_id = HAI_invite_soviet_specialists
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_completed_focus = HAI_joining_the_comintern
		}
		bypass = {
			has_completed_focus = HAI_joining_the_comintern
			NOT = { is_in_faction_with = SOV }
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_export_of_cash_crops_to_ussr"
			if = {
				limit = { has_variable = points_of_dependence_on_ussr_var }
				custom_effect_tooltip = HAI_export_of_cash_crops_to_ussr_tt
				effect_tooltip = { add_to_variable = { points_of_dependence_on_ussr_var = -4 tooltip = points_of_dependence_on_ussr_effect_tt } }
				custom_effect_tooltip = HAI_export_of_cash_crops_to_ussr_tt2
				hidden_effect = {
					set_temp_variable = { temp1 = num_of_civilian_factories }
					multiply_temp_variable = { temp1 = -4 }
					add_to_variable = { points_of_dependence_on_ussr_var = temp1 }
					clamp_variable = { var = points_of_dependence_on_ussr_var min = 0 max = 100 }
					
					if = {
						limit = { check_variable = { points_of_dependence_on_ussr_var < 20 } }
						add_offsite_building = { type = industrial_complex level = 1 }
					}
				}
				clamp_variable = { var = points_of_dependence_on_ussr_var min = 0 max = 100 }
				HAI_update_actual_points_of_dependence_on_ussr_idea = yes
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): HAI_export_of_cash_crops_to_ussr // change points_of_dependence_on_ussr_var = [?temp1|=]"
			}
			else = { add_offsite_building = { type = industrial_complex level = 1 } }
		}
	}
	
	focus = {
		id = HAI_eradicate_feudal_remnants
		icon = GFX_z_goal_BRW_removal_of_chiefs
		prerequisite = { focus = HAI_help_of_soviet_engineers }
		prerequisite = { focus = HAI_program_of_universal_equality }
		prerequisite = { focus = HAI_revive_haitian_village }
		prerequisite = { focus = HAI_export_of_cash_crops_to_ussr }
		x = 1
		y = 1
		relative_position_id = HAI_program_of_universal_equality
		
		cost = 14
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			has_stability > 0.7
			meta_trigger = {
				text = {
					[RULING_IDEOLOGY] > 0.75
				}
				RULING_IDEOLOGY = "[?current_party_ideology_group.GetTokenKey]"
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_eradicate_feudal_remnants"
			add_stability = 0.1
			add_political_power = 190
			remove_ideas = HAI_pernicious_situation_of_agriculture_idea_PHC_3
			if = {
				limit = { has_idea = HAI_backward_transport_and_social_infrastructure_idea_PHC_3_4 }
				remove_ideas = HAI_backward_transport_and_social_infrastructure_idea_PHC_3_4
			}
			else = { remove_ideas = HAI_backward_transport_and_social_infrastructure_idea_PHC_4 }
		}
	}
	
	focus = {
		id = HAI_opening_of_rural_schools
		icon = GFX_z_goal_opening_of_rural_schools
		prerequisite = { focus = HAI_start_fight_against_ignorance }
		x = 1
		y = 1
		relative_position_id = HAI_start_fight_against_ignorance
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_opening_of_rural_schools"
			add_ideas = HAI_universal_primary_education_program_idea_1
			sync_research_slot = yes
		}
	}
	
	focus = {
		id = HAI_achieve_universal_literacy
		icon = GFX_z_goal_achieve_universal_literacy_education
		prerequisite = { focus = HAI_opening_of_rural_schools }
		x = 0
		y = 1
		relative_position_id = HAI_opening_of_rural_schools
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_achieve_universal_literacy"
			swap_ideas = {
				remove_idea = HAI_universal_primary_education_program_idea_1
				add_idea = HAI_universal_primary_education_program_idea_2
			}
			sync_research_slot = yes
		}
	}
	
	
	focus = {
		id = HAI_support_stalins_course
		icon = GFX_z_goal_HAI_support_stalins_course
		prerequisite = { focus = HAI_experience_of_fighting_the_american_occupation }
		x = 4
		y = 1
		relative_position_id = HAI_experience_of_fighting_the_american_occupation
		
		cost = 2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			SOV = { has_country_leader = { character = SOV_iosif_stalin ruling_only = yes } }
		}
		bypass = {
			NOT = { SOV = { has_country_leader = { character = SOV_iosif_stalin ruling_only = yes } } }
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_support_stalins_course"
			SOV = { add_opinion_modifier = { target = ROOT modifier = HAI_support_stalins_course_op } }
		}
	}
	
	focus = {
		id = HAI_joining_the_comintern
		icon = GFX_z_goal_joining_the_comintern_red
		prerequisite = { focus = HAI_support_stalins_course }
		x = 0
		y = 2
		relative_position_id = HAI_support_stalins_course
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
			OR = {
				is_in_faction_with = SOV
				NOT = { country_exists = SOV }
				SOV = {
					OR = {
						is_faction_leader = no
						NOT = {
							has_government = communism
							has_government = trozkism
						}
						has_war_with = ROOT
					}
				}
			}
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_joining_the_comintern"
			SOV = {
				country_event = { id = NWhaiti.41 hours = 6 }
				custom_effect_tooltip = needs_approval
				effect_tooltip = {
					add_to_faction = ROOT
					unlock_decision_category_tooltip = HAI_dependence_on_soviet_union_category
				}
			}
		}
	}
	
	focus = {
		id = HAI_means_for_revolution
		icon = GFX_z_goal_means_for_revolution_red
		prerequisite = { focus = HAI_joining_the_comintern }
		x = 0
		y = 1
		relative_position_id = HAI_joining_the_comintern
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			NOT = { has_war_with = SOV }
		}
		bypass = {
			has_country_flag = HAI_points_of_dependence_on_ussr_block_flag
			NOT = { is_subject_of = SOV }	# смысла в условии нет, чисто для тултипа
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_means_for_revolution"
			random_owned_controlled_state = {
				prioritize = { 869 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = { country_exists = CUB }
				CUB = { add_popularity = { ideology = communism popularity = 0.1 } }
			}
			if = {
				limit = { country_exists = DOM }
				DOM = { add_popularity = { ideology = communism popularity = 0.1 } }
			}
			if = {
				limit = { has_variable = points_of_dependence_on_ussr_var }
				add_to_variable = { points_of_dependence_on_ussr_var = 18 tooltip = points_of_dependence_on_ussr_effect_tt }
				clamp_variable = { var = points_of_dependence_on_ussr_var min = 0 max = 100 }
				HAI_update_actual_points_of_dependence_on_ussr_idea = yes
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): HAI_means_for_revolution // change points_of_dependence_on_ussr_var = +18"
			}
		}
	}
	
	focus = {
		id = HAI_student_exchange_program
		icon = GFX_z_goal_student_exchange_program
		prerequisite = { focus = HAI_opening_of_rural_schools }
		prerequisite = { focus = HAI_means_for_revolution }
		x = 2
		y = 1
		relative_position_id = HAI_opening_of_rural_schools
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			NOT = { has_war_with = SOV }
		}
		bypass = {
			has_country_flag = HAI_points_of_dependence_on_ussr_block_flag
			NOT = { is_subject_of = SOV }	# смысла в условии нет, чисто для тултипа
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_student_exchange_program"
			add_tech_bonus = {
				name = HAI_student_exchange_program
				bonus = 0.15
				uses = 8
				category = electronics
				category = industry
				category = armor
				category = air_equipment
			}
			if = {
				limit = { is_in_faction_with = SOV }
				add_to_tech_sharing_group = HAI_SOV_science_group
				SOV = { add_to_tech_sharing_group = HAI_SOV_science_group }
			}
			if = {
				limit = { has_variable = points_of_dependence_on_ussr_var }
				add_to_variable = { points_of_dependence_on_ussr_var = 5 tooltip = points_of_dependence_on_ussr_effect_tt }
				clamp_variable = { var = points_of_dependence_on_ussr_var min = 0 max = 100 }
				HAI_update_actual_points_of_dependence_on_ussr_idea = yes
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): HAI_student_exchange_program // change points_of_dependence_on_ussr_var = +5"
			}
		}
	}
	
	focus = {
		id = HAI_university_of_culture_and_archaeology
		icon = GFX_z_goal_university_of_culture_and_archaeology
		prerequisite = { focus = HAI_achieve_universal_literacy }
		prerequisite = { focus = HAI_student_exchange_program }
		x = 1
		y = 1
		relative_position_id = HAI_achieve_universal_literacy
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_university_of_culture_and_archaeology"
			add_research_slot = 1
		}
	}
	
	focus = {
		id = HAI_financing_of_caribbean_antiimperialist_initiative
		icon = GFX_z_goal_financing_of_caribbean_antiimperialist_initiative_red
		prerequisite = { focus = HAI_means_for_revolution }
		x = 0
		y = 1
		relative_position_id = HAI_means_for_revolution
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_financing_of_caribbean_antiimperialist_initiative"
			add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 6500 producer = SOV }
			add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 850 producer = SOV }
			add_equipment_to_stockpile = { type = support_equipment amount = 950 producer = SOV }
			unlock_decision_category_tooltip = HAI_preparing_ground_for_revolution_category
			if = {
				limit = { has_variable = points_of_dependence_on_ussr_var }
				add_to_variable = { points_of_dependence_on_ussr_var = 11 tooltip = points_of_dependence_on_ussr_effect_tt }
				clamp_variable = { var = points_of_dependence_on_ussr_var min = 0 max = 100 }
				HAI_update_actual_points_of_dependence_on_ussr_idea = yes
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): HAI_financing_of_caribbean_antiimperialist_initiative // change points_of_dependence_on_ussr_var = +11"
			}
		}
	}
	
	focus = {
		id = HAI_construction_of_military_bases
		icon = GFX_z_goal_construction_of_military_bases_red
		prerequisite = { focus = HAI_means_for_revolution }
		x = 3
		y = 1
		relative_position_id = HAI_means_for_revolution
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			controls_state = 869
			controls_state = 318
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_construction_of_military_bases"
			318 = {
				add_building_construction = {
					type = naval_base
					level = 3
					province = 4641
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
			869 = {
				add_building_construction = {
					type = naval_base
					level = 3
					province = 1594
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
			build_railway = {
				path = {
					4641 14691 14482 1594
				}
				level = 2
			}
		}
	}
	
	focus = {
		id = HAI_national_defense_plan_red
		icon = GFX_z_goal_national_defense_plan_red
		prerequisite = { focus = HAI_financing_of_caribbean_antiimperialist_initiative }
		x = -1
		y = 1
		relative_position_id = HAI_financing_of_caribbean_antiimperialist_initiative
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			controls_state = 318
			controls_state = 869
			controls_state = 1189
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_national_defense_plan_red"
			869 = {
				add_building_construction = {
					type = coastal_bunker
					level = 4
					province = 1594
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border_country = DOM
					}
				}
				add_dynamic_modifier = { modifier = HAI_national_defense_plan_idea_dyn }
			}
			318 = {
				
				add_building_construction = {
					type = coastal_bunker
					level = 4
					province = 4641
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border_country = DOM
					}
				}
				add_dynamic_modifier = { modifier = HAI_national_defense_plan_idea_dyn }
			}
			1189 = {
				add_dynamic_modifier = { modifier = HAI_national_defense_plan_idea_dyn }
			}
		}
	}
	
	focus = {
		id = HAI_excursions_to_science_cities
		icon = GFX_z_goal_excursions_to_science_cities
		prerequisite = { focus = HAI_financing_of_caribbean_antiimperialist_initiative }
		prerequisite = { focus = HAI_construction_of_military_bases }
		x = 1
		y = 1
		relative_position_id = HAI_financing_of_caribbean_antiimperialist_initiative
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			country_exists = SOV
			NOT = { has_war_with = SOV }
		}
		bypass = {
			has_country_flag = HAI_points_of_dependence_on_ussr_block_flag
			NOT = { is_subject_of = SOV }	# смысла в условии нет, чисто для тултипа
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_excursions_to_science_cities"
			add_tech_bonus = {
				name = HAI_excursions_to_science_cities
				bonus = 0.55
				uses = 3
				category = electronics
				category = industry
				category = armor
				category = air_equipment
			}
			if = {
				limit = { has_variable = points_of_dependence_on_ussr_var }
				add_to_variable = { points_of_dependence_on_ussr_var = 7 tooltip = points_of_dependence_on_ussr_effect_tt }
				clamp_variable = { var = points_of_dependence_on_ussr_var min = 0 max = 100 }
				HAI_update_actual_points_of_dependence_on_ussr_idea = yes
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): HAI_excursions_to_science_cities // change points_of_dependence_on_ussr_var = +7"
			}
		}
	}
	
	focus = {
		id = HAI_training_of_soviet_fighters
		icon = GFX_z_goal_training_of_soviet_soldat_red
		prerequisite = { focus = HAI_construction_of_military_bases }
		x = 0
		y = 1
		relative_position_id = HAI_construction_of_military_bases
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			country_exists = SOV
			NOT = { has_war_with = SOV }
		}
		bypass = {
			has_country_flag = HAI_points_of_dependence_on_ussr_block_flag
			NOT = { is_subject_of = SOV }	# смысла в условии нет, чисто для тултипа
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_training_of_soviet_fighters"
			army_experience = 15
			add_tech_bonus = {
				name = HAI_training_of_soviet_fighters
				bonus = 0.5
				uses = 2
				category = special_forces_tech
			}
			SOV = {
				army_experience = 15
				add_tech_bonus = {
					name = HAI_training_of_soviet_fighters
					bonus = 0.5
					uses = 2
					category = special_forces_tech
				}
				custom_effect_tooltip = RAJ_jungle_training_effect
				hidden_effect = { set_technology = { jungle_warfare = 1 } }
				add_ideas = HAI_preparing_for_jungle_war_idea
			}
			if = {
				limit = { has_variable = points_of_dependence_on_ussr_var }
				add_to_variable = { points_of_dependence_on_ussr_var = -9 tooltip = points_of_dependence_on_ussr_effect_tt }
				custom_effect_tooltip = HAI_training_of_soviet_fighters_tt
				effect_tooltip = { add_to_variable = { points_of_dependence_on_ussr_var = -2 tooltip = points_of_dependence_on_ussr_effect_tt } }
				hidden_effect = {
					set_temp_variable = { temp1 = army_experience }
					divide_temp_variable = { temp1 = 10 }
					subtract_from_temp_variable = { temp1 = 0.1 }
					round_temp_variable = temp1
					multiply_temp_variable = { temp1 = -2 }
					add_to_variable = { points_of_dependence_on_ussr_var = temp1 }
				}
				clamp_variable = { var = points_of_dependence_on_ussr_var min = 0 max = 100 }
				HAI_update_actual_points_of_dependence_on_ussr_idea = yes
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): HAI_training_of_soviet_fighters // change points_of_dependence_on_ussr_var = [?temp1|=]"
			}
		}
	}
	
	focus = {
		id = HAI_the_nation_of_hispaniola
		icon = GFX_z_goal_HAI_the_nation_of_hispaniola
		prerequisite = { focus = HAI_national_defense_plan_red }
		x = 0
		y = 1
		relative_position_id = HAI_national_defense_plan_red
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}
		
		will_lead_to_war_with = DOM
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_the_nation_of_hispaniola"
			add_state_core = 319
			custom_effect_tooltip = HAI_the_nation_of_hispaniola_tt
			effect_tooltip = { add_state_core = 870 }
			hidden_effect = {
				if = {
					limit = { 870 = { owner = { communism > 0.2 } } }
					add_state_core = 870
				}
			}
			if = {
				limit = {
					country_exists = DOM
					DOM = {
						NOT = {
							has_war_with = ROOT
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = DOM
					expire = 0
					generator = { 870 319 }
				}
			}
		}
	}
	
	focus = {
		id = HAI_end_oppression_of_afro_cubans
		icon = GFX_z_goal_HAI_end_oppression_of_afro_cubans
		prerequisite = { focus = HAI_the_nation_of_hispaniola }
		x = 0
		y = 1
		relative_position_id = HAI_the_nation_of_hispaniola
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}
		
		will_lead_to_war_with = CUB
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_end_oppression_of_afro_cubans"
			navy_experience = 10
			add_tech_bonus = {
				name = HAI_end_oppression_of_afro_cubans
				bonus = 1.0
				uses = 2
				category = tp_tech
			}
			add_state_core = 864
			if = {
				limit = {
					country_exists = CUB
					CUB = {
						NOT = {
							has_war_with = ROOT
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = CUB
					expire = 0
				}
			}
		}
	}
	
	focus = {
		id = HAI_theory_of_the_afro_caribbean_nation
		icon = GFX_z_goal_HAI_theory_of_the_afro_caribbean_nation
		prerequisite = { focus = HAI_end_oppression_of_afro_cubans }
		x = 0
		y = 1
		relative_position_id = HAI_end_oppression_of_afro_cubans
		
		cost = 9
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_theory_of_the_afro_caribbean_nation"
			add_ideas = HAI_afro_caribbean_unity_idea
			if = {
				limit = {
					any_of_scopes = {
						array = CUB.core_states
						NOT = { is_core_of = ROOT }
					}
				}
				unlock_decision_tooltip = HAI_african_and_mulatto_heritage_of_cuba
			}
			if = {
				limit = { 870 = { NOT = { is_core_of = ROOT } } }
				unlock_decision_tooltip = HAI_african_and_mulatto_heritage_of_dominicana
			}
		}
	}
	
	focus = {
		id = HAI_fortification_of_coast
		icon = GFX_z_goal_fortification_of_coast
		prerequisite = { focus = HAI_national_defense_plan_red }
		prerequisite = { focus = HAI_excursions_to_science_cities }
		prerequisite = { focus = HAI_training_of_soviet_fighters }
		x = 0
		y = 1
		relative_position_id = HAI_excursions_to_science_cities
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_fortification_of_coast"
			hidden_effect = {
				set_variable = { num_of_coastal_bunker = 0 }
				set_variable = { target_num_of_bunker = 0 }
				while_loop_effect = {
					limit = {
						coastal_bunker > var:num_of_coastal_bunker
					}
					add_to_variable = { num_of_coastal_bunker = 1 }
				}
				set_variable = { target_num_of_bunker = num_of_coastal_bunker }
				set_temp_variable = { start_num_of_bunker = target_num_of_bunker }
				add_to_variable = { target_num_of_bunker = 11 }
				
				set_variable = { delta_num_of_bunker = target_num_of_bunker }
				# subtract_from_variable = { delta_num_of_bunker = total_num_of_bunker }
				subtract_from_variable = { delta_num_of_bunker = start_num_of_bunker }
				
				country_event = { id = NWhaiti.997 days = 14 }
				log = "NWhaiti.997: [?num_of_bunker] / [?num_of_coastal_bunker] / [?target_num_of_bunker] / [?start_num_of_bunker] / [?delta_num_of_bunker]"
			}
			activate_mission = HAI_coast_fortification_plan_mission
			custom_effect_tooltip = HAI_coast_fortification_plan_mission_tasks_tt
		}
	}
	
	focus = {
		id = HAI_opening_of_underground_enterprises
		icon = GFX_z_goal_opening_of_underground_enterprises
		prerequisite = { focus = HAI_fortification_of_coast }
		x = 0
		y = 1
		relative_position_id = HAI_fortification_of_coast
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_opening_of_underground_enterprises"
			add_ideas = HAI_opening_of_underground_enterprises_idea
		}
	}
	
	focus = {
		id = HAI_purchase_of_soviet_armored_vehicles
		icon = GFX_z_goal_purchase_of_soviet_armored_vehicles
		prerequisite = { focus = HAI_excursions_to_science_cities }
		prerequisite = { focus = HAI_training_of_soviet_fighters }
		x = 0
		y = 1
		relative_position_id = HAI_training_of_soviet_fighters
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			country_exists = SOV
			NOT = { has_war_with = SOV }
		}
		bypass = {
			has_country_flag = HAI_points_of_dependence_on_ussr_block_flag
			NOT = { is_subject_of = SOV }	# смысла в условии нет, чисто для тултипа
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_purchase_of_soviet_armored_vehicles"
			army_experience = 5
			add_tech_bonus = {
				name = HAI_purchase_of_soviet_armored_vehicles
				bonus = 0.75
				uses = 2
				category = armor
			}
			unlock_decision_tooltip = HAI_purchase_of_soviet_armored_vehicles_dec
			unlock_decision_tooltip = HAI_creation_of_armored_forces
		}
	}
	
	focus = {
		id = HAI_aviation_for_national_militia
		icon = GFX_z_goal_aviation_for_national_militia_red
		prerequisite = { focus = HAI_purchase_of_soviet_armored_vehicles }
		x = 0
		y = 1
		relative_position_id = HAI_purchase_of_soviet_armored_vehicles
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
			has_country_flag = HAI_points_of_dependence_on_ussr_block_flag
			NOT = { is_subject_of = SOV }	# смысла в условии нет, чисто для тултипа
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_aviation_for_national_militia"
			if = {
				limit = { has_dlc = "Death or Dishonor" }
				SOV = {
					if = {
						limit = {
							has_tech = advanced_small_airframe
						}
						create_production_license = {
							target = ROOT
							equipment = {
								type = small_plane_airframe_3
							}
							cost_factor = 0.1
						}
						create_production_license = {
							target = ROOT
							equipment = {
								type = small_plane_cas_airframe_3
							}
							cost_factor = 0.1
						}
						create_production_license = {
							target = ROOT
							equipment = {
								type = small_plane_naval_bomber_airframe_3
							}
							cost_factor = 0.1
						}
						ROOT = {
							add_equipment_to_stockpile = { type = small_plane_airframe_3				producer = SOV	amount = 20 }
							add_equipment_to_stockpile = { type = small_plane_cas_airframe_3			producer = SOV	amount = 20 }
							add_equipment_to_stockpile = { type = small_plane_naval_bomber_airframe_3	producer = SOV	amount = 20 }
							add_equipment_to_stockpile = { type = transport_plane_equipment				producer = SOV	amount = 20 }
						}
					}
					else_if = {
						limit = {
							has_tech = improved_small_airframe
						}
						create_production_license = {
							target = ROOT
							equipment = {
								type = small_plane_airframe_2
							}
							cost_factor = 0.1
						}
						create_production_license = {
							target = ROOT
							equipment = {
								type = small_plane_cas_airframe_2
							}
							cost_factor = 0.1
						}
						create_production_license = {
							target = ROOT
							equipment = {
								type = small_plane_naval_bomber_airframe_2
							}
							cost_factor = 0.1
						}
						ROOT = {
							add_equipment_to_stockpile = { type = small_plane_airframe_2				producer = SOV	amount = 20 }
							add_equipment_to_stockpile = { type = small_plane_cas_airframe_2			producer = SOV	amount = 20 }
							add_equipment_to_stockpile = { type = small_plane_naval_bomber_airframe_2	producer = SOV	amount = 20 }
							add_equipment_to_stockpile = { type = transport_plane_equipment				producer = SOV	amount = 20 }
						}
					}
					else = {
						create_production_license = {
							target = ROOT
							equipment = {
								type = small_plane_airframe_1
							}
							cost_factor = 0.1
						}
						create_production_license = {
							target = ROOT
							equipment = {
								type = small_plane_cas_airframe_1
							}
							cost_factor = 0.1
						}
						create_production_license = {
							target = ROOT
							equipment = {
								type = small_plane_naval_bomber_airframe_1
							}
							cost_factor = 0.1
						}
						ROOT = {
							add_equipment_to_stockpile = { type = small_plane_airframe_1				producer = SOV	amount = 20 }
							add_equipment_to_stockpile = { type = small_plane_cas_airframe_1			producer = SOV	amount = 20 }
							add_equipment_to_stockpile = { type = small_plane_naval_bomber_airframe_1	producer = SOV	amount = 20 }
							add_equipment_to_stockpile = { type = transport_plane_equipment				producer = SOV	amount = 20 }
						}
					}
				}
			}
			add_tech_bonus = {
				name = HAI_aviation_for_national_militia
				bonus = 0.85
				uses = 2
				category = air_equipment
			}
			add_ideas = HAI_haiti_air_force_idea
			if = {
				limit = { has_variable = points_of_dependence_on_ussr_var }
				add_to_variable = { points_of_dependence_on_ussr_var = 10 tooltip = points_of_dependence_on_ussr_effect_tt }
				clamp_variable = { var = points_of_dependence_on_ussr_var min = 0 max = 100 }
				HAI_update_actual_points_of_dependence_on_ussr_idea = yes
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): HAI_aviation_for_national_militia // change points_of_dependence_on_ussr_var = +10"
			}
		}
	}
	
	focus = {
		id = HAI_preparing_for_war_on_islands
		icon = GFX_z_goal_preparing_for_war_on_islands
		prerequisite = { focus = HAI_theory_of_the_afro_caribbean_nation }
		x = -1
		y = 1
		relative_position_id = HAI_theory_of_the_afro_caribbean_nation
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_preparing_for_war_on_islands"
			add_tech_bonus = {
				name = HAI_preparing_for_war_on_islands
				bonus = 0.5
				uses = 3
				category = naval_equipment
			}
			add_tech_bonus = {
				name = HAI_preparing_for_war_on_islands
				bonus = 2.0
				uses = 1
				category = naval_bomber
			}
			random_owned_controlled_state = {
				prioritize = { 869 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = HAI_consolidate_jamaican_resistance
		icon = GFX_z_goal_consolidate_jamaican_resistance
		prerequisite = { focus = HAI_preparing_for_war_on_islands }
		x = -1
		y = 1
		relative_position_id = HAI_preparing_for_war_on_islands
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
			689 = { controller = { NOT = { tag = ENG } } }
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_consolidate_jamaican_resistance"
			unlock_decision_tooltip = HAI_consolidate_jamaican_resistance
		}
	}
	
	focus = {
		id = HAI_arm_bustamante_strikers
		icon = GFX_z_goal_arm_bustamante_strikers_red
		prerequisite = { focus = HAI_consolidate_jamaican_resistance }
		x = 0
		y = 1
		relative_position_id = HAI_consolidate_jamaican_resistance
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_arm_bustamante_strikers"
			unlock_decision_tooltip = HAI_arm_bustamante_strikers
		}
	}
	
	focus = {
		id = HAI_protect_afro_bahamians
		icon = GFX_z_goal_protect_afro_bahamians
		prerequisite = { focus = HAI_preparing_for_war_on_islands }
		x = 1
		y = 1
		relative_position_id = HAI_preparing_for_war_on_islands
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
			NOT = {
				690 = { controller = { tag = ENG } }
				693 = { controller = { tag = ENG } }
			}
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_protect_afro_bahamians"
			unlock_decision_tooltip = HAI_cooperation_with_bahamian_anti_colonial_movement
		}
	}
	
	focus = {
		id = HAI_soviet_sponsorship_of_plp
		icon = GFX_z_goal_HAI_soviet_sponsorship_of_plp
		prerequisite = { focus = HAI_protect_afro_bahamians }
		x = 0
		y = 1
		relative_position_id = HAI_protect_afro_bahamians
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
			OR = {
				controls_state = 693
				AND = {
					has_country_flag = HAI_points_of_dependence_on_ussr_block_flag
					NOT = { is_subject_of = SOV }	# смысла в условии нет, чисто для тултипа
				}
			}
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_soviet_sponsorship_of_plp"
			690 = { add_compliance = -17.5 }
			693 = { add_compliance = -17.5 }
			unlock_decision_tooltip = HAI_sponsor_plp
		}
	}
	
	focus = {
		id = HAI_recruitment_of_anticolonialism_fighters
		icon = GFX_z_goal_recruitment_of_anticolonialism_fighters
		prerequisite = { focus = HAI_theory_of_the_afro_caribbean_nation }
		x = 2
		y = 1
		relative_position_id = HAI_theory_of_the_afro_caribbean_nation
		
		cost = 3
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_recruitment_of_anticolonialism_fighters"
			swap_ideas = {
				remove_idea = HAI_afro_caribbean_unity_idea
				add_idea = HAI_afro_caribbean_unity_idea_2
			}
		}
	}
	
	focus = {
		id = HAI_alliance_with_rene_menil
		icon = GFX_z_goal_HAI_alliance_with_rene_menil
		prerequisite = { focus = HAI_recruitment_of_anticolonialism_fighters }
		x = 0
		y = 1
		relative_position_id = HAI_recruitment_of_anticolonialism_fighters
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_alliance_with_rene_menil"
			unlock_decision_tooltip = HAI_recruitment_of_west_indian_revolutionaries
			unlock_decision_tooltip = HAI_create_committee_for_liberation_of_antilles
		}
	}
	
	focus = {
		id = HAI_kindle_fire_of_caribbean_revolution
		icon = GFX_z_goal_kindle_fire_of_caribbean_revolution_red
		prerequisite = { focus = HAI_arm_bustamante_strikers }
		prerequisite = { focus = HAI_soviet_sponsorship_of_plp }
		prerequisite = { focus = HAI_alliance_with_rene_menil }
		x = 1
		y = 1
		relative_position_id = HAI_soviet_sponsorship_of_plp
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}
		
		will_lead_to_war_with = FRA
		will_lead_to_war_with = ENG
		will_lead_to_war_with = HOL
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_kindle_fire_of_caribbean_revolution"
			every_state = {
				limit = {
					NOT = { is_core_of = ROOT }
					OR = {
						state = 692
						state = 308
						state = 694
						state = 689
						state = 690
						state = 693
						state = 691
						state = 695
						state = 686
					}
				}
				add_core_of = ROOT
			}
			every_state = {
				limit = {
					NOT = { is_controlled_by = ROOT }
					OR = {
						state = 309
						state = 310
						state = 687
					}
				}
				add_claim_by = ROOT
			}
			309 = {		# HOL
				owner = {
					ROOT = {
						create_wargoal = {
							type = take_state_focus
							target = PREV
							generator = { 309 }
						}
						hidden_effect = {
							add_ai_strategy = {
								type = antagonize
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = declare_war
								id = PREV
								value = 100
							}
						}
					}
				}
			}
			310 = {		# FRA
				owner = {
					ROOT = {
						declare_war_on = {
							type = take_state_focus
							target = PREV
							generator = { 310 }
						}
						hidden_effect = {
							add_ai_strategy = {
								type = antagonize
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = declare_war
								id = PREV
								value = 100
							}
						}
					}
				}
			}
			687 = {		# ENG
				owner = {
					ROOT = {
						declare_war_on = {
							type = take_state_focus
							target = PREV
							generator = { 687 }
						}
						hidden_effect = {
							add_ai_strategy = {
								type = antagonize
								id = PREV
								value = 200
							}
							add_ai_strategy = {
								type = declare_war
								id = PREV
								value = 100
							}
						}
					}
				}
			}
			custom_effect_tooltip = HAI_kindle_fire_of_caribbean_revolution_tt
			unlock_decision_tooltip = HAI_afro_caribbean_association
			
			hidden_effect = {
				if = {
					limit = {
						OR = {
							has_country_flag = HAI_arm_bustamante_strikers_flag
							has_country_flag = HAI_sponsor_plp_flag
							has_country_flag = HAI_recruitment_of_west_indian_revolutionaries_flag
						}
					}
					division_template = {
						name = "Révolutionnaires Caribéens"
						template_counter = 14
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
						}
					}
				}
				if = {
					limit = { has_country_flag = HAI_arm_bustamante_strikers_flag }
					clr_country_flag = HAI_arm_bustamante_strikers_flag
					set_province_controller = 12304
					load_oob = HAI_arm_bustamante_strikers_oob
				}
				if = {
					limit = { has_country_flag = HAI_sponsor_plp_flag }
					clr_country_flag = HAI_sponsor_plp_flag
					set_province_controller = 693
					load_oob = HAI_sponsor_plp_oob
				}
				if = {
					limit = { has_country_flag = HAI_recruitment_of_west_indian_revolutionaries_flag }
					clr_country_flag = HAI_recruitment_of_west_indian_revolutionaries_flag
					set_province_controller = 177
					set_province_controller = 13084
					load_oob = HAI_recruitment_of_west_indian_revolutionaries_oob
				}
				if = {
					limit = { has_country_flag = HAI_create_committee_for_liberation_of_antilles_flag }
					clr_country_flag = HAI_create_committee_for_liberation_of_antilles_flag
					BWI = {
						set_cosmetic_tag = BWI_haf
						set_country_flag = BWI_haf
						set_capital = { state = 694 }
						
						ROOT = {
							set_autonomy = {
								target = BWI
								autonomy_state = autonomy_integrated_puppet
								end_wars = no
								end_civil_wars = no
							}
						}
						
						set_popularities = {
							communism = 100
						}
						set_politics = {
							ruling_party = communism
							elections_allowed = no
						}
						
						add_state_core = 686
						add_state_core = 1146
						add_state_core = 1140
						add_state_core = 934
						add_state_core = 1142
						add_state_core = 308
						add_state_core = 694
						add_state_core = 692
						add_state_core = 1144
						add_state_core = 691
						
						set_state_owner = 694
						set_province_controller = 177
						set_province_controller = 13084
						set_province_controller = 13009
						set_province_controller = 7123
						set_province_controller = 9377
						load_oob = HAI_create_committee_for_liberation_of_antilles_oob
						
						ROOT = {
							HAI_rene_menil = {
								set_nationality = BWI
							}
						}
						add_country_leader_role = {
							character = HAI_rene_menil
							country_leader = {
								desc="POLITICS_RENE_MENIL_DESC"
								ideology = marxism
								traits = {
								}
								expire = "1965.1.1"
							}
							promote_leader = yes
						}
						
					}
				}
			}
		}
	}
	
	focus = {
		id = HAI_preparation_for_naval_blockade
		icon = GFX_z_goal_HAI_preparation_for_naval_blockade
		prerequisite = { focus = HAI_kindle_fire_of_caribbean_revolution }
		x = 0
		y = 1
		relative_position_id = HAI_kindle_fire_of_caribbean_revolution
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_preparation_for_naval_blockade"
			swap_ideas = {
				remove_idea = HAI_afro_caribbean_unity_idea_2
				add_idea = HAI_afro_caribbean_unity_idea_3
			}
		}
	}
	
	focus = {
		id = HAI_support_soviet_anticapitalism
		icon = GFX_z_goal_support_soviet_anticapitalism_red
		prerequisite = { focus = HAI_theory_of_the_afro_caribbean_nation }
		x = 4
		y = 1
		relative_position_id = HAI_theory_of_the_afro_caribbean_nation
		
		cost = 3
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_support_soviet_anticapitalism"
			random_owned_controlled_state = {
				prioritize = { 869 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = HAI_support_soviet_anticapitalism_tt
			if = {
				limit = { has_variable = points_of_dependence_on_ussr_var }
				add_to_variable = { points_of_dependence_on_ussr_var = 2 tooltip = points_of_dependence_on_ussr_effect_tt }
				clamp_variable = { var = points_of_dependence_on_ussr_var min = 0 max = 100 }
				HAI_update_actual_points_of_dependence_on_ussr_idea = yes
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): HAI_support_soviet_anticapitalism // change points_of_dependence_on_ussr_var = +2"
			}
			hidden_effect = {
				if = {
					limit = { has_dlc = "By Blood Alone" }
					load_oob = HAI_support_soviet_anticapitalism_air_legacy
				}
				else = {
					load_oob = HAI_support_soviet_anticapitalism_air_bba
				}
			}
		}
	}
	
	focus = {
		id = HAI_special_agent_training_center
		icon = GFX_z_goal_special_agent_training_center_red
		prerequisite = { focus = HAI_support_soviet_anticapitalism }
		x = 0
		y = 1
		relative_position_id = HAI_support_soviet_anticapitalism
		
		cost = 8
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
			NOT = { has_dlc = "La Resistance" }
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_special_agent_training_center"
			add_ideas = HAI_special_agent_training_center_idea
		}
	}
	
	focus = {
		id = HAI_creation_of_louisiana_and_florida_cell
		icon = GFX_z_goal_creation_of_louisiana_and_florida_cell
		prerequisite = { focus = HAI_special_agent_training_center }
		x = -1
		y = 1
		relative_position_id = HAI_special_agent_training_center
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
			NOT = { has_dlc = "La Resistance" }
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_creation_of_louisiana_and_florida_cell"
			custom_effect_tooltip = HAI_creation_of_louisiana_and_florida_cell_tt
		}
	}
	
	focus = {
		id = HAI_recruitment_of_african_americans_from_the_cpa
		icon = GFX_z_goal_recruitment_of_african_americans_from_the_cpa
		prerequisite = { focus = HAI_special_agent_training_center }
		x = 1
		y = 1
		relative_position_id = HAI_special_agent_training_center
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_recruitment_of_african_americans_from_the_cpa"
			USA = { add_manpower = -25000  add_ideas = HAI_recruitment_of_african_americans_from_the_cpa_idea }
			if = {
				limit = { has_variable = points_of_dependence_on_ussr_var }
				custom_effect_tooltip = HAI_recruitment_of_african_americans_from_the_cpa_tt
				effect_tooltip = { add_to_variable = { points_of_dependence_on_ussr_var = 10 tooltip = points_of_dependence_on_ussr_effect_tt } }
				hidden_effect = {
					if = {
						limit = { num_of_civilian_factories < 16 }
						add_to_variable = { points_of_dependence_on_ussr_var = 10 tooltip = points_of_dependence_on_ussr_effect_tt }
					}
				}
				clamp_variable = { var = points_of_dependence_on_ussr_var min = 0 max = 100 }
				HAI_update_actual_points_of_dependence_on_ussr_idea = yes
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): HAI_recruitment_of_african_americans_from_the_cpa // change points_of_dependence_on_ussr_var = +10"
			}
		}
	}
	
	focus = {
		id = HAI_financing_propaganda_in_black_belt
		icon = GFX_z_goal_financing_propaganda_in_black_belt_red
		prerequisite = { focus = HAI_creation_of_louisiana_and_florida_cell }
		prerequisite = { focus = HAI_recruitment_of_african_americans_from_the_cpa }
		x = 1
		y = 1
		relative_position_id = HAI_creation_of_louisiana_and_florida_cell
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			if = {
				limit = { has_dlc = "La Resistance" }
				custom_trigger_tooltip = {
					tooltip = HAI_financing_propaganda_in_black_belt_trigger_tt
					371 = { has_dynamic_modifier = { modifier = HAI_dark_skinned_revolutionary_associations_dyn } }
					366 = { has_dynamic_modifier = { modifier = HAI_dark_skinned_revolutionary_associations_dyn } }
				}
			}
		}
		bypass = {
			owns_state = 371
			owns_state = 366
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_financing_propaganda_in_black_belt"
			unlock_decision_category_tooltip = HAI_preparation_of_african_american_revolution_category
		}
	}
	
	focus = {
		id = HAI_alliance_with_harry_heywood
		icon = GFX_z_goal_HAI_alliance_with_harry_heywood
		prerequisite = { focus = HAI_financing_propaganda_in_black_belt }
		x = 0
		y = 1
		relative_position_id = HAI_financing_propaganda_in_black_belt
		
		cost = 4
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			country_exists = USA
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_alliance_with_harry_heywood"
			USA = {
				custom_effect_tooltip = HAI_alliance_with_harry_heywood_tt
				set_temp_variable = { temp1 = party_popularity@communism }
				multiply_temp_variable = { temp1 = -0.3 }
				add_stability = temp1
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HAI_harry_haywood
		}
	}
	
	focus = {
		id = HAI_support_for_african_american_self_determination
		icon = GFX_z_goal_support_for_african_american_self_determination_black
		prerequisite = { focus = HAI_alliance_with_harry_heywood }
		x = -2
		y = 1
		relative_position_id = HAI_alliance_with_harry_heywood
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			num_of_civilian_factories > 18
			if = {
				limit = { has_dlc = "La Resistance" }
				network_strength = { target = USA value > 50 }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_support_for_african_american_self_determination"
			hidden_effect = {
				create_dynamic_country = {
					original_tag = USA
					copy_tag = USA
					
					set_cosmetic_tag = USA_aau_cosmetic
					set_country_flag = USA_aau
					set_capital = { state = 366 }
					
					set_popularities = {
						communism = 100
					}
					set_politics = {
						ruling_party = communism
						elections_allowed = no
					}
					
					every_core_state = {
						limit = {
							NOT = {
								state = 375
								state = 370
								state = 371
								state = 367
								state = 366
								state = 365
								state = 364
							}
						}
						remove_core_of = AAU
					}
#					add_state_core = 375
#					add_state_core = 370
#					add_state_core = 371
#					add_state_core = 367
#					add_state_core = 366
#					add_state_core = 365
#					add_state_core = 364
					
					ROOT = {
						HAI_AAU_harry_haywood = {
							set_nationality = AAU
						}
					}
					add_country_leader_role = {
						character = HAI_AAU_harry_haywood
						country_leader = {
							desc="POLITICS_HARRY_HAYWOOD_DESC"
							ideology = marxism
							traits = {
								black_belt_freedom_fighter
							}
							expire = "1965.1.1"
						}
						promote_leader = yes
					}
				}
			}
#			custom_effect_tooltip = HAI_AAU_scope_tt
			effect_tooltip = {
				AAU = {
					add_state_core = 375
					add_state_core = 370
					add_state_core = 371
					add_state_core = 367
					add_state_core = 366
					add_state_core = 365
					add_state_core = 364
				}
			}
			USA = {
				swap_ideas = {
					remove_idea = HAI_recruitment_of_african_americans_from_the_cpa_idea
					add_idea = HAI_rise_of_black_separatism_idea
				}
			}
		}
	}
	
	focus = {
		id = HAI_organizing_strikes_in_the_south
		icon = GFX_z_goal_organizing_strikes_in_the_south
		prerequisite = { focus = HAI_alliance_with_harry_heywood }
		x = 0
		y = 1
		relative_position_id = HAI_alliance_with_harry_heywood
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_organizing_strikes_in_the_south"
			unlock_decision_tooltip = HAI_organizing_strikes_in
		}
	}
	
	focus = {
		id = HAI_organization_of_armed_patrols
		icon = GFX_z_goal_organization_of_armed_patrols_black
		prerequisite = { focus = HAI_alliance_with_harry_heywood }
		x = 2
		y = 1
		relative_position_id = HAI_alliance_with_harry_heywood
		
		cost = 6
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_organization_of_armed_patrols"
			unlock_decision_tooltip = HAI_organizing_armed_patrols_in
			custom_effect_tooltip = HAI_organization_of_armed_patrols_tt
		}
	}
	
	focus = {
		id = HAI_incite_racial_unrest
		icon = GFX_z_goal_incite_racial_unrest_red
		prerequisite = { focus = HAI_support_for_african_american_self_determination }
		prerequisite = { focus = HAI_organizing_strikes_in_the_south }
		prerequisite = { focus = HAI_organization_of_armed_patrols }
		x = 0
		y = 1
		relative_position_id = HAI_organizing_strikes_in_the_south
		
		cost = 3
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			custom_trigger_tooltip = {
				tooltip = HAI_incite_racial_unrest_trigger_tt
				check_variable = { HAI_organizing_strikes > 2 }
				check_variable = { HAI_organizing_armed_patrols > 2 }
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_incite_racial_unrest"
			USA = { country_event = { id = NWhaiti.43 hours = 3 } }
			activate_mission = HAI_ignite_revolution_mission
		}
	}
	
	focus = {
		id = HAI_revolution_in_alabama
		icon = GFX_z_goal_revolution_in_alabama
		prerequisite = { focus = HAI_incite_racial_unrest }
		x = 0
		y = 1
		relative_position_id = HAI_incite_racial_unrest
		
		cost = 3
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		available = {
			NOT = { has_country_flag = HAI_ignite_revolution_mission_fail_flag }
			has_equipment = { infantry_equipment > 1000 }
		}
		bypass = {
		}
		select_effect = {
		}
		
		will_lead_to_war_with = USA
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus HAI_revolution_in_alabama"
			add_equipment_to_stockpile = { type = infantry_equipment amount = -1000 }
			add_war_support = 0.1
			declare_war_on = { target = USA type = topple_government }
			custom_effect_tooltip = HAI_revolution_in_alabama_tt
			USA = { country_event = { id = NWhaiti.44 hours = 3 } }
			
#			custom_effect_tooltip = HAI_AAU_scope_tt
			effect_tooltip = {
				AAU = {
					set_province_controller = 1843
					set_province_controller = 1453
					set_province_controller = 4535
					set_province_controller = 12398
					set_province_controller = 12735
					set_province_controller = 7480
				}
				if = {
					limit = { check_variable = { HAI_organizing_armed_patrols = 6 } }
					367 = { remove_core_of = USA }
					366 = { remove_core_of = USA }
					371 = { remove_core_of = USA }
					375 = { add_core_of = AAU }
				}
				set_autonomy = {
					target = AAU
					autonomy_state = autonomy_integrated_puppet
					end_wars = no
					end_civil_wars = no
				}
				clear_variable = HAI_organizing_armed_patrols
			}
		}
	}
}