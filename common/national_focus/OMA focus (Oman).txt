focus_tree = {
	id = nw_muscat_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = OMA
		}
	}
	continuous_focus_position = { x = 200 y = 900 }
	default = no
	
	
	
	focus = {
		id = OMA_fall_of_muscat
		icon = GFX_z_goal_OMA_fall_of_muscat
		
		mutually_exclusive = { focus = OMA_suppression_of_sheikh_harami_rebellion }
		
		x = 15
		y = 0
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			hidden_trigger = {
				always = no
			}
		}
		bypass = {
		}
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_fall_of_muscat"
			custom_effect_tooltip = OMA_fall_of_muscat_tt
			clr_country_flag = OMA_suppression_of_sheikh_harami_rebellion_flag
			clear_variable = OMA_power_of_harami_var
			clear_variable = OMA_power_of_said_var
			clear_variable = OMA_power_of_said_var_preemptive_attack
			hidden_effect = {
				if = {
					limit = { 
						OMA_shaikh_harami = {
							is_country_leader = no
			  		    } 
					}
					OMA_shaikh_harami = {
						promote_character = yes
					}
				}
			}
		}
	}
	
	
	#############################
	##### NEW ORDER SECTION #####
	#############################
	
	focus = {
		id = OMA_establishing_new_order
		icon = GFX_z_goal_establishing_order_of_harami
		prerequisite = { focus = OMA_fall_of_muscat }
		mutually_exclusive = {
			focus = OMA_sultan_shihab_bin_faisal
			focus = OMA_sultan_tariq_bin_taimur
		}
		x = -7
		y = 1
		relative_position_id = OMA_fall_of_muscat
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			hidden_trigger = {
				always = no
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_establishing_new_order"
			custom_effect_tooltip = TUR_focus_autocomplete_tt
		}
	}
	
	focus = {
		id = OMA_call_to_citizens
		icon = GFX_z_goal_OMA_call_to_citizens
		prerequisite = { focus = OMA_establishing_new_order }
		x = -2
		y = 1
		relative_position_id = OMA_establishing_new_order
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_call_to_citizens"
			random_owned_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_call_to_tribes
		icon = GFX_z_goal_OMA_call_to_tribes
		prerequisite = { focus = OMA_establishing_new_order }
		x = 0
		y = 1
		relative_position_id = OMA_establishing_new_order
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_call_to_tribes"
			add_ideas = OMA_call_to_tribes
		}
	}
	
	focus = {
		id = OMA_call_to_allah
		icon = GFX_z_goal_allahu_akbar
		prerequisite = { focus = OMA_establishing_new_order }
		x = 2
		y = 1
		relative_position_id = OMA_establishing_new_order
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_call_to_allah"
			add_ideas = OMA_call_to_allah
		}
	}
	
	focus = {
		id = OMA_preserving_peace_between_faiths
		icon = GFX_z_goal_preserving_peace_between_faiths
		prerequisite = { focus = OMA_call_to_citizens }
		mutually_exclusive = { focus = OMA_proshiite_reforms }
		x = -4
		y = 1
		relative_position_id = OMA_call_to_citizens
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_preserving_peace_between_faiths"
			add_ideas = OMA_preserving_peace_between_faiths
		}
	}
	
	focus = {
		id = OMA_strengthen_relations_with_saudi_arabia
		icon = GFX_z_goal_expansion_arab_peninsula
		prerequisite = { focus = OMA_preserving_peace_between_faiths }
		x = 0
		y = 1
		relative_position_id = OMA_preserving_peace_between_faiths
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_war_with = SAU }
			SAU = {
				has_government = fascism
				has_government = monarchy
				has_government = neutrality
			}
		}
		bypass = {
			NOT = { country_exists = SAU }
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_strengthen_relations_with_saudi_arabia"
			add_opinion_modifier = { target = SAU modifier = OMA_strengthen_relations_with_saudi_arabia }
			SAU = { add_opinion_modifier = { target = ROOT modifier = OMA_strengthen_relations_with_saudi_arabia } }
			if = {
				limit = {
					is_subject = no
					is_in_faction = no
					SAU = { is_faction_leader = yes }
				}
				SAU = { country_event = { id = generic.2 hours = 6 } }
			}
		}
	}
	
	focus = {
		id = OMA_proshiite_reforms
		icon = GFX_z_goal_proshiite_reforms
		prerequisite = { focus = OMA_call_to_citizens }
		mutually_exclusive = { focus = OMA_preserving_peace_between_faiths }
		x = -2
		y = 1
		relative_position_id = OMA_call_to_citizens
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_proshiite_reforms"
			add_stability = -0.1
			add_political_power = 100
			805 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = { has_opinion_modifier = PER_war_against_sunnis }
				every_other_country = {
					limit = {
						original_tag = PER
						has_opinion_modifier = PER_war_against_sunnis
					}
					remove_opinion_modifier = { target = ROOT modifier = PER_war_against_sunnis }
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 1000
					}
					add_ai_strategy = {
						type = antagonize
						id = ROOT
						value = -500
					}
					ROOT = {
						remove_opinion_modifier = { target = PREV modifier = PER_war_against_sunnis }
						add_ai_strategy = {
							type = alliance
							id = PREV
							value = -1000
						}
						add_ai_strategy = {
							type = antagonize
							id = PREV
							value = 500
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = OMA_strengthen_relations_with_iran
		icon = GFX_z_goal_agreement_with_iran
		prerequisite = { focus = OMA_proshiite_reforms }
		x = 0
		y = 1
		relative_position_id = OMA_proshiite_reforms
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_war_with = PER }
			PER = {
				OR = {
					has_government = fascism
					has_government = monarchy
					has_government = neutrality
					has_government = democratic
				}
			}
		}
		bypass = {
			NOT = { country_exists = PER }
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_strengthen_relations_with_iran"
			add_opinion_modifier = { target = PER modifier = OMA_strengthen_relations_with_iran }
			PER = { add_opinion_modifier = { target = ROOT modifier = OMA_strengthen_relations_with_iran } }
			if = {
				limit = {
					is_subject = no
					is_in_faction = no
					PER = { is_faction_leader = yes }
				}
				PER = { country_event = { id = generic.2 hours = 6 } }
			}
		}
	}
	
	focus = {
		id = OMA_expand_tribal_autonomy
		icon = GFX_z_expand_tribal_autonomy
		prerequisite = {
			focus = OMA_call_to_citizens
			focus = OMA_call_to_tribes
			focus = OMA_call_to_allah
		}
		x = 1
		y = 1
		relative_position_id = OMA_call_to_citizens
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_expand_tribal_autonomy"
			add_political_power = 50
			add_popularity = { ideology = neutrality popularity = 0.1 }
			add_ideas = OMA_expand_tribal_autonomy
		}
	}
	
	focus = {
		id = OMA_spy_training
		icon = GFX_z_goal_spy_training
		prerequisite = {
			focus = OMA_call_to_citizens
			focus = OMA_call_to_tribes
			focus = OMA_call_to_allah
		}
		x = 1
		y = 1
		relative_position_id = OMA_call_to_tribes
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_spy_training"
			add_ideas = OMA_spy_training
		}
	}
	
	focus = {
		id = OMA_raiders
		icon = GFX_z_goal_raiders
		prerequisite = {
			focus = OMA_call_to_citizens
			focus = OMA_call_to_tribes
			focus = OMA_call_to_allah
		}
		x = 1
		y = 1
		relative_position_id = OMA_call_to_allah
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_raiders"
			add_ideas = OMA_raiders
		}
	}
	
	focus = {
		id = OMA_gazavat
		icon = GFX_z_goal_gazavat
		prerequisite = { focus = OMA_spy_training }
		prerequisite = { focus = OMA_raiders }
		x = 1
		y = 1
		relative_position_id = OMA_spy_training
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_gazavat"
			add_ideas = OMA_gazavat
		}
	}
	
	focus = {
		id = OMA_matrakh_expansionism
		icon = GFX_z_goal_generic_expansionism
		prerequisite = {
			focus = OMA_call_to_citizens
			focus = OMA_call_to_tribes
			focus = OMA_call_to_allah
		}
		mutually_exclusive = { focus = OMA_focus_on_internal_affairs }
		x = 0
		y = 2
		relative_position_id = OMA_call_to_citizens
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_matrakh_expansionism"
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_focus_on_internal_affairs
		icon = GFX_z_goal_generic_focus_on_internal_affairs
		prerequisite = {
			focus = OMA_call_to_citizens
			focus = OMA_call_to_tribes
			focus = OMA_call_to_allah
		}
		mutually_exclusive = { focus = OMA_matrakh_expansionism }
		x = 0
		y = 2
		relative_position_id = OMA_call_to_tribes
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}	
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_focus_on_internal_affairs"
			add_tech_bonus = {
				name = OMA_focus_on_internal_affairs
				bonus = 1.0
				uses = 1
				category = industry
			}
		}
	}
	
	focus = {
		id = OMA_overthrow_saudis
		icon = GFX_z_goal_annex_sau
		prerequisite = { focus = OMA_strengthen_relations_with_iran }
		prerequisite = { focus = OMA_matrakh_expansionism }
		x = -3
		y = 1
		relative_position_id = OMA_matrakh_expansionism
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
			
		}
		bypass = {
			OR = {
				NOT = { country_exists = SAU }
				is_in_faction_with = SAU
				SAU = { is_subject_of = ROOT }
				has_war_with = SAU
			}
		}
		
		will_lead_to_war_with = SAU
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_overthrow_saudis"
			every_state = {
				limit = {
					is_core_of = SAU
					NOT = { is_core_of = ROOT }
				}
				add_core_of = ROOT
			}
			create_wargoal = {
				target = SAU
				type = annex_everything
				expire = 0
			}
			add_ai_strategy = {
				type = antagonize
				id = "SAU"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "SAU"
				value = 100
			}
		}
	}
	
	focus = {
		id = OMA_overthrow_rassids
		icon = GFX_z_goal_annex_yemen
		prerequisite = { focus = OMA_matrakh_expansionism }
		x = -1
		y = 1
		relative_position_id = OMA_matrakh_expansionism
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
			is_neighbor_of = YEM
		}
		bypass = {
			OR = {
				NOT = { country_exists = YEM }
				is_in_faction_with = YEM
				YEM = { is_subject_of = ROOT }
				has_war_with = YEM
			}
		}
		
		will_lead_to_war_with = YEM
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_overthrow_rassids"
			every_state = {
				limit = {
					is_core_of = YEM
					NOT = { is_core_of = ROOT }
				}
				add_core_of = ROOT
			}
			create_wargoal = {
				target = YEM
				type = annex_everything
				expire = 0
			}
			add_ai_strategy = {
				type = antagonize
				id = "YEM"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "YEM"
				value = 100
			}
		}
	}
	
	focus = {
		id = OMA_subjugate_sultanates_of_hadramaut
		icon = GFX_z_goal_annex_hadramaut
		prerequisite = { focus = OMA_matrakh_expansionism }
		x = 1
		y = 1
		relative_position_id = OMA_matrakh_expansionism
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_subjugate_sultanates_of_hadramaut"
			803 = {
				add_core_of = ROOT
				owner = {
					ROOT = {
						create_wargoal = {
							target = PREV
							type = annex_everything
							expire = 0
						}
						add_ai_strategy = {
							type = antagonize
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = conquer
							id = PREV
							value = 100
						}
					}
				}
			}
			944 = {
				add_core_of = ROOT
				owner = {
					ROOT = {
						create_wargoal = {
							target = PREV
							type = annex_everything
							expire = 0
						}
						add_ai_strategy = {
							type = antagonize
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = conquer
							id = PREV
							value = 100
						}
					}
				}
			}
			1170 = {
				add_core_of = ROOT
				owner = {
					ROOT = {
						create_wargoal = {
							target = PREV
							type = annex_everything
							expire = 0
						}
						add_ai_strategy = {
							type = antagonize
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = conquer
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = OMA_subjugate_sheikhs_of_treaty_oman
		icon = GFX_z_goal_annex_treaty_oman
		prerequisite = { focus = OMA_matrakh_expansionism }
		x = 3
		y = 1
		relative_position_id = OMA_matrakh_expansionism
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_subjugate_sheikhs_of_treaty_oman"
			every_state = {
				limit = {
					is_core_of = UAE
					NOT = { is_core_of = ROOT }
				}
				add_core_of = ROOT
				owner = {
					ROOT = {
						create_wargoal = {
							target = PREV
							type = annex_everything
							expire = 0
						}
						add_ai_strategy = {
							type = antagonize
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = conquer
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}
	
	
	
	##########################
	##### FAISAL SECTION #####
	##########################
	
	focus = {
		id = OMA_sultan_shihab_bin_faisal
		icon = GFX_z_goal_sultan_shihab_bin_faisal
		prerequisite = { focus = OMA_fall_of_muscat }
		mutually_exclusive = {
			focus = OMA_establishing_new_order
			focus = OMA_sultan_tariq_bin_taimur
		}
		x = 0
		y = 1
		relative_position_id = OMA_fall_of_muscat
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			hidden_trigger = {
				always = no
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_sultan_shihab_bin_faisal"
			custom_effect_tooltip = TUR_focus_autocomplete_tt
		}
	}
	
	focus = {
		id = OMA_strengthening_ties_with_sheikh_qajimi
		icon = GFX_z_goal_OMA_strengthening_ties_with_sheikh_qajimi
		prerequisite = { focus = OMA_sultan_shihab_bin_faisal }
		x = -3
		y = 1
		relative_position_id = OMA_sultan_shihab_bin_faisal
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_war_with = RAJ }
		}
		bypass = {
			NOT = { country_exists = RAJ }
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_strengthening_ties_with_sheikh_qajimi"
			add_offsite_building = { type = industrial_complex level = 1 }
			add_opinion_modifier = { target = RAJ modifier = OMA_strengthening_ties_with_sheikh_qajimi }
			RAJ = { add_opinion_modifier = { target = ROOT modifier = OMA_strengthening_ties_with_sheikh_qajimi } }
		}
	}
	
	focus = {
		id = OMA_strengthening_anglo_muscat_cooperation
		icon = GFX_z_goal_strengthening_anglo_muscat_cooperation
		prerequisite = { focus = OMA_sultan_shihab_bin_faisal }
		x = -1
		y = 1
		relative_position_id = OMA_sultan_shihab_bin_faisal
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_war_with = ENG }
		}
		bypass = {
			NOT = { country_exists = ENG }
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_strengthening_anglo_muscat_cooperation"
			add_opinion_modifier = { target = ENG modifier = OMA_strengthening_anglo_muscat_cooperation }
			ENG = { add_opinion_modifier = { target = ROOT modifier = OMA_strengthening_anglo_muscat_cooperation } }
			add_tech_bonus = {
				name = OMA_strengthening_anglo_muscat_cooperation
				bonus = 1.0
				uses = 1
				category = industry
				category = synth_resources
			}
		}
	}
	
	focus = {
		id = OMA_modernization_of_muscat_corps
		icon = GFX_z_goal_OMA_modernization_of_muscat_corps
		prerequisite = { focus = OMA_strengthening_anglo_muscat_cooperation }
		x = -1
		y = 1
		relative_position_id = OMA_strengthening_anglo_muscat_cooperation
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_modernization_of_muscat_corps"
			add_doctrine_cost_reduction = {
				name = OMA_modernization_of_muscat_corps
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
		}
	}
	
	focus = {
		id = OMA_save_neutrality
		icon = GFX_z_goal_save_neutrality
		prerequisite = { focus = OMA_modernization_of_muscat_corps }
		mutually_exclusive = { focus = OMA_bases_for_british_air_force }
		x = -1
		y = 1
		relative_position_id = OMA_modernization_of_muscat_corps
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			has_war = no
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_save_neutrality"
			custom_effect_tooltip = can_decline_call_to_war_yes_tt
			hidden_effect = {
				set_rule = { can_decline_call_to_war = yes }
			}
		}
	}
	
	focus = {
		id = OMA_bases_for_british_air_force
		icon = GFX_z_goal_bases_for_british_air_force
		prerequisite = { focus = OMA_modernization_of_muscat_corps }
		mutually_exclusive = { focus = OMA_save_neutrality }
		x = 1
		y = 1
		relative_position_id = OMA_modernization_of_muscat_corps
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			controls_state = 294
			controls_state = 941
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_bases_for_british_air_force"
			294 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			941 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_american_mission_hospital_in_matrah
		icon = GFX_z_goal_american_mission_hospital_in_matrah
		prerequisite = { focus = OMA_sultan_shihab_bin_faisal }
		x = 1
		y = 1
		relative_position_id = OMA_sultan_shihab_bin_faisal
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			controls_state = 294
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_american_mission_hospital_in_matrah"
			add_stability = 0.1
			294 = {
				add_building_construction = {
					type = hospital
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_matraha_school
		icon = GFX_z_goal_matraha_school
		prerequisite = { focus = OMA_strengthening_anglo_muscat_cooperation }
		prerequisite = { focus = OMA_american_mission_hospital_in_matrah }
		x = 1
		y = 1
		relative_position_id = OMA_strengthening_anglo_muscat_cooperation
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			controls_state = 294
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_matraha_school"
			add_ideas = OMA_matraha_school
		}
	}
	
	
	
	##########################
	##### TAIMUR SECTION #####
	##########################
	
	focus = {
		id = OMA_sultan_tariq_bin_taimur
		icon = GFX_z_goal_sultan_tariq_bin_taimur
		prerequisite = { focus = OMA_fall_of_muscat }
		mutually_exclusive = {
			focus = OMA_establishing_new_order
			focus = OMA_sultan_shihab_bin_faisal
		}
		x = 8
		y = 1
		relative_position_id = OMA_fall_of_muscat
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			hidden_trigger = {
				always = no
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_sultan_tariq_bin_taimur"
			custom_effect_tooltip = TUR_focus_autocomplete_tt
		}
	}
	
	focus = {
		id = OMA_agreement_with_socal
		icon = GFX_z_goal_agreement_with_socal
		prerequisite = { focus = OMA_sultan_tariq_bin_taimur }
		x = -5
		y = 1
		relative_position_id = OMA_sultan_tariq_bin_taimur
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			controls_state = 941
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_agreement_with_socal"
			add_resource = {
				type = oil
				amount = 8
				state = 941
			}
		}
	}
	
	focus = {
		id = OMA_construction_of_road_surface
		icon = GFX_z_goal_construction_of_road_surface
		prerequisite = { focus = OMA_agreement_with_socal }
		x = -1
		y = 1
		relative_position_id = OMA_agreement_with_socal
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_construction_of_road_surface"
			every_controlled_state = {
				limit = { is_core_of = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}	
			}
		}
	}
	
	focus = {
		id = OMA_construction_of_military_industrial_complex
		icon = GFX_z_goal_construction_of_military_industrial_complex
		prerequisite = { focus = OMA_agreement_with_socal }
		x = 1
		y = 1
		relative_position_id = OMA_agreement_with_socal
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_construction_of_military_industrial_complex"
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_al_watan
		icon = GFX_z_goal_OMA_al_watan
		prerequisite = {
			focus = OMA_construction_of_road_surface
			focus = OMA_construction_of_military_industrial_complex
		}
		x = 1
		y = 1
		relative_position_id = OMA_construction_of_road_surface
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_al_watan"
			add_popularity = { ideology = monarchy popularity = 0.1 }
			add_ideas = OMA_al_watan
		}
	}
	
	focus = {
		id = OMA_support_for_entrepreneurship
		icon = GFX_z_goal_support_for_entrepreneurship
		prerequisite = { focus = OMA_sultan_tariq_bin_taimur }
		x = -3
		y = 1
		relative_position_id = OMA_sultan_tariq_bin_taimur
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_support_for_entrepreneurship"
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_administrative_reform
		icon = GFX_z_goal_OMA_administrative_reform
		prerequisite = { focus = OMA_sultan_tariq_bin_taimur }
		x = -1
		y = 1
		relative_position_id = OMA_sultan_tariq_bin_taimur
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 20
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_administrative_reform"
			add_political_power = 50
			add_stability = -0.15
			set_cosmetic_tag = OMAN
			942 = { set_state_name = 942_Ad_Dakhiliyah }
			remove_ideas = IOM_underdeveloped_semi_feudal_state
			remove_ideas = OMA_import_restriction_policy
		}
	}
	
	focus = {
		id = OMA_restoring_health_system
		icon = GFX_z_goal_restoring_health_system
		prerequisite = { focus = OMA_administrative_reform }
		x = -1
		y = 1
		relative_position_id = OMA_administrative_reform
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
			NOT = {
				any_controlled_state = {
					is_core_of = ROOT
					hospital < 2
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_restoring_health_system"
			add_stability = 0.1
			every_controlled_state = {
				limit = {
					is_core_of = ROOT
					hospital < 1
				}
				add_building_construction = {
					type = hospital
					level = 2
					instant_build = yes
				}
			}
			every_controlled_state = {
				limit = {
					is_core_of = ROOT
					hospital > 0
					hospital < 2
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_restoring_education_system
		icon = GFX_z_goal_restoring_education_system
		prerequisite = { focus = OMA_administrative_reform }
		x = 1
		y = 1
		relative_position_id = OMA_administrative_reform
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_restoring_education_system"
			add_research_slot = 1
		}
	}
	
	focus = {
		id = OMA_abolish_slavery
		icon = GFX_z_goal_abolish_slavery
		prerequisite = { focus = OMA_sultan_tariq_bin_taimur }
		x = 1
		y = 1
		relative_position_id = OMA_sultan_tariq_bin_taimur
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_abolish_slavery"
			add_ideas = OMA_abolish_slavery_idea
		}
	}
	
	focus = {
		id = OMA_renegotiation_of_anglo_muscat_treaty_of_friendship
		icon = GFX_z_goal_renegotiation_of_anglo_muscat_treaty_of_friendship
		prerequisite = {
			focus = OMA_sultan_tariq_bin_taimur
			focus = OMA_suppression_of_sheikh_harami_rebellion
		}
		x = 2
		y = 2
		relative_position_id = OMA_sultan_tariq_bin_taimur
		search_filters = {FOCUS_FILTER_HISTORICAL}
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 10
				is_historical_focus_on = yes
				date > 1938.09.18
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				date < 1938.09.18
			}
		}
		available = {
			is_subject_of = ENG
			OR = {
				has_autonomy_state = autonomy_colony
				compare_autonomy_state > autonomy_colony
			}
		}
		bypass = {
			is_subject = no
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_renegotiation_of_anglo_muscat_treaty_of_friendship"
			custom_effect_tooltip = OMA_renegotiation_of_anglo_muscat_treaty_of_friendship_tt1
			custom_effect_tooltip = OMA_renegotiation_of_anglo_muscat_treaty_of_friendship_tt2
			hidden_effect = {
				ENG = { country_event = { id = NWmuscat.44 hours = 6 } }
			}
		}
	}
	
	focus = {
		id = OMA_sale_of_guadar
		icon = GFX_z_goal_OMA_sale_of_guadar
		prerequisite = { focus = OMA_renegotiation_of_anglo_muscat_treaty_of_friendship }
		mutually_exclusive = { focus = OMA_fortify_fort_guadar }
		x = -4
		y = 1
		relative_position_id = OMA_renegotiation_of_anglo_muscat_treaty_of_friendship
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			controls_state = 936
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_sale_of_guadar"
			effect_tooltip = {
				add_political_power = 300
				if = {
					limit = { has_completed_focus = OMA_pakistani_mercenaries }
					swap_ideas = {
						remove_idea = OMA_pakistani_mercenaries_full
						add_idea = OMA_pakistani_mercenaries_half
					}
				}
			}
			444 = {
				controller = {
					effect_tooltip = {
						transfer_state = 936
					}
					custom_effect_tooltip = needs_approval
					hidden_effect = {
						country_event = { id = NWmuscat.55 hours = 6 }
					}
				}
			}
		}
	}
	
	focus = {
		id = OMA_fortify_fort_guadar
		icon = GFX_z_goal_OMA_fortify_fort_guadar
		prerequisite = { focus = OMA_renegotiation_of_anglo_muscat_treaty_of_friendship }
		mutually_exclusive = { focus = OMA_sale_of_guadar }
		x = -2
		y = 1
		relative_position_id = OMA_renegotiation_of_anglo_muscat_treaty_of_friendship
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			controls_state = 936
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_fortify_fort_guadar"
			936 = {
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 3
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
					}
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_continue_cooperation_with_uk
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = OMA_renegotiation_of_anglo_muscat_treaty_of_friendship }
		mutually_exclusive = {
			focus = OMA_convergence_with_axis_powers
			focus = OMA_finding_allies_in_middle_east
			focus = OMA_independent_foreign_policy
		}
		x = 0
		y = 1
		relative_position_id = OMA_renegotiation_of_anglo_muscat_treaty_of_friendship
		search_filters = {FOCUS_FILTER_HISTORICAL}
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			hidden_trigger = {
				always = no
			}
		}
		bypass = {
			compare_autonomy_state < autonomy_colony
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_continue_cooperation_with_uk"
			custom_effect_tooltip = TUR_focus_autocomplete_tt
		}
	}
	
	focus = {
		id = OMA_construction_of_landing_pads_for_british_air_force
		icon = GFX_z_goal_construction_of_landing_pads
		prerequisite = { focus = OMA_continue_cooperation_with_uk }
		x = -1
		y = 1
		relative_position_id = OMA_continue_cooperation_with_uk
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_construction_of_landing_pads_for_british_air_force"
			random_owned_controlled_state = {
				prioritize = { 294 }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_isolation_enhancement
		icon = GFX_z_goal_OMA_isolation_enhancement
		prerequisite = { focus = OMA_continue_cooperation_with_uk }
		prerequisite = { focus = OMA_prohibit_radio }
		x = 1
		y = 1
		relative_position_id = OMA_continue_cooperation_with_uk
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			has_war = no
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_isolation_enhancement"
			add_ideas = isolation
		}
	}
	
	focus = {
		id = OMA_convergence_with_axis_powers
		icon = GFX_z_goal_international_fascism
		prerequisite = { focus = OMA_renegotiation_of_anglo_muscat_treaty_of_friendship }
		mutually_exclusive = {
			focus = OMA_continue_cooperation_with_uk
			focus = OMA_finding_allies_in_middle_east
			focus = OMA_independent_foreign_policy
		}
		x = 2
		y = 1
		relative_position_id = OMA_renegotiation_of_anglo_muscat_treaty_of_friendship
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			GER = {
				has_government = fascism
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
			is_subject = no
			OR = {
				is_in_faction = no
				is_in_faction_with = ENG
			}
		}
		bypass = {
			is_in_faction_with = GER
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_convergence_with_axis_powers"
			if = {
				limit = { is_in_faction_with = ENG }
				hidden_effect = {
					ENG = {
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = -400
						}
					}
					add_ai_strategy = {
						type = alliance
						id = "ENG"
						value = -400
					}
				}
				leave_faction = yes
			}
			add_opinion_modifier = { target = GER modifier = OMA_convergence_with_axis_powers_op }
			GER = {
				add_opinion_modifier = { target = ROOT modifier = OMA_convergence_with_axis_powers_op }
				country_event = generic.2
			}
		}
	}
	
	focus = {
		id = OMA_invasion_of_saudi_arabia
		icon = GFX_z_goal_invasion_of_saudi_arabia
		prerequisite = { focus = OMA_convergence_with_axis_powers }
		x = 1
		y = 1
		relative_position_id = OMA_convergence_with_axis_powers
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
		}
		bypass = {
			OR = {
				NOT = { country_exists = SAU }
				is_in_faction_with = SAU
				SAU = { is_subject_of = ROOT }
				has_war_with = SAU
			}
		}
		
		will_lead_to_war_with = SAU
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_invasion_of_saudi_arabia"
			create_wargoal = {
				target = SAU
				type = puppet_wargoal_focus
				expire = 0
			}
			add_ai_strategy = {
				type = antagonize
				id = "SAU"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "SAU"
				value = 100
			}
		}
	}
	
	focus = {
		id = OMA_finding_allies_in_middle_east
		text = IOM_search_of_allies_in_middle_east
		icon = GFX_focus_TUR_treaty_of_saadabad
		prerequisite = { focus = OMA_renegotiation_of_anglo_muscat_treaty_of_friendship }
		mutually_exclusive = {
			focus = OMA_continue_cooperation_with_uk
			focus = OMA_convergence_with_axis_powers
			focus = OMA_independent_foreign_policy
		}
		x = 4
		y = 1
		relative_position_id = OMA_renegotiation_of_anglo_muscat_treaty_of_friendship
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
			OR = {
				is_in_faction = no
				is_in_faction_with = ENG
			}
		}
		bypass = {
			OR = {
				is_faction_leader = yes
				AND = {
					is_in_faction_with = SAU
					SAU = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = TUR
					TUR = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = PER
					PER = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = AFG
					AFG = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = IRQ
					IRQ = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = SYR
					SYR = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = EGY
					EGY = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = YEM
					YEM = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = BPL
					BPL = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = PAL
					PAL = { is_faction_leader = yes }
				}
				AND = {
					is_in_faction_with = JOR
					JOR = { is_faction_leader = yes }
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_finding_allies_in_middle_east"
			if = {
				limit = { is_in_faction_with = ENG }
				hidden_effect = {
					ENG = {
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = -400
						}
					}
					add_ai_strategy = {
						type = alliance
						id = "ENG"
						value = -400
					}
				}
				leave_faction = yes
			}
			unlock_decision_category_tooltip = IOM_search_of_allies_in_middle_east
		}
	}
	
	focus = {
		id = OMA_independent_foreign_policy
		icon = GFX_z_goal_OMA_independent_foreign_policy
		prerequisite = { focus = OMA_renegotiation_of_anglo_muscat_treaty_of_friendship }
		mutually_exclusive = {
			focus = OMA_continue_cooperation_with_uk
			focus = OMA_convergence_with_axis_powers
			focus = OMA_finding_allies_in_middle_east
		}
		x = 6
		y = 1
		relative_position_id = OMA_renegotiation_of_anglo_muscat_treaty_of_friendship
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 0
		}
		available = {
			is_subject = no
			OR = {
				is_in_faction = no
				is_in_faction_with = ENG
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_independent_foreign_policy"
			if = {
				limit = { is_in_faction_with = ENG }
				hidden_effect = {
					ENG = {
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = -400
						}
					}
					add_ai_strategy = {
						type = alliance
						id = "ENG"
						value = -400
					}
				}
				leave_faction = yes
			}
			set_rule = { can_create_factions = yes }
			hidden_effect = {
				set_rule = { can_join_factions = yes }
				set_rule = { can_join_opposite_factions = yes }
			}
		}
	}
	
	
	
	#################################
	##### SHEIKH HARAMI SECTION #####
	#################################
	
	focus = {
		id = OMA_suppression_of_sheikh_harami_rebellion
		icon = GFX_z_goal_OMA_suppression_of_sheikh_harami_rebellion
		mutually_exclusive = { focus = OMA_fall_of_muscat }
		x = 12
		y = 0
		relative_position_id = OMA_fall_of_muscat
		search_filters = {FOCUS_FILTER_HISTORICAL}
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			hidden_trigger = {
				always = no
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_suppression_of_sheikh_harami_rebellion"
			custom_effect_tooltip = OMA_suppression_of_sheikh_harami_rebellion_tt
			clr_country_flag = OMA_suppression_of_sheikh_harami_rebellion_flag
			clear_variable = OMA_power_of_harami_var
			clear_variable = OMA_power_of_said_var
			clear_variable = OMA_power_of_said_var_preemptive_attack
		}
	}
	
	focus = {
		id = OMA_world_tour
		icon = GFX_z_goal_new_world_tour_2
		prerequisite = { focus = OMA_suppression_of_sheikh_harami_rebellion }
		x = -1
		y = 2
		relative_position_id = OMA_suppression_of_sheikh_harami_rebellion
		
		cost = 14
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			has_war = no
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_world_tour"
			add_tech_bonus = {
				name = OMA_world_tour
				bonus = 0.5
				uses = 3
				category = armor
				category = artillery
				category = naval_air
				category = infantry_weapons
				category = motorized_equipment
				category = cat_mechanized_equipment
				category = naval_equipment
				category = rocketry
				category = nuclear
				category = industry
				category = electronics
				category = jet_technology
				category = air_equipment
				category = support_tech
				category = para_tech
				category = mountaineers_tech
				category = marine_tech
				category = flamethrower_tech
			}
			add_doctrine_cost_reduction = {
				name = OMA_world_tour
				cost_reduction = 0.25
				uses = 2
				category = land_doctrine
				category = air_doctrine
				category = naval_doctrine
			}
		}
	}
	
	focus = {
		id = OMA_fight_against_everything_decadent
		icon = GFX_z_goal_OMA_fight_against_everything_decadent
		prerequisite = { focus = OMA_suppression_of_sheikh_harami_rebellion }
		mutually_exclusive = { focus = OMA_limited_modernization }
		x = 1
		y = 1
		relative_position_id = OMA_suppression_of_sheikh_harami_rebellion
		search_filters = {FOCUS_FILTER_HISTORICAL}
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 10
				is_historical_focus_on = yes
				NOT = { has_completed_focus = OMA_bet_on_tribal_militia }
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				has_completed_focus = OMA_bet_on_tribal_militia
			}
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_fight_against_everything_decadent"
			add_war_support = 0.1
			add_political_power = 200
		}
	}
	
	focus = {
		id = OMA_strengthen_control_over_tribes
		icon = GFX_z_goal_strengthen_control_over_tribes
		prerequisite = { focus = OMA_fight_against_everything_decadent }
		x = 0
		y = 1
		relative_position_id = OMA_fight_against_everything_decadent
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_strengthen_control_over_tribes"
			add_ideas = OMA_strengthen_control_over_tribes
		}
	}
	
	focus = {
		id = OMA_prohibit_radio
		icon = GFX_z_goal_radio_ban
		prerequisite = { focus = OMA_strengthen_control_over_tribes }
		x = 0
		y = 1
		relative_position_id = OMA_strengthen_control_over_tribes
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_prohibit_radio"
			add_ideas = OMA_prohib_radio
		}
	}
	
	focus = {
		id = OMA_limited_modernization
		icon = GFX_z_goal_limited_modernization
		prerequisite = { focus = OMA_suppression_of_sheikh_harami_rebellion }
		mutually_exclusive = { focus = OMA_fight_against_everything_decadent }
		x = 3
		y = 1
		relative_position_id = OMA_suppression_of_sheikh_harami_rebellion
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 10
				is_historical_focus_on = yes
				has_completed_focus = OMA_bet_on_tribal_militia
			}
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
				NOT = { has_completed_focus = OMA_bet_on_tribal_militia }
			}
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_limited_modernization"
			swap_ideas = {
				remove_idea = IOM_underdeveloped_semi_feudal_state
				add_idea = IOM_underdeveloped_semi_feudal_state_2
			}
		}
	}
	
	focus = {
		id = OMA_creating_recovery_council
		icon = GFX_z_goal_OMA_creating_recovery_council
		prerequisite = { focus = OMA_limited_modernization }
		x = 0
		y = 1
		relative_position_id = OMA_limited_modernization
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_creating_recovery_council"
			remove_ideas = OMA_import_restriction_policy
			remove_country_leader_trait = overly_economical
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_introduce_said_riyal_into_circulation
		icon = GFX_z_goal_introduce_said_riyal
		prerequisite = { focus = OMA_creating_recovery_council }
		x = 0
		y = 1
		relative_position_id = OMA_creating_recovery_council
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_introduce_said_riyal_into_circulation"
			add_political_power = 100
			swap_ideas = {
				remove_idea = IOM_underdeveloped_semi_feudal_state_2
				add_idea = IOM_underdeveloped_semi_feudal_state_3
			}
		}
	}
	
	focus = {
		id = OMA_creation_of_development_department
		icon = GFX_z_goal_OMA_creation_of_development_department
		prerequisite = { focus = OMA_limited_modernization }
		x = 2
		y = 1
		relative_position_id = OMA_limited_modernization
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_creation_of_development_department"
			add_tech_bonus = {
				name = OMA_creation_of_development_department
				bonus = 1.0
				uses = 1
				category = industry
			}
			random_owned_controlled_state = {
				prioritize = { 294 }
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = hospital
						size > 1
						include_locked = yes
					}
				}
				add_building_construction = {
					type = hospital
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_matrakh_arsenal
		icon = GFX_z_goal_generic_arsenal
		prerequisite = { focus = OMA_creation_of_development_department }
		x = 0
		y = 1
		relative_position_id = OMA_creation_of_development_department
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_matrakh_arsenal"
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	#######################
	##### OUT SECTION #####
	#######################
	
	focus = {
		id = OMA_agreement_with_iraq_petroleum_company
		icon = GFX_z_goal_OMA_agreement_with_iraq_petroleum_company
		x = 10
		y = 0
		relative_position_id = OMA_suppression_of_sheikh_harami_rebellion
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_agreement_with_iraq_petroleum_company"
			add_ideas = IOM_iraq_petroleum
		}
	}
	
	focus = {
		id = OMA_break_off_sebsky_agreement
		icon = GFX_z_goal_break_off_sebsky_agreement
		prerequisite = { focus = OMA_agreement_with_iraq_petroleum_company }
		mutually_exclusive = {
			focus = OMA_maintaining_status_quo
			focus = OMA_concessions_to_imamate_authorities
		}
		x = -2
		y = 1
		relative_position_id = OMA_agreement_with_iraq_petroleum_company
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 3.5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		available = {
		}
		bypass = {
			NOT = { has_idea = OMA_sebsky_agreement }
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_break_off_sebsky_agreement"
			remove_ideas = OMA_sebsky_agreement
			effect_tooltip = {
				IOM = { remove_ideas = OMA_sebsky_agreement }
			}
			hidden_effect = {
				IOM = {
					remove_ideas = {
						IOM_sebsky_agreement
						IOM_sebsky_agreement_2
					}
				}
				country_event = { id = trworldnews.141 hours = 6 }
				every_other_country = {
					limit = {
						OR = {
							original_tag = IOM
							original_tag = PER
							original_tag = IRQ
							original_tag = SAU
							original_tag = YEM
						}
					}
					country_event = { id = trworldnews.141 hours = 6 }
				}
			}
		}
	}
	
	focus = {
		id = OMA_oil_search_in_territory_of_imamate
		icon = GFX_z_goal_OMA_oil_search
		prerequisite = { focus = OMA_break_off_sebsky_agreement }
		x = -1
		y = 1
		relative_position_id = OMA_break_off_sebsky_agreement
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			OR = {
				is_subject = no
				is_subject_of = ENG
			}
			if = {
				limit = { is_subject_of = ENG }
				OR = {
					is_in_faction = no
					is_in_faction_with = ENG
				}
			}
		}
		bypass = {
			OR = {
				NOT = { country_exists = IOM }
				is_subject_of = IOM
				IOM = { is_subject_of = ROOT }
			}
		}
		
		will_lead_to_war_with = IOM
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_oil_search_in_territory_of_imamate"
			effect_tooltip = {
				declare_war_on = { target = IOM type = annex_everything }
			}
			if = {
				limit = { is_subject_of = ENG }
				custom_effect_tooltip = OMA_oil_search_in_territory_of_imamate_tt
			}
			hidden_effect = {
				country_event = { id = NWmuscat.57 hours = 6 }
				IOM = { country_event = { id = NWmuscat.57 hours = 6 } }
			}
		}
	}
	
	focus = {
		id = OMA_alliances_with_tribes_of_oman
		icon = GFX_z_goal_alliances_with_tribes
		prerequisite = { focus = OMA_break_off_sebsky_agreement }
		x = 1
		y = 1
		relative_position_id = OMA_break_off_sebsky_agreement
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			has_war_with = IOM
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_alliances_with_tribes_of_oman"
			add_timed_idea = { idea = OMA_alliances_with_tribes_of_oman days = 365 }
		}
	}
	
	focus = {
		id = OMA_border_demarcation_with_saudi_arabia
		icon = GFX_z_goal_border_demarcation_with_sau
		prerequisite = { focus = OMA_oil_search_in_territory_of_imamate }
		x = 2
		y = 1
		relative_position_id = OMA_oil_search_in_territory_of_imamate
		
		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			controls_state = 941
			controls_state = 942
			NOT = { has_war_with = SAU }
			SAU = {
				is_subject = no
				controls_state = 854
				controls_state = 855
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_border_demarcation_with_saudi_arabia"
			effect_tooltip = {
				transfer_state = 854
				add_state_core = 854
				transfer_state = 855
				add_state_core = 855
				add_opinion_modifier = { target = SAU modifier = OMA_border_demarcation_with_saudi_arabia }
				SAU = {
					add_opinion_modifier = { target = ROOT modifier = OMA_border_demarcation_with_saudi_arabia }
					custom_effect_tooltip = needs_approval
				}
			}
			hidden_effect = {
				SAU = { country_event = { id = NWmuscat.59 days = 1 } }
			}
		}
	}
	
	focus = {
		id = OMA_barre_arab_al
		text = IOM_barre_arab_al
		icon = GFX_z_goal_barre_arab_al
		prerequisite = {
			focus = OMA_convergence_with_axis_powers
			focus = OMA_finding_allies_in_middle_east
			focus = OMA_independent_foreign_policy
		}
		prerequisite = { focus = OMA_oil_search_in_territory_of_imamate }
		x = -1
		y = 3
		relative_position_id = OMA_oil_search_in_territory_of_imamate
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 20
		}
		available = {
			is_subject = no
			any_controlled_state = {
				is_coastal = yes
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_barre_arab_al"
			if = {
				limit = { NOT = { has_completed_focus = OMA_barre_az_zindzh } }
				unlock_decision_category_tooltip = IOM_restoration_of_omani_empire_category
			}
			custom_effect_tooltip = IOM_barre_arab_al_tt
		}
	}
	
	focus = {
		id = OMA_oil_search_in_territory_of_treaty_of_oman
		icon = GFX_z_goal_oil_search_in_territory_of_treaty_of_oman
		prerequisite = { focus = OMA_barre_arab_al }
		x = -1
		y = 1
		relative_position_id = OMA_barre_arab_al
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			controls_state = 658
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_oil_search_in_territory_of_treaty_of_oman"
			add_resource = {
				type = oil
				amount = 20
				state = 658
			}
		}
	}
	
	focus = {
		id = OMA_barre_az_zindzh
		text = IOM_barre_az_zindzh
		icon = GFX_z_goal_barre_az_zindzh
		prerequisite = {
			focus = OMA_convergence_with_axis_powers
			focus = OMA_finding_allies_in_middle_east
			focus = OMA_independent_foreign_policy
		}
		prerequisite = { focus = OMA_oil_search_in_territory_of_imamate }
		x = 1
		y = 3
		relative_position_id = OMA_oil_search_in_territory_of_imamate
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			is_subject = no
			any_controlled_state = {
				is_coastal = yes
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_barre_az_zindzh"
			if = {
				limit = { NOT = { has_completed_focus = OMA_barre_arab_al } }
				unlock_decision_category_tooltip = IOM_restoration_of_omani_empire_category
			}
			custom_effect_tooltip = IOM_barre_az_zindzh_tt
		}
	}
	
	focus = {
		id = OMA_new_golden_age_of_omani_empire
		icon = GFX_z_goal_new_golden_age_of_omani_empire
		prerequisite = { focus = OMA_barre_arab_al }
		prerequisite = { focus = OMA_barre_az_zindzh }
		x = 1
		y = 1
		relative_position_id = OMA_barre_arab_al
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			has_country_flag = EMPIRE_OMAN_flag
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_new_golden_age_of_omani_empire"
			add_ideas = OMA_new_golden_age_of_omani_empire
			remove_ideas = IOM_underdeveloped_semi_feudal_state
			hidden_effect = {
				remove_ideas = {
					IOM_underdeveloped_semi_feudal_state
					IOM_underdeveloped_semi_feudal_state_2
					IOM_underdeveloped_semi_feudal_state_3
				}
			}
		}
	}
	
	focus = {
		id = OMA_artisans_of_stone_city
		icon = GFX_z_goal_artisans_of_stone_city
		prerequisite = { focus = OMA_barre_az_zindzh }
		x = 1
		y = 1
		relative_position_id = OMA_barre_az_zindzh
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			controls_state = 831
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_artisans_of_stone_city"
			831 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_maintaining_status_quo
		icon = GFX_z_goal_association_of_muscat_and_oman
		prerequisite = { focus = OMA_agreement_with_iraq_petroleum_company }
		mutually_exclusive = {
			focus = OMA_break_off_sebsky_agreement
			focus = OMA_concessions_to_imamate_authorities
		}
		x = 0
		y = 1
		relative_position_id = OMA_agreement_with_iraq_petroleum_company
		search_filters = {FOCUS_FILTER_HISTORICAL}
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 4
			modifier = {
				factor = 5
				is_historical_focus_on = yes
			}
		}
		available = {
			country_exists = IOM
			NOT = { has_war_with = IOM }
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_maintaining_status_quo"
			add_opinion_modifier = { target = IOM modifier = OMA_maintaining_status_quo }
			IOM = { add_opinion_modifier = { target = ROOT modifier = OMA_maintaining_status_quo } }
		}
	}
	
	focus = {
		id = OMA_concessions_to_imamate_authorities
		icon = GFX_z_goal_concessions_to_imamate
		prerequisite = { focus = OMA_agreement_with_iraq_petroleum_company }
		mutually_exclusive = {
			focus = OMA_break_off_sebsky_agreement
			focus = OMA_maintaining_status_quo
		}
		x = 2
		y = 1
		relative_position_id = OMA_agreement_with_iraq_petroleum_company
		
		cost = 5
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 2.5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		available = {
			country_exists = IOM
			NOT = { has_war_with = IOM }
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_concessions_to_imamate_authorities"
			remove_opinion_modifier = { target = IOM modifier = IOM_non_obedience_to_sultan }
			IOM = { remove_opinion_modifier = { target = ROOT modifier = IOM_rejection_of_tyranny } }
			custom_effect_tooltip = OMA_concessions_to_imamate_authorities_tt
		}
	}
	
	focus = {
		id = OMA_development_of_internal_deposits
		icon = GFX_z_goal_development_of_internal_deposits
		prerequisite = {
			focus = OMA_oil_search_in_territory_of_imamate
			focus = OMA_maintaining_status_quo
			focus = OMA_concessions_to_imamate_authorities
		}
		x = 1
		y = 2
		relative_position_id = OMA_maintaining_status_quo
		
		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			OR = {
				controls_state = 942
				IOM = { is_subject_of = ROOT }
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_development_of_internal_deposits"
			942 = {
				add_extra_state_shared_building_slots = 1
				add_resource = {
					type = oil
					amount = 10
				}
			}
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = petroleum_development_oman
		}
	}
	
	
	
	########################
	##### ARMY SECTION #####
	########################
	
	focus = {
		id = OMA_muscat_defense_plan
		icon = GFX_z_goal_OMA_muscat_defense_plan
		x = 6
		y = 0
		relative_position_id = OMA_agreement_with_iraq_petroleum_company
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 30
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_muscat_defense_plan"
			add_doctrine_cost_reduction = {
				name = OMA_muscat_defense_plan
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}
	
	focus = {
		id = OMA_handicraft_workshops
		icon = GFX_z_goal_handicraft_workshops
		prerequisite = { focus = OMA_muscat_defense_plan }
		x = -2
		y = 1
		relative_position_id = OMA_muscat_defense_plan
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 30
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_handicraft_workshops"
			random_owned_controlled_state = {
				prioritize = { 294 }
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_pakistani_mercenaries
		icon = GFX_z_goal_pakistani_mercenaries
		prerequisite = { focus = OMA_muscat_defense_plan }
		x = 0
		y = 1
		relative_position_id = OMA_muscat_defense_plan
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_pakistani_mercenaries"
			add_manpower = 1000
			if = {
				limit = { NOT = { owns_state = 936 } }
				effect_tooltip = { add_ideas = OMA_pakistani_mercenaries_half }
				set_variable = { OMA_pakistani_mercenaries_dyn_conscription_factor = 0.05 }
			}
			else = {
				effect_tooltip = { add_ideas = OMA_pakistani_mercenaries_full }
				set_variable = { OMA_pakistani_mercenaries_dyn_conscription_factor = 0.1 }
				if = {
					limit = { 936 = { infrastructure > 1 } }
					set_temp_variable = { temp1 = 936.building_level@infrastructure }
					add_to_temp_variable = { temp1 = -1 }
					multiply_temp_variable = { temp1 = 100 }
					set_variable = { OMA_pakistani_mercenaries_dyn_weekly_manpower = temp1 }
				}
				custom_effect_tooltip = OMA_pakistani_mercenaries_tt1
			}
			hidden_effect = {
				add_dynamic_modifier = { modifier = OMA_pakistani_mercenaries_dyn }
				force_update_dynamic_modifier = yes
			}
			if = {
				limit = {
					NOT = {
						has_completed_focus = OMA_sale_of_guadar
						has_completed_focus = OMA_fortify_fort_guadar
					}
				}
				custom_effect_tooltip = OMA_pakistani_mercenaries_tt2
			}
		}
	}
	
	focus = {
		id = OMA_purchase_of_british_rifles
		icon = GFX_z_goal_purchase_of_british_rifles
		prerequisite = { focus = OMA_muscat_defense_plan }
		x = 2
		y = 1
		relative_position_id = OMA_muscat_defense_plan
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
			has_war_with = ENG
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_purchase_of_british_rifles"
			add_equipment_to_stockpile = {
				type = infantry_equipment
				producer = ENG
				amount = 200
			}
			add_tech_bonus = {
				name = OMA_purchase_of_british_rifles
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
	}
	
	focus = {
		id = OMA_arming_loyal_tribes
		icon = GFX_z_goal_arming_loyal_tribes
		prerequisite = {
			focus = OMA_handicraft_workshops
			focus = OMA_pakistani_mercenaries
		}
		x = -1
		y = 1
		relative_position_id = OMA_pakistani_mercenaries
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 30
		}
		available = {
			has_idea = irregular_army
			owns_state = 943
			owns_state = 805
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_arming_loyal_tribes"
			custom_effect_tooltip = OMA_arming_loyal_tribes_tt
		}
	}
	
	focus = {
		id = OMA_expanding_number_reservists
		icon = GFX_z_goal_expanding_number_reservists
		prerequisite = {
			focus = OMA_pakistani_mercenaries
			focus = OMA_purchase_of_british_rifles
		}
		x = 1
		y = 1
		relative_position_id = OMA_pakistani_mercenaries
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_expanding_number_reservists"
			add_ideas = OMA_expanding_number_reservists
		}
	}
	
	focus = {
		id = OMA_bet_on_tribal_militia
		icon = GFX_z_goal_bet_on_tribal_militia_islam
		prerequisite = { focus = OMA_arming_loyal_tribes }
		mutually_exclusive = { focus = OMA_creation_of_regular_army }
		x = -1
		y = 1
		relative_position_id = OMA_arming_loyal_tribes
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				has_civil_war = no
			}
		}
		available = {
			NOT = { has_completed_focus = OMA_fight_against_everything_decadent }
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_bet_on_tribal_militia"
			custom_effect_tooltip = OMA_bet_on_tribal_militia_tt
		}
	}
	
	focus = {
		id = OMA_conscription_experienced_warriors
		icon = GFX_z_goal_conscription_experienced_warriors
		prerequisite = { focus = OMA_bet_on_tribal_militia }
		x = -2
		y = 1
		relative_position_id = OMA_bet_on_tribal_militia
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_conscription_experienced_warriors"
			army_experience = 20
			custom_effect_tooltip = OMA_conscription_experienced_warriors_tt
		}
	}
	
	focus = {
		id = OMA_reconciliation_with_disloyal_sheikhs
		icon = GFX_z_goal_reconciliation_with_disloyal_sheikhs
		prerequisite = { focus = OMA_bet_on_tribal_militia }
		x = 0
		y = 1
		relative_position_id = OMA_bet_on_tribal_militia
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_reconciliation_with_disloyal_sheikhs"
			custom_effect_tooltip = OMA_reconciliation_with_disloyal_sheikhs_tt
		}
	}
	
	focus = {
		id = OMA_on_soldier_from_each_family
		text = IOM_on_soldier_from_each_family
		icon = GFX_z_goal_on_soldier_from_each_family
		prerequisite = {
			focus = OMA_bet_on_tribal_militia
			focus = OMA_creation_of_regular_army
		}
		x = 2
		y = 1
		relative_position_id = OMA_bet_on_tribal_militia
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_on_soldier_from_each_family"
			add_ideas = IOM_on_soldier_from_each_family
		}
	}
	
	focus = {
		id = OMA_tribal_unions
		icon = GFX_z_goal_tribal_unions
		prerequisite = { focus = OMA_conscription_experienced_warriors }
		prerequisite = { focus = OMA_reconciliation_with_disloyal_sheikhs }
		mutually_exclusive = { focus = OMA_expand_personal_army_of_imam }
		x = -1
		y = 1
		relative_position_id = OMA_reconciliation_with_disloyal_sheikhs
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_tribal_unions"
			custom_effect_tooltip = OMA_tribal_unions_tt
		}
	}
	
	focus = {
		id = OMA_expand_personal_army_of_imam
		icon = GFX_z_goal_expand_personal_army_of_imam
		prerequisite = { focus = OMA_reconciliation_with_disloyal_sheikhs }
		mutually_exclusive = { focus = OMA_tribal_unions }
		x = 1
		y = 1
		relative_position_id = OMA_reconciliation_with_disloyal_sheikhs
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_expand_personal_army_of_imam"
			add_ideas = partial_regular_army
		}
	}
	
	
	focus = {
		id = OMA_creation_of_regular_army
		text = IOM_creation_of_regular_army
		icon = GFX_z_goal_creation_of_regular_army_2
		prerequisite = { focus = OMA_expanding_number_reservists }
		mutually_exclusive = { focus = OMA_bet_on_tribal_militia }
		x = 2
		y = 1
		relative_position_id = OMA_expanding_number_reservists
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0.1
				NOT = { tag = OMA }
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		available = {
			NOT = { has_completed_focus = OMA_fight_against_everything_decadent }
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_creation_of_regular_army"
			army_experience = 25
			add_stability = -0.1
			add_ideas = extensive_conscription
		}
	}
	
	focus = {
		id = OMA_study_new_equipment
		text = IOM_study_new_equipment
		icon = GFX_z_goal_study_new_equipment
		prerequisite = { focus = OMA_reconciliation_with_disloyal_sheikhs focus = OMA_creation_of_regular_army }
		x = -2
		y = 2
		relative_position_id = OMA_creation_of_regular_army
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_study_new_equipment"
			add_tech_bonus = {
				name = IOM_study_new_equipment
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
	}
	
	focus = {
		id = OMA_soldiers_hadzhar
		text = IOM_soldiers_hadzhar
		icon = GFX_z_goal_soldiers_hadzhar
		prerequisite = { focus = OMA_expand_personal_army_of_imam focus = OMA_study_new_equipment }
		x = 1
		y = 1
		relative_position_id = OMA_expand_personal_army_of_imam
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_soldiers_hadzhar"
			add_tech_bonus = {
				name = IOM_soldiers_hadzhar
				bonus = 1.0
				uses = 1
				category = mountaineers_tech
			}
		}
	}
	
	focus = {
		id = OMA_own_production_of_weapon
		text = IOM_own_production_of_weapon
		icon = GFX_z_goal_construction_of_military_industrial_complex
		prerequisite = { focus = OMA_creation_of_regular_army }
		x = 0
		y = 1
		relative_position_id = OMA_creation_of_regular_army
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_own_production_of_weapon"
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_introduce_equipment_in_army
		text = IOM_introduce_equipment_in_army
		icon = GFX_z_goal_introduce_equipment_in_army
		prerequisite = { focus = OMA_study_new_equipment }
		prerequisite = { focus = OMA_own_production_of_weapon }
		x = -1
		y = 2
		relative_position_id = OMA_own_production_of_weapon
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_introduce_equipment_in_army"
			add_tech_bonus = {
				name = IOM_introduce_equipment_in_army
				bonus = 1.0
				uses = 1
				category = motorized_equipment
				category = cat_mechanized_equipment
				category = armor
			}
		}
	}
	
	focus = {
		id = OMA_send_officers_to_europe_for_training
		icon = GFX_focus_usa_focus_on_europe
		prerequisite = { focus = OMA_own_production_of_weapon }
		x = 0
		y = 1
		relative_position_id = OMA_own_production_of_weapon
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_send_officers_to_europe_for_training"
			army_experience = 10
			add_doctrine_cost_reduction = {
				name = OMA_send_officers_to_europe_for_training
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}
	
	focus = {
		id = OMA_introduce_artillery_in_army
		text = IOM_introduce_artillery_in_army
		icon = GFX_z_goal_modernization_of_artillery
		prerequisite = { focus = OMA_study_new_equipment }
		prerequisite = { focus = OMA_own_production_of_weapon }
		x = 1
		y = 2
		relative_position_id = OMA_own_production_of_weapon
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_introduce_artillery_in_army"
			add_tech_bonus = {
				name = IOM_introduce_artillery_in_army
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}
	
	focus = {
		id = OMA_create_air_force
		text = IOM_create_air_force
		icon = GFX_z_goal_create_air_force
		prerequisite = { focus = OMA_creation_of_regular_army }
		x = 2
		y = 1
		relative_position_id = OMA_creation_of_regular_army
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_idea = IOM_underdeveloped_semi_feudal_state }
			hidden_trigger = {
				NOT = {
					has_idea = IOM_underdeveloped_semi_feudal_state
					has_idea = IOM_underdeveloped_semi_feudal_state_2
					has_idea = IOM_underdeveloped_semi_feudal_state_3
				}
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_create_air_force"
			air_experience = 20
			add_doctrine_cost_reduction = {
				name = IOM_create_air_force
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
	}
	
	focus = {
		id = OMA_study_european_models_of_planes
		text = IOM_study_european_models_of_planes
		icon = GFX_z_goal_generic_air_dominations
		prerequisite = { focus = OMA_create_air_force }
		x = 0
		y = 1
		relative_position_id = OMA_create_air_force
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_study_european_models_of_planes"
			add_tech_bonus = {
				name = IOM_study_european_models_of_planes
				bonus = 1.0
				uses = 1
				category = light_fighter
				category = cas_bomber
			}
		}
	}
	
	focus = {
		id = OMA_expand_coast_guard
		text = IOM_expand_coast_guard
		icon = GFX_z_goal_expand_coast_guard
		prerequisite = { focus = OMA_creation_of_regular_army }
		x = 4
		y = 1
		relative_position_id = OMA_creation_of_regular_army
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_idea = IOM_underdeveloped_semi_feudal_state }
			hidden_trigger = {
				NOT = {
					has_idea = IOM_underdeveloped_semi_feudal_state
					has_idea = IOM_underdeveloped_semi_feudal_state_2
					has_idea = IOM_underdeveloped_semi_feudal_state_3
				}
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_expand_coast_guard"
			navy_experience = 20
			add_tech_bonus = {
				name = IOM_expand_coast_guard
				bonus = 1.0
				uses = 1
				category = dd_tech
			}
		}
	}
	
	focus = {
		id = OMA_ship_builders_of_muscat
		text = IOM_ship_builders_of_muscat
		icon = GFX_z_goal_nac_parahod_company
		prerequisite = { focus = OMA_expand_coast_guard }
		x = 0
		y = 1
		relative_position_id = OMA_expand_coast_guard
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			any_owned_state = {
				is_controlled_by = ROOT
				is_coastal = yes
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_ship_builders_of_muscat"
			random_owned_controlled_state = {
				prioritize = { 294 }
				limit = {
					is_core_of = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_development_tactics_use_of_fleet
		text = IOM_development_tactics_use_of_fleet
		icon = GFX_z_goal_high_seas_fleet
		prerequisite = { focus = OMA_ship_builders_of_muscat }
		x = 0
		y = 1
		relative_position_id = OMA_ship_builders_of_muscat
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_development_tactics_use_of_fleet"
			add_doctrine_cost_reduction = {
				name = IOM_development_tactics_use_of_fleet
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}
	
	
	##############################
	##### INDUSTRIAL SECTION #####
	##############################
	
	focus = {
		id = OMA_muscat_commercial_port
		icon = GFX_z_goal_anchor
		x = 0
		y = 2
		relative_position_id = OMA_tribal_unions
		
		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			controls_state = 294
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_muscat_commercial_port"
			294 = {
				add_building_construction = {
					type = naval_base
					level = 2
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					instant_build = yes
				}
			}
			add_ideas = OMA_muscat_commercial_port
		}
	}
	
	focus = {
		id = OMA_craft_workshops
		icon = GFX_z_goal_craft_workshops2
		prerequisite = { focus = OMA_muscat_commercial_port }
		x = -2
		y = 1
		relative_position_id = OMA_muscat_commercial_port
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_craft_workshops"
			random_owned_controlled_state = {
				prioritize = { 943 }
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_haji_musas_entrepreneurship
		icon = GFX_z_goal_arab_nobility
		prerequisite = { focus = OMA_craft_workshops }
		x = 0
		y = 1
		relative_position_id = OMA_craft_workshops
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_haji_musas_entrepreneurship"
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = OMA_hajj_moosa
			random_owned_controlled_state = {
				prioritize = { 294 }
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_purchase_of_kerosene_and_vehicles
		icon = GFX_z_goal_anglo_iranian_oil_company
		prerequisite = { focus = OMA_haji_musas_entrepreneurship }
		x = -1
		y = 1
		relative_position_id = OMA_haji_musas_entrepreneurship
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_purchase_of_kerosene_and_vehicles"
			add_ideas = OMA_purchase_of_kerosene_and_vehicles
			if = {
				limit = { has_tech = motorised_infantry }
				add_equipment_to_stockpile = {
					type = motorized_equipment
					amount = 80
				}
			}
			else = {
				add_tech_bonus = {
					name = motorized_bonus
					bonus = 3
					uses = 1
					category = motorized_equipment
				}
			}
		}
	}

	focus = {
		id = OMA_establish_arms_supply_chains
		icon = GFX_z_goal_barter_economy
		prerequisite = { focus = OMA_purchase_of_kerosene_and_vehicles }
		x = 0
		y = 1
		relative_position_id = OMA_purchase_of_kerosene_and_vehicles
		mutually_exclusive = { focus = OMA_the_rise_of_handicraft_weapons }
		search_filters = {FOCUS_FILTER_HISTORICAL}
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_establish_arms_supply_chains"
			add_offsite_building = { type = arms_factory level = 1 }
#			if = {
#				limit = { has_completed_focus = OMA_souk_of_muscat }
#				if = {
#					limit = { has_game_rule = { rule = trade_weapons option = DEFAULT } }
#					custom_effect_tooltip = FRF_world_terror_tt
#					set_variable = { weapons_buy_discount = 0.75 }
#				}
#			}
#			else = {
#				if = {
#					limit = { has_game_rule = { rule = trade_weapons option = DEFAULT } }
#					custom_effect_tooltip = FRF_world_terror_tt
#					set_variable = { weapons_buy_discount = 0.5 }
#				}
#			}
		}
	}
	
	
	
	focus = {
		id = OMA_souk_of_muscat
		icon = GFX_z_goal_arab_market
		prerequisite = { focus = OMA_muscat_commercial_port }
		x = 0
		y = 1
		relative_position_id = OMA_muscat_commercial_port
		
		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			controls_state = 294
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_souk_of_muscat"
			add_ideas = OMA_souk_of_muscat
			294 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
#			if = {
#				limit = { has_completed_focus = OMA_establish_arms_supply_chains }
#				if = {
#					limit = { has_game_rule = { rule = trade_weapons option = DEFAULT } }
#					custom_effect_tooltip = FRF_world_terror_tt
#					set_variable = { weapons_buy_discount = 0.75 }
#				}
#			}
#			else = {
#				if = {
#					limit = { has_game_rule = { rule = trade_weapons option = DEFAULT } }
#					custom_effect_tooltip = FRF_world_terror_tt
#					set_variable = { weapons_buy_discount = 0.5 }
#				}
#			}
		}
	}
	
	focus = {
		id = OMA_cartridge_production
		icon = GFX_z_goal_production_of_cartridges2
		prerequisite = { focus = OMA_haji_musas_entrepreneurship }
		prerequisite = { focus = OMA_souk_of_muscat }
		mutually_exclusive = { focus = OMA_experimental_farms } 
		x = 1
		y = 1
		relative_position_id = OMA_haji_musas_entrepreneurship
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_idea = IOM_underdeveloped_semi_feudal_state }
			hidden_trigger = {
				NOT = {
					has_idea = IOM_underdeveloped_semi_feudal_state
					has_idea = IOM_underdeveloped_semi_feudal_state_2
					has_idea = IOM_underdeveloped_semi_feudal_state_3
				}
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_cartridge_production"
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_the_rise_of_handicraft_weapons
		icon = GFX_z_goal_artisanal_production_of_weapons
		prerequisite = { focus = OMA_cartridge_production }
		x = 0
		y = 1
		relative_position_id = OMA_cartridge_production
		mutually_exclusive = { focus = OMA_establish_arms_supply_chains }
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_the_rise_of_handicraft_weapons"
			add_ideas = IOM_the_rise_of_handicraft_weapons
		}
	}
	
	focus = {
		id = OMA_irrigational_systems
		text = IOM_irrigational_systems
		icon = GFX_z_goal_plantation
		prerequisite = { focus = OMA_muscat_commercial_port }
		x = 2
		y = 1
		relative_position_id = OMA_muscat_commercial_port
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_irrigational_systems"
			every_controlled_state = {
				limit = { is_core_of = ROOT }
				add_extra_state_shared_building_slots = 1
			}
		}
	}
	
	focus = {
		id = OMA_dofar_fields_of_incense
		icon = GFX_z_goal_fields_of_incense
		prerequisite = { focus = OMA_irrigational_systems }
		x = -1
		y = 1
		relative_position_id = OMA_irrigational_systems
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_dofar_fields_of_incense"
			add_ideas = OMA_dofar_fields_of_incense
		}
	}
	
	focus = {
		id = OMA_experimental_farms
		icon = GFX_z_goal_agriculture_taxes
		prerequisite = { focus = OMA_dofar_fields_of_incense focus = OMA_date_gardens }
		x = 0
		y = 1
		relative_position_id = OMA_dofar_fields_of_incense
		mutually_exclusive = { focus = OMA_cartridge_production }
		search_filters = {FOCUS_FILTER_HISTORICAL}
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_idea = IOM_underdeveloped_semi_feudal_state }
			hidden_trigger = {
				NOT = {
					has_idea = IOM_underdeveloped_semi_feudal_state
					has_idea = IOM_underdeveloped_semi_feudal_state_2
					has_idea = IOM_underdeveloped_semi_feudal_state_3
				}
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_experimental_farms"
			add_ideas = OMA_experimental_farms 
			random_owned_controlled_state = {
				limit = { is_core_of = ROOT }
				add_extra_state_shared_building_slots = 1
			}
		}
	}

	focus = {
		id = OMA_resuscitation_of_pearl_mining
		icon = GFX_z_goal_pearl
		prerequisite = { focus = OMA_experimental_farms }
		x = 0
		y = 1
		relative_position_id = OMA_experimental_farms
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_resuscitation_of_pearl_mining"
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = OMA_industrialization_through_compradorism
		icon = GFX_z_goal_Compradors_support
		prerequisite = { focus = OMA_resuscitation_of_pearl_mining focus = OMA_the_rise_of_handicraft_weapons focus = OMA_establish_arms_supply_chains }
		x = -1
		y = 1
		relative_position_id = OMA_resuscitation_of_pearl_mining
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_idea = IOM_underdeveloped_semi_feudal_state }
			hidden_trigger = {
				NOT = {
					has_idea = IOM_underdeveloped_semi_feudal_state
					has_idea = IOM_underdeveloped_semi_feudal_state_2
					has_idea = IOM_underdeveloped_semi_feudal_state_3
				}
			}
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_industrialization_through_compradorism"
			add_ideas = OMA_industrialization_through_compradorism
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	
	
	
	focus = {
		id = OMA_date_gardens
		icon = GFX_z_goal_dates3
		prerequisite = { focus = OMA_irrigational_systems }
		x = 1
		y = 1
		relative_position_id = OMA_irrigational_systems
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_date_gardens"
			add_ideas = OMA_date_gardens
		}
	}
	
		focus = {
		id = OMA_unite_the_country
		icon = GFX_z_goal_arab_infrastructure
		prerequisite = { focus = OMA_dofar_fields_of_incense focus = OMA_date_gardens }
		x = 1
		y = 1
		relative_position_id = OMA_date_gardens
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_unite_the_country"
			add_ideas = IOM_unite_the_country
		}
	}
	
	focus = {
		id = OMA_invitation_of_foreign_specialists
		icon = GFX_z_goal_foreign_specialists
		prerequisite = { focus = OMA_dofar_fields_of_incense focus = OMA_date_gardens }
		x = 0
		y = 2
		relative_position_id = OMA_date_gardens
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_invitation_of_foreign_specialists"
			add_ideas = OMA_invitation_of_foreign_specialists
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = industry
				name = SAU_invitation_of_foreign_specialists
			}
		}
	}
	
	focus = {
		id = OMA_construction_of_unpaved_roads
		icon = GFX_z_goal_deserted_road
		prerequisite = { focus = OMA_muscat_commercial_port }
		x = 4
		y = 1
		relative_position_id = OMA_muscat_commercial_port
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_construction_of_unpaved_roads"
			every_controlled_state = {
				limit = { is_core_of = ROOT }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = OMA_opening_of_al_saidiya_school
		icon = GFX_z_goal_islamic_education
		prerequisite = { focus = OMA_muscat_commercial_port }
		x = 6
		y = 1
		relative_position_id = OMA_muscat_commercial_port
		
		cost = 7.2
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus OMA_opening_of_al_saidiya_school"
			add_political_power = 60
			add_research_slot = 1
		}
	}
	
	focus = {
		id = IOM_open_national_university_in_muscat
		icon = GFX_z_goal_university
		prerequisite = { focus = OMA_opening_of_al_saidiya_school }
		x = 0
		y = 1
		relative_position_id = OMA_opening_of_al_saidiya_school
		
		cost = 10
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 10
		}
		available = {
			num_of_factories > 15
		}
		bypass = {
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus IOM_open_national_university_in_muscat"
			add_research_slot = 1
		}
	}
}