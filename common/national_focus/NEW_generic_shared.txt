	############################
	####### ARMY SECTION #######
	############################
	
	shared_focus = {
		id = army_reform
		icon = GFX_focus_secret_rearmament
		x = 55
		y = 0
		offset = {
			x = -9
			y = 0
			trigger = {
				has_focus_tree = generic_anarchism_focus
			}
		}
		offset = {
			x = -51
			y = 0
			trigger = {
				check_variable = { current_nw_national_focus_polical_icon_frame = 2 }
			}
		}
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		allow_branch = {
			NOT = {
				check_variable = { current_nw_national_focus_army_icon_frame = 2 }
				original_tag = SOV
			}
		}
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 40 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
				custom_trigger_tooltip = {
					check_variable = { anarchism_tendency_sense_of_danger_var > 29.999 }
					tooltip = peoples_police_trigger_tt1
				}
			}
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3 tooltip = anarchism_unity_add_effect }
			}
			army_experience = 5
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				OR = {
					has_global_flag = generic_all_set_fascism_flag
					has_global_flag = generic_all_set_communism_flag
					has_global_flag = generic_all_set_trozkism_flag
					has_global_flag = generic_all_set_anarchism_flag
					has_global_flag = generic_all_set_democratic_flag
					has_global_flag = generic_all_set_neutrality_flag
					has_global_flag = generic_all_set_technocracy_flag
					has_global_flag = generic_all_set_monarchy_flag
				}
				NOT = {
					has_completed_focus = nationalism_focus
					has_completed_focus = internationalism_focus
					has_completed_focus = revolution_focus
					has_completed_focus = democratic_focus
					has_completed_focus = technocracy_focus
					has_completed_focus = neutrality_focus
					has_completed_focus = monarchism_focus
				}
			}
		}
	}

	shared_focus = {
		id = mass_army
		icon = GFX_z_goal_generic_organization_of_the_troops
		prerequisite = { focus = army_reform }
		mutually_exclusive = { focus = professional_army}
		x = -2
		y = 1
		relative_position_id = army_reform
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 40 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
				custom_trigger_tooltip = {
					check_variable = { anarchism_tendency_sense_of_danger_var > 29.999 }
					tooltip = peoples_police_trigger_tt1
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3 tooltip = anarchism_unity_add_effect }
			}
			add_ideas = mass_army_focus
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			army_experience = 10
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			if = {
				limit = { has_government = anarchism }
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = SPR_council_of_theorists
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}

	shared_focus = {
		id = professional_army
		icon = GFX_z_goal_generic_general_support
		prerequisite = { focus = army_reform }
		mutually_exclusive = { focus = mass_army}
		x = 2
		y = 1
		relative_position_id = army_reform
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
				custom_trigger_tooltip = {
					check_variable = { anarchism_tendency_sense_of_danger_var > 29.999 }
					tooltip = peoples_police_trigger_tt1
				}
			}
		}

		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3 tooltip = anarchism_unity_add_effect }
			}
			add_ideas = professional_army_focus
				random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			army_experience = 10
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}

	shared_focus = {
		id = offensive_strategy
		icon = GFX_z_goal_generic_offensive_strategy
		prerequisite = { focus = mass_army focus = professional_army }
		mutually_exclusive = { focus = defensive_strategy}
		x = -1
		y = 2
		relative_position_id = army_reform
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
				custom_trigger_tooltip = {
					check_variable = { anarchism_tendency_sense_of_danger_var > 49.999 }
					tooltip = peoples_militia_trigger_tt
				}
			}
		}

		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -15 tooltip = anarchism_unity_add_effect }
			}
			add_ideas = offensive_strategy_focus
			army_experience = 10
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			if = {
				limit = { has_government = anarchism }
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = SPR_offensive_military_council
				show_ideas_tooltip = SPR_organizational_military_council
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}

	shared_focus = {
		id = defensive_strategy
		icon = GFX_z_goal_generic_defensive_strategy
		prerequisite = { focus = mass_army focus = professional_army }
		mutually_exclusive = { focus = offensive_strategy}
		x = 1
		y = 2
		relative_position_id = army_reform
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -7.5 tooltip = anarchism_unity_add_effect }
			}
			add_ideas = defensive_strategy_focus
			army_experience = 10
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			if = {
				limit = { has_government = anarchism }
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = SPR_defensive_military_council
				show_ideas_tooltip = SPR_organizational_military_council
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}

	shared_focus = {
		id = equipment_modernization
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = mass_army focus = professional_army focus = offensive_strategy focus = defensive_strategy }
		x = -2
		y = 3
		relative_position_id = army_reform
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = infantry_bonus
				bonus = 1
				uses = 1
				category = infantry_weapons
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}

	shared_focus = {
		id = doctrine_development
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = offensive_strategy focus = defensive_strategy }
		x = 0
		y = 3
		relative_position_id = army_reform
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -5 tooltip = anarchism_unity_add_effect }
			}
			army_experience = 5
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}

	shared_focus = {
		id = mechanization
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = doctrine_development }
		x = -1
		y = 4
		relative_position_id = army_reform
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -5 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = motorized_bonus
				ahead_reduction = 2
				uses = 1
				category = motorized_equipment
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}

	shared_focus = {
		id = equipment_development
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = doctrine_development }
		x = 1
		y = 4
		relative_position_id = army_reform
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = equipment_development
				bonus = 1
				uses = 1
				category = infantry_weapons
				category = artillery
				category = armor
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}

	shared_focus = {
		id = artillery_study
		icon = GFX_z_goal_generic_latest_artillery
		prerequisite = { focus = mass_army focus = professional_army focus = offensive_strategy focus = defensive_strategy }
		x = 2
		y = 3
		relative_position_id = army_reform
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = artillery_bonus
				bonus = 1
				uses = 1
				category = artillery
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}

	shared_focus = {
		id = doctrine_enhancement
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = equipment_modernization focus = mechanization focus = equipment_development focus = artillery_study }
		x = -2
		y = 5
		relative_position_id = army_reform
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3 tooltip = anarchism_unity_add_effect }
			}
			army_experience = 5
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}

	shared_focus = {
		id = tank_development
		icon = GFX_z_goal_generic_newest_tank
		prerequisite = { focus = mechanization focus = equipment_development }
		x = 0
		y = 5
		relative_position_id = army_reform
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 70 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -10 tooltip = anarchism_unity_add_effect }
			}
			army_experience = 5
			add_tech_bonus = {
				name = armor_bonus
				bonus = 1
				uses = 2
				category = armor
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}

	shared_focus = {
		id = support_companies
		icon = GFX_z_goal_generic_organization_of_the_troops
		prerequisite = { focus = equipment_modernization focus = mechanization focus = equipment_development focus = artillery_study }
		x = 2
		y = 5
		relative_position_id = army_reform
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3 tooltip = anarchism_unity_add_effect }
			}
			army_experience = 5
			add_tech_bonus = {
				name = support_bonus
				bonus = 1
				uses = 1
				category = support_tech
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}

	############################
	######## AIR SECTION #######
	############################
	
	shared_focus = {
		id = aviation_development
		icon = GFX_z_goal_generic_airports_focus
		x = 6
		y = 0
		offset = {
			x = -6
			y = 0
			trigger = {
				check_variable = { current_nw_national_focus_army_icon_frame = 2 }
				NOT = { original_tag = SOV }
			}
		}
		offset = {
			x = 17
			y = 0
			trigger = {
				original_tag = SOV
			}
		}
		relative_position_id = army_reform
		cost = 5

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		allow_branch = {
			NOT = { check_variable = { current_nw_national_focus_aviation_icon_frame = 2 } }
		}
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 25 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}
		
		complete_tooltip = {
			if = { limit = { has_country_flag = aviation_effort_AB }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -2 tooltip = anarchism_unity_add_effect }
			}
			if = {
				limit = {
					capital_scope = {
						NOT = {
							free_building_slots = {
								building = air_base
								size > 1
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = aviation_effort_AB }
				}
			}
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
				capital_scope = {
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = aviation_effort_AB }
				}
			}
			if = {
				limit = { has_government = anarchism }
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = SPR_air_safety_aviation_council
				show_ideas_tooltip = SPR_all_weather_aviation_council
			}
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				OR = {
					has_global_flag = generic_all_set_fascism_flag
					has_global_flag = generic_all_set_communism_flag
					has_global_flag = generic_all_set_trozkism_flag
					has_global_flag = generic_all_set_anarchism_flag
					has_global_flag = generic_all_set_democratic_flag
					has_global_flag = generic_all_set_neutrality_flag
					has_global_flag = generic_all_set_technocracy_flag
					has_global_flag = generic_all_set_monarchy_flag
				}
				NOT = {
					has_completed_focus = nationalism_focus
					has_completed_focus = internationalism_focus
					has_completed_focus = revolution_focus
					has_completed_focus = democratic_focus
					has_completed_focus = technocracy_focus
					has_completed_focus = neutrality_focus
					has_completed_focus = monarchism_focus
				}
			}
		}
	}

	shared_focus = {
		id = tactic_focus
		icon = GFX_z_goal_generic_tactical_aviation
		prerequisite = { focus = aviation_development }
		mutually_exclusive = { focus = strategic_focus }
		x = -1
		y = 1
		relative_position_id = aviation_development
		cost = 5

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 25 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -5 tooltip = anarchism_unity_add_effect }
			}
			air_experience = 25
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}

	shared_focus = {
		id = strategic_focus
		icon = GFX_z_goal_generic_strategic_aviation
		prerequisite = { focus = aviation_development }
		mutually_exclusive = { focus = tactic_focus }
		x = 1
		y = 1
		relative_position_id = aviation_development
		cost = 5

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 25 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -5 tooltip = anarchism_unity_add_effect }
			}
			air_experience = 10
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.6
				uses = 1
				category = air_doctrine
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = development_of_front_line_fighters
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = tactic_focus }
		x = -2
		y = 2
		relative_position_id = aviation_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 35 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -5 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1.0
				uses = 2
				category = light_fighter
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = development_of_gunships
		icon = GFX_z_goal_generic_gunships_bombs
		prerequisite = { focus = development_of_front_line_fighters }
		x = -1
		y = 3
		relative_position_id = aviation_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 35 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -5 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = CAS_bonus
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = cas_bomber
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = development_of_light_bombers
		icon = GFX_z_goal_generic_light_bombers_bombs
		prerequisite = { focus = tactic_focus focus = strategic_focus }
		x = 0
		y = 2
		relative_position_id = aviation_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 35 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -5 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1.0
				uses = 1
				category = tactical_bomber
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = development_of_strategic_bombers
		icon = GFX_z_goal_generic_strategic_bombers_focus
		prerequisite = { focus = strategic_focus }
		x = 2
		y = 2
		relative_position_id = aviation_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -7.5 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1.0
				uses = 2
				category = cat_strategic_bomber
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = development_of_heavy_fighters
		icon = GFX_focus_usa_escort_fighters
		prerequisite = { focus = development_of_strategic_bombers }
		x = 1
		y = 3
		relative_position_id = aviation_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -7.5 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1.0
				uses = 1
				category = cat_heavy_fighter
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = missile_development
		icon = GFX_focus_rocketry
		prerequisite = { focus = development_of_heavy_fighters focus = development_of_gunships focus = artillery_study }
		x = -1
		y = 4
		relative_position_id = aviation_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 85 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -25 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = jet_rocket_bonus
				ahead_reduction = 2
				uses = 2
				category = rocketry
				category = jet_technology
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}
	
	
	shared_focus = {
		id = development_of_navy_aviation
		icon = GFX_z_goal_generic_development_of_navy_aviation
		prerequisite = { focus = development_of_heavy_fighters focus = development_of_gunships }
		x = 1
		y = 4
		offset = {
			x = -1
			y = 0
			trigger = {
				check_variable = { current_nw_national_focus_army_icon_frame = 2 }
				NOT = { original_tag = SOV }
			}
		}
		relative_position_id = aviation_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 35 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -7.5 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = nav_bomber_bonus
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = naval_bomber
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = nuclear_program
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = development_of_navy_aviation }
		prerequisite = { focus = missile_development }
		x = 0
		y = 5
		relative_position_id = aviation_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.25
				always = yes
			}
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 99 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -7.5 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = nuclear_bonus
				ahead_reduction = 2
				category = nuclear
			}
		}
	}

	############################
	####### NAVY SECTION #######
	############################
	
	shared_focus = {
		id = naval_development
		icon = GFX_z_goal_generic_naval
		x = 7
		y = 0
		offset = {
			x = -6
			y = 0
			trigger = {
				check_variable = { current_nw_national_focus_aviation_icon_frame = 2 }
			}
		}
		relative_position_id = aviation_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		allow_branch = {
			NOT = { check_variable = { current_nw_national_focus_naval_icon_frame = 2 } }
		}
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 33 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
			has_capitulated = no
			any_controlled_state = {
				is_coastal = yes
			}
		}

		complete_tooltip = {
			navy_experience = 25
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = dockyard
				level = 3
				instant_build = yes
			}
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -7.5 tooltip = anarchism_unity_add_effect }
			}
			navy_experience = 25
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							dockyard > 0
							free_building_slots = {
								building = dockyard
								size > 2
								include_locked = yes
							}
						}
					}
					any_owned_state = {
						is_coastal = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
				set_country_flag = naval_effort_built
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built }
					any_owned_state = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
				set_country_flag = naval_effort_built
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built }
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = dockyard
								size > 2
								include_locked = yes
							}
						}
					}
				}
				random_controlled_state = {
					limit = {
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
			}
			if = {
				limit = { original_tag = SOV }
				custom_effect_tooltip = SOV_merge_naval_plants_tt
			}
			if = {
				limit = { has_government = anarchism }
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = SPR_commerce_raiding_naval_council
				show_ideas_tooltip = SPR_reform_naval_council
			}
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				OR = {
					has_global_flag = generic_all_set_fascism_flag
					has_global_flag = generic_all_set_communism_flag
					has_global_flag = generic_all_set_trozkism_flag
					has_global_flag = generic_all_set_anarchism_flag
					has_global_flag = generic_all_set_democratic_flag
					has_global_flag = generic_all_set_neutrality_flag
					has_global_flag = generic_all_set_technocracy_flag
					has_global_flag = generic_all_set_monarchy_flag
				}
				NOT = {
					has_completed_focus = nationalism_focus
					has_completed_focus = internationalism_focus
					has_completed_focus = revolution_focus
					has_completed_focus = democratic_focus
					has_completed_focus = technocracy_focus
					has_completed_focus = neutrality_focus
					has_completed_focus = monarchism_focus
				}
			}
		}
	}

	shared_focus = {
		id = large_navy_focus
		icon = GFX_z_goal_generic_big_naval_power
		prerequisite = { focus = naval_development }
		mutually_exclusive = { focus = coastal_protection }
		x = -2
		y = 1
		relative_position_id = naval_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 33 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3.5 tooltip = anarchism_unity_add_effect }
			}
			add_doctrine_cost_reduction = {
				name = fleet_in_being_bonus
				cost_reduction = 0.5
				uses = 2
				category = fleet_in_being_tree
			}
		}
	}

	shared_focus = {
		id = coastal_protection
		icon = GFX_z_goal_generic_coastal_navy
		prerequisite = { focus = naval_development }
		mutually_exclusive = { focus = large_navy_focus }
		x = 2
		y = 1
		relative_position_id = naval_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 33 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3.5 tooltip = anarchism_unity_add_effect }
			}
			add_doctrine_cost_reduction = {
				name = sub_op_bonus
				cost_reduction = 0.5
				uses = 2
				technology = convoy_interdiction_ti
				technology = unrestricted_submarine_warfare
				technology = wolfpacks
				technology = advanced_submarine_warfare
				technology = combined_operations_raiding
			}
		}
	}
	
	shared_focus = {
		id = priority_aircraft_carriers
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = large_navy_focus }
		mutually_exclusive = { focus = priority_battleships }
		x = -3
		y = 2
		relative_position_id = naval_development
		cost = 8

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 33 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3.5 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = capital_ships_bonus
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = cv_tech
				category = tp_tech 
			}
		}
	}
	
	shared_focus = {
		id = priority_battleships
		icon = GFX_focus_generic_navy_battleship2
		prerequisite = { focus = large_navy_focus }
		mutually_exclusive = { focus = priority_aircraft_carriers }
		x = -1
		y = 2
		relative_position_id = naval_development
		cost = 8

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 33 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3.5 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = capital_ships_bonus
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = bc_tech
				category = bb_tech
				category = shbb_tech 
			}
		}
	}
	
	shared_focus = {
		id = development_of_escort_ships
		icon = GFX_focus_generic_destroyer
		prerequisite = { focus = priority_battleships focus = priority_aircraft_carriers }
		x = -3
		y = 3
		relative_position_id = naval_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 33 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3.5 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = development_of_escort_ships
				bonus = 0.75
				uses = 2
				category = dd_tech 
				category = cl_tech  
				category = ca_tech
				category = ss_tech				
			}
		}
	}
	
	shared_focus = {
		id = development_of_minesweepers
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = priority_battleships focus = priority_aircraft_carriers }
		x = -1
		y = 3
		relative_position_id = naval_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 33 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3.5 tooltip = anarchism_unity_add_effect }
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = naval_minesweeping_bonus
					bonus = 1.0
					uses = 2
					category = naval_minesweeping
					category = dd_tech
				}
			}
			else = {
				add_ideas = technology_mine_trawling
			}
		}
	}
	
	shared_focus = {
		id = priority_destroyers
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = coastal_protection }
		mutually_exclusive = { focus = priority_submarines }
		x = 1
		y = 2
		relative_position_id = naval_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 33 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -5 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = dd_bonus
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = dd_tech
			}
		}
	}
	
	shared_focus = {
		id = priority_submarines
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = coastal_protection }
		mutually_exclusive = { focus = priority_destroyers }
		x = 3
		y = 2
		relative_position_id = naval_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 33 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -5 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = ss_bonus
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = ss_tech
			}
		}
	}
	
	shared_focus = {
		id = development_of_mine_barriers
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = priority_destroyers focus = priority_submarines }
		x = 1
		y = 3
		relative_position_id = naval_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 33 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -5 tooltip = anarchism_unity_add_effect }
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = naval_naval_minelaying
					bonus = 1.0
					uses = 2
					category = naval_minelaying 
					category = asw_tech 
					technology = improved_dp_light_battery
				}
			}
			else = {
				add_ideas = technology_naval_minelaying 
			}
		}
	}
	
	shared_focus = {
		id = development_of_large_ships
		icon = GFX_focus_generic_cruiser2
		prerequisite = { focus = priority_destroyers focus = priority_submarines }
		x = 3
		y = 3
		relative_position_id = naval_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -10 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = capital_ships_bonus
				bonus = 0.75
				uses = 2
				category = bc_tech
				category = bb_tech
				category = cv_tech	
				category = ca_tech  
			}
		}
	}
	
	shared_focus = {
		id = upgrading_weapons
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = development_of_mine_barriers focus = development_of_large_ships focus = development_of_minesweepers focus = development_of_escort_ships }
		x = -2
		y = 4
		relative_position_id = naval_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 25 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -2.5 tooltip = anarchism_unity_add_effect }
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = fleet_in_being_bonus
					bonus = 0.75
					uses = 4
					technology = basic_battery
					technology = basic_light_battery
					technology = improved_light_battery
					technology = advanced_light_battery
					technology = basic_light_shell
					technology = improved_light_shell
					technology = basic_medium_battery
					technology = improved_medium_battery
					technology = advanced_medium_battery
					technology = basic_medium_shell
					technology = improved_medium_shell
					technology = basic_heavy_battery
					technology = improved_heavy_battery
					technology = advanced_heavy_battery
					technology = basic_heavy_shell
					technology = improved_heavy_shell
				}
			}
			else = {
				add_tech_bonus = {
					name = fleet_in_being_bonus
					bonus = 1.0
					uses = 2
					category = naval_equipment
				}
			}
		}
	}
	
	shared_focus = {
		id = struggle_for_survival
		icon = GFX_z_goal_generic_just_an_anchor
		prerequisite = { focus = development_of_mine_barriers focus = development_of_large_ships focus = development_of_minesweepers focus = development_of_escort_ships }
		x = 2
		y = 4
		relative_position_id = naval_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				all_owned_state = {
					OR = {
						is_coastal = no
						dockyard < 1
					}
				}
			}
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 35 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -5 tooltip = anarchism_unity_add_effect }
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = fleet_in_being_bonus
					bonus = 0.75
					uses = 2
					technology = fire_control_methods_1
					technology = fire_control_methods_2
					technology = fire_control_methods_3
				}
			}
			else = {
				add_tech_bonus = {
					name = fleet_in_being_bonus
					bonus = 1.0
					uses = 2
					category = naval_equipment
				}
			}
		}
	}
	
	
	############################
	#### INDUSTRIAL SECTION ####
	############################
	
	shared_focus = {
		id = industrial_innovations
		icon = GFX_z_goal_production
		x = 8
		y = 0
		offset = {
			x = -8
			y = 0
			trigger = {
				check_variable = { current_nw_national_focus_naval_icon_frame = 2 }
			}
		}
		relative_position_id = naval_development
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		allow_branch = {
			NOT = { check_variable = { current_nw_national_focus_industrial_icon_frame = 2 } }
		}
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3.5 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 1
				category = industry
			}
		}

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				OR = {
					has_global_flag = generic_all_set_fascism_flag
					has_global_flag = generic_all_set_communism_flag
					has_global_flag = generic_all_set_trozkism_flag
					has_global_flag = generic_all_set_anarchism_flag
					has_global_flag = generic_all_set_democratic_flag
					has_global_flag = generic_all_set_neutrality_flag
					has_global_flag = generic_all_set_technocracy_flag
					has_global_flag = generic_all_set_monarchy_flag
				}
				NOT = {
					has_completed_focus = nationalism_focus
					has_completed_focus = internationalism_focus
					has_completed_focus = revolution_focus
					has_completed_focus = democratic_focus
					has_completed_focus = technocracy_focus
					has_completed_focus = neutrality_focus
					has_completed_focus = monarchism_focus
				}
			}
		}
	}

	shared_focus = {
		id = light_industry_investment
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = industrial_innovations }
		x = -2
		y = 1
		relative_position_id = industrial_innovations
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 2
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = yes
					}					
				}
			}
		}
		
		select_effect = {
			add_timed_idea = {
				idea = industry_investment_effect
				days = 70
			}
    	}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			if = {
				limit = { is_major = yes }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			else = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3.5 tooltip = anarchism_unity_add_effect }
			}
			custom_effect_tooltip = heavy_industry_investment_tt
			show_ideas_tooltip = industry_investment_effect
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = { is_major = yes }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = industrial_complex
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = industrial_complex
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	shared_focus = {
		id = factories_construction
		icon = GFX_z_goal_generic_mass_production_of_goods
		prerequisite = { focus = light_industry_investment }
		x = -3
		y = 2
		relative_position_id = industrial_innovations
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 2
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = yes
					}					
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			if = {
				limit = { is_major = yes }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			else = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3.5 tooltip = anarchism_unity_add_effect }
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = { is_major = yes }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = industrial_complex
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = industrial_complex
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			
			if = {
				limit = { original_tag = SOV }
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = SOV_gosproyektstroy_1
			}
		}
	}

	shared_focus = {
		id = agrarian_reform
		icon = GFX_z_goal_agrarian_reform
		prerequisite = { focus = light_industry_investment }
		x = -1
		y = 2
		relative_position_id = industrial_innovations
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 2
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		bypass = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -3.5 tooltip = anarchism_unity_add_effect }
			}
			add_ideas = agrarian_reform_focus
			
			if = {
				limit = { original_tag = SOV }
				if = {
					limit = { has_idea = stalingrad_tractor_factory }
					swap_ideas = {
						remove_idea = stalingrad_tractor_factory
						add_idea = stalingrad_tractor_factory_improved
					}
				}
				else = {
					custom_effect_tooltip = available_designer
					show_ideas_tooltip = stalingrad_tractor_factory_improved
				}
			}
		}
	}

	shared_focus = {
		id = railways_construction
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = factories_construction focus = agrarian_reform }
		x = -2
		y = 3
		relative_position_id = industrial_innovations
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}
		
		bypass = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -5 tooltip = anarchism_unity_add_effect }
			}
			capital_scope = {
				every_neighbor_state = {
					limit = { controller = { OR = { tag = ROOT is_subject_of = ROOT is_in_faction_with = ROOT } } }
					build_railway = {
						start_state = THIS
						target_state = PREV	
					}
				}
			}
			
			if = {
				limit = { original_tag = SOV }
				if = {
					limit = { has_idea = SOV_soviet_railways }
					swap_ideas = {
						remove_idea = SOV_soviet_railways
						add_idea = SOV_soviet_railways_improved
					}
				}
				else = {
					custom_effect_tooltip = available_designer
					show_ideas_tooltip = SOV_soviet_railways_improved
				}
			}
		}
	}

	shared_focus = {
		id = heavy_industry_investment
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = industrial_innovations }
		x = 2
		y = 1
		relative_position_id = industrial_innovations
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 2
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
			}
		}
		
		select_effect = {
			add_timed_idea = {
				idea = industry_investment_effect
				days = 70
			}
    	}

		complete_tooltip = {
			if = {
				limit = { is_major = yes }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			else = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -10 tooltip = anarchism_unity_add_effect }
			}
			custom_effect_tooltip = heavy_industry_investment_tt
			show_ideas_tooltip = industry_investment_effect
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = { is_major = yes }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = arms_factory
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = arms_factory
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	shared_focus = {
		id = arms_factories_construction
		icon = GFX_z_goal_generic_centralized_industry
		prerequisite = { focus = heavy_industry_investment }
		x = 1
		y = 2
		relative_position_id = industrial_innovations
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 2
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
			}
		}

		complete_tooltip = {
			if = {
				limit = { is_major = yes }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			else = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -10 tooltip = anarchism_unity_add_effect }
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = { is_major = yes }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = arms_factory
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = arms_factory
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	shared_focus = {
		id = resource_exploration
		icon = GFX_z_goal_generic_construction_of_new_factories
		prerequisite = { focus = heavy_industry_investment }
		x = 3
		y = 2
		relative_position_id = industrial_innovations
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 25 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}
		
		bypass = {
		}

		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -5 tooltip = anarchism_unity_add_effect }
			}
			add_ideas = resource_exploration_focus
		}
		
		ai_will_do = {
			factor = 2
		}
	}

	shared_focus = {
		id = logistic_development
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = arms_factories_construction focus = resource_exploration }
		x = 2
		y = 3
		relative_position_id = industrial_innovations
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 25 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = infrastructure_effort_tt
				all_owned_state = {			
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -5 tooltip = anarchism_unity_add_effect }
			}
			if = {
				limit = {
					capital_scope = {
						infrastructure < 5
					}
				}
				capital_scope = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				every_owned_state = {
					limit = {
						is_controlled_by = ROOT
						any_neighbor_state = { is_owned_by = ROOT is_capital = yes }
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = infrastructure
											size > 0
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					limit = { infrastructure < 5 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 2
		}
	}

	shared_focus = {
		id = economic_researches
		icon = GFX_z_goal_great_science
		prerequisite = { focus = industrial_innovations }
		x = 0
		y = 1
		relative_position_id = industrial_innovations
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}

		bypass = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -7.5 tooltip = anarchism_unity_add_effect }
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 2
				category = industry
			}
		}
		
		ai_will_do = {
			factor = 2
		}
	}

	shared_focus = {
		id = opening_university
		icon = GFX_z_goal_vienna_circle
		prerequisite = { focus = economic_researches }
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
			num_of_factories > 5
		}
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		x = 0
		y = 3
		relative_position_id = industrial_innovations
		cost = 10

		available_if_capitulated = no
		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -7.5 tooltip = anarchism_unity_add_effect }
			}
			add_research_slot = 1
		}
		
		ai_will_do = {
			factor = 2
		}
	}

	shared_focus = {
		id = national_economy
		icon = GFX_z_goal_soviet_prom_city1
		prerequisite = { focus = railways_construction focus = opening_university }
		mutually_exclusive = { focus = lobby }
		x = -1
		y = 4
		relative_position_id = industrial_innovations
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0.1
				capital_scope = { is_on_continent = south_america }
				date < 1941.1.1
			}
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 2
						include_locked = yes
					}
				}
			}
		}

		complete_tooltip = {
			if = {
				limit = { is_major = yes }
				add_extra_state_shared_building_slots = 6
				add_building_construction = {
					type = industrial_complex
					level = 6
					instant_build = yes
				}
			}
			else = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -10 tooltip = anarchism_unity_add_effect }
			}
			add_political_power = 100
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 1
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = { is_major = yes }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = industrial_complex
											size > 1
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = industrial_complex
											size > 1
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	shared_focus = {
		id = lobby
		icon = GFX_z_goal_generic_military_lobby
		prerequisite = { focus = opening_university focus = logistic_development }
		mutually_exclusive = { focus = national_economy }
		x = 1
		y = 4
		relative_position_id = industrial_innovations
		cost = 10

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0.1
				capital_scope = { is_on_continent = south_america }
				date < 1941.1.1
			}
		}
		
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}					
				}
			}
		}

		complete_tooltip = {
			if = {
				limit = { is_major = yes }
				add_extra_state_shared_building_slots = 6
				add_building_construction = {
					type = arms_factory
					level = 6
					instant_build = yes
				}
			}
			else = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -10 tooltip = anarchism_unity_add_effect }
			}
			army_experience = 100
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 1
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = { is_major = yes }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = arms_factory
											size > 1
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = arms_factory
											size > 1
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	shared_focus = {
		id = universities_expansion
		icon = GFX_z_goal_nuclear
		prerequisite = { focus = opening_university }
		available = {
			if = {
				limit = { has_government = anarchism }
				set_temp_variable = { anarchism_unity_trigger_var = 50 }
				custom_trigger_tooltip = {
					check_variable = { anarchism_unity_var > anarchism_unity_trigger_var }
					tooltip = anarchism_unity_trigger_more
				}
			}
			num_of_factories > 50
		}
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		x = 0
		y = 5
		relative_position_id = industrial_innovations
		cost = 10

		available_if_capitulated = no
		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = { has_government = anarchism }
				add_to_variable = { anarchism_unity_var = -10 tooltip = anarchism_unity_add_effect }
			}
			add_research_slot = 1
		}
		
		ai_will_do = {
			factor = 2
		}
	}
	
	
	##########################
	#### OVERLORD SECTION ####
	##########################
	
	shared_focus = {
		id = colonial_department
		icon = GFX_z_goal_government
		x = 12
		y = 0
		offset = {
			x = -7
			y = 0
			trigger = {
				check_variable = { current_nw_national_focus_industrial_icon_frame = 2 }
			}
		}
		relative_position_id = industrial_innovations
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		allow_branch = {
			NOT = { check_variable = { current_nw_national_focus_overlord_icon_frame = 2 } }
		}
		available = {
			num_subjects > 0
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus colonial_department"
			add_stability = 0.015
			add_political_power = 25
		}
		
		ai_will_do = {
			factor = 2
		}
	}
	
	shared_focus = {
		id = policy_of_protectorates
		icon = GFX_z_goal_two_great_empires
		prerequisite = { focus = colonial_department }
		mutually_exclusive = { focus = colonial_policy }
		x = -4
		y = 1
		relative_position_id = colonial_department
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			OR = {
				has_government = communism
				has_government = trozkism
				has_government = democratic
				has_government = neutrality
				has_government = technocracy
				has_government = fascism
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus policy_of_protectorates"
			add_political_power = 50
			unlock_decision_category_tooltip = generic_protectorate_policy_category
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_subject_tt
				effect_tooltip = {
					add_political_power = 50
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
				}
				add_political_power = 50
			}
			custom_effect_tooltip = policy_of_protectorates_tt
		}

		ai_will_do = {
			factor = 1
			modifier = {
				add = 3
				OR = {
					has_government = communism
					has_government = trozkism
				}
			}
		}
	}
	
	shared_focus = {
		id = coordination_committee
		icon = GFX_z_goal_generic_state1
		prerequisite = { focus = policy_of_protectorates }
		x = -1
		y = 1
		relative_position_id = policy_of_protectorates
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
		}

		completion_reward = {
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_dominion_tt
				effect_tooltip = {
					add_ideas = coordination_committee_dominion
				}
				custom_effect_tooltip = every_our_colony_tt
				effect_tooltip = {
					add_ideas = coordination_committee_colony
				}
				custom_effect_tooltip = every_our_puppet_tt
				effect_tooltip = {
					add_ideas = coordination_committee_puppet
				}
				custom_effect_tooltip = every_our_integrated_puppet_tt
				effect_tooltip = {
					add_ideas = coordination_committee_integrated_puppet
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_dominion
						has_autonomy_state = autonomy_satellite
						has_autonomy_state = autonomy_condominium
					}
				}
				add_ideas = coordination_committee_dominion
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_colony
						has_autonomy_state = autonomy_broresp
					}
				}
				add_ideas = coordination_committee_colony
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_puppet
						has_autonomy_state = autonomy_reichsprotectorate
						has_autonomy_state = autonomy_socprotect
					}
				}
				add_ideas = coordination_committee_puppet
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_integrated_puppet
						has_autonomy_state = autonomy_reichskommissariat
						has_autonomy_state = autonomy_marionet
					}
				}
				add_ideas = coordination_committee_integrated_puppet
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	shared_focus = {
		id = new_housing_program
		icon = GFX_z_goal_soviet_affordable_housing4
		prerequisite = { focus = coordination_committee }
		x = 0
		y = 1
		relative_position_id = coordination_committee
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
					has_autonomy_state = autonomy_colony
					has_autonomy_state = autonomy_broresp
				}
			}
		}
		

		completion_reward = {
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_dominion_tt
				add_timed_idea = { idea = new_housing_program_dominion days = 600 }
				random_state = {
					add_building_construction = {
						type = hospital
						level = 1
						instant_build = yes
					}
				}
				custom_effect_tooltip = every_our_colony_tt
				add_timed_idea = { idea = new_housing_program_colony days = 300 }
				random_state = {
					add_building_construction = {
						type = hospital
						level = 1
						instant_build = yes
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_dominion
						has_autonomy_state = autonomy_satellite
						has_autonomy_state = autonomy_condominium
					}
				}
				add_timed_idea = { idea = new_housing_program_dominion days = 600 }
				random_owned_controlled_state = {
					limit = {
						hospital < 5
					}
					add_building_construction = {
						type = hospital
						level = 1
						instant_build = yes
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_colony
						has_autonomy_state = autonomy_broresp
					}
				}
				add_timed_idea = { idea = new_housing_program_colony days = 300 }
				random_owned_controlled_state = {
					limit = {
						hospital < 5
					}
					add_building_construction = {
						type = hospital
						level = 1
						instant_build = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				num_subjects < 2
			}
		}
	}
	
	
	
	shared_focus = {
		id = involvement_in_civil_sphere
		icon = GFX_z_goal_generic_construct_public_housing
		prerequisite = { focus = coordination_committee }
		x = -2
		y = 1
		relative_position_id = coordination_committee
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
					has_autonomy_state = autonomy_colony
					has_autonomy_state = autonomy_broresp
				}
			}
		}

		completion_reward = {
			custom_effect_tooltip = every_our_dominion_tt
			effect_tooltip = {
				random_state = {
					add_extra_state_shared_building_slots = 2
				}
			}
			custom_effect_tooltip = every_our_colony_tt
			effect_tooltip = {
				random_state = {
					add_extra_state_shared_building_slots = 1
				}
			}
			custom_effect_tooltip = involvement_in_civil_sphere_tt
			hidden_effect = {
				set_temp_variable = { total_factory = 0 }
				set_temp_variable = { total_colony = 0 }
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						OR = {
							has_autonomy_state = autonomy_dominion
							has_autonomy_state = autonomy_satellite
							has_autonomy_state = autonomy_condominium
						}
					}
					capital_scope = {
						add_extra_state_shared_building_slots = 2
					}
					add_to_temp_variable = { ROOT.total_factory = 1 }
				}
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						OR = {
							has_autonomy_state = autonomy_colony
							has_autonomy_state = autonomy_broresp
						}
					}
					capital_scope = {
						add_extra_state_shared_building_slots = 1
					}
					add_to_temp_variable = { ROOT.total_colony = 1 }
				}
				divide_temp_variable = { total_colony = 2 }
				add_to_temp_variable = { total_factory = total_colony }
				divide_temp_variable = { total_factory = 2 }
				round_temp_variable = total_factory
				clamp_temp_variable = {
					var = total_factory
					min = 1
					max = 99
				}
			}
			build_civil_factory = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				num_subjects < 2
			}
		}
	}
	
	shared_focus = {
		id = city_forming_enterprises
		icon = GFX_z_goal_soviet_mil_city1
		prerequisite = { focus = involvement_in_civil_sphere }
		x = -1
		y = 1
		relative_position_id = involvement_in_civil_sphere
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
					has_autonomy_state = autonomy_colony
					has_autonomy_state = autonomy_broresp
				}
			}
		}

		completion_reward = {
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_dominion_tt
				effect_tooltip = {
					random_state = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
				}
				custom_effect_tooltip = every_our_colony_tt
				effect_tooltip = {
					random_state = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_dominion
						has_autonomy_state = autonomy_satellite
						has_autonomy_state = autonomy_condominium
					}
				}
				capital_scope = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_colony
						has_autonomy_state = autonomy_broresp
					}
				}
				capital_scope = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				num_subjects < 2
			}
		}
	}
	
	shared_focus = {
		id = network_of_cities_mills
		icon = GFX_focus_generic_industry_2
		prerequisite = { focus = city_forming_enterprises }
		x = -1
		y = 1
		relative_position_id = city_forming_enterprises
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
					has_autonomy_state = autonomy_colony
					has_autonomy_state = autonomy_broresp
				}
			}
		}

		completion_reward = {
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_dominion_tt
				custom_effect_tooltip = network_of_cities_mills_tt
				effect_tooltip = {
					random_state = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
				custom_effect_tooltip = every_our_colony_tt
				custom_effect_tooltip = network_of_cities_mills_tt
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_dominion
						has_autonomy_state = autonomy_satellite
						has_autonomy_state = autonomy_condominium
					}
				}
				capital_scope = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					up_state_category = yes
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_colony
						has_autonomy_state = autonomy_broresp
					}
				}
				capital_scope = {
					up_state_category = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				num_subjects < 2
			}
		}
	}
	
	shared_focus = {
		id = analysis_of_results
		icon = GFX_goal_generic_production2
		prerequisite = { focus = city_forming_enterprises }
		x = 0
		y = 2
		relative_position_id = city_forming_enterprises
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			custom_trigger_tooltip = {
				tooltip = has_investment_in_subject_tt
				any_subject_country = {
					OR = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
			}
		}

		completion_reward = {
			if = {
				limit = {
					OR = {
						num_subjects < 1
						any_subject_country = {
							NOT = {
								has_country_flag = generic_investment_in_subject_flag_1
								has_country_flag = generic_investment_in_subject_flag_2
							}
						}
					}
				}
				custom_effect_tooltip = every_our_subject_with_investment_tt
				effect_tooltip = {
					random_state = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 5
		}
	}
	
	shared_focus = {
		id = unification_of_railway
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = involvement_in_civil_sphere }
		x = 1
		y = 1
		relative_position_id = involvement_in_civil_sphere
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
					has_autonomy_state = autonomy_colony
					has_autonomy_state = autonomy_broresp
				}
			}
		}

		completion_reward = {
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_dominion_tt
				effect_tooltip = {
					random_state = {
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						every_neighbor_state = {
							random_state = {
								add_building_construction = {
									type = infrastructure
									level = 2
									instant_build = yes
								}
							}
						}
					}
				}
				custom_effect_tooltip = every_our_colony_tt
				effect_tooltip = {
					random_state = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						every_neighbor_state = {
							add_building_construction = {
								type = infrastructure
								level = 1
								instant_build = yes
							}
						}
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_dominion
						has_autonomy_state = autonomy_satellite
						has_autonomy_state = autonomy_condominium
					}
				}
				capital_scope = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					every_neighbor_state = {
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_colony
						has_autonomy_state = autonomy_broresp
					}
				}
				capital_scope = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					every_neighbor_state = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				num_subjects < 2
			}
		}
	}
	
	shared_focus = {
		id = total_passportization
		icon = GFX_z_goal_generic_papers
		prerequisite = { focus = unification_of_railway }
		mutually_exclusive = { focus = passportization_of_colonists }
		x = -1
		y = 1
		relative_position_id = unification_of_railway
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
		}

		completion_reward = {
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_subject_tt
				effect_tooltip = {
					add_ideas = total_passportization
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
				}
				add_ideas = total_passportization
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	shared_focus = {
		id = passportization_of_colonists
		icon = GFX_z_goal_generic_laws
		prerequisite = { focus = unification_of_railway }
		mutually_exclusive = { focus = total_passportization }
		x = 1
		y = 1
		relative_position_id = unification_of_railway
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
		}

		completion_reward = {
			custom_effect_tooltip = passportization_of_colonists_tt
			hidden_effect = {
				set_temp_variable = { passportization_of_colonists = 0 }
				every_other_country = {
					limit = {
						is_subject_of = ROOT
					}
					add_to_temp_variable = { ROOT.passportization_of_colonists = 10000 }
				}
				add_manpower = var:passportization_of_colonists
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	shared_focus = {
		id = project_of_union_constitution
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = {
			focus = total_passportization
			focus = passportization_of_colonists
		}
		x = 1
		y = 1
		relative_position_id = total_passportization
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
					has_autonomy_state = autonomy_colony
					has_autonomy_state = autonomy_broresp
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus project_of_union_constitution"
			unlock_decision_category_tooltip = generic_project_of_union_constitution_category
			add_political_power = 200
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_dominion_tt
				effect_tooltip = {
					add_political_power = 100
				}
				custom_effect_tooltip = every_our_colony_tt
				effect_tooltip = {
					add_political_power = 50
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_dominion
						has_autonomy_state = autonomy_satellite
						has_autonomy_state = autonomy_condominium
					}
				}
				add_political_power = 100
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_colony
						has_autonomy_state = autonomy_broresp
					}
				}
				add_political_power = 50
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	
	shared_focus = {
		id = military_cooperation
		icon = GFX_z_goal_new_army
		prerequisite = { focus = coordination_committee }
		x = 2
		y = 1
		relative_position_id = coordination_committee
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
					has_autonomy_state = autonomy_colony
					has_autonomy_state = autonomy_broresp
				}
			}
		}

		completion_reward = {
			custom_effect_tooltip = military_cooperation_tt
			hidden_effect = {
				set_temp_variable = { total_manpower = 0 }
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						OR = {
							has_autonomy_state = autonomy_dominion
							has_autonomy_state = autonomy_satellite
							has_autonomy_state = autonomy_condominium
							
						}
					}
					add_ideas = military_cooperation_dominion
					add_to_temp_variable = { ROOT.total_manpower = 40000 }
				}
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						OR = {
							has_autonomy_state = autonomy_colony
							has_autonomy_state = autonomy_broresp
						}
					}
					add_ideas = military_cooperation_colony
					add_to_temp_variable = { ROOT.total_manpower = 20000 }
				}
				add_manpower = var:total_manpower
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				num_subjects < 2
			}
		}
	}
	
	shared_focus = {
		id = total_rearm
		icon = GFX_z_goal_ammo_industry
		prerequisite = { focus = military_cooperation focus = infrastructure_improvement }
		x = 2
		y = 1
		relative_position_id = military_cooperation
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
		}

		completion_reward = {
			add_tech_bonus = {
				name = infantry_bonus
				bonus = 1
				uses = 1
				category = infantry_weapons
			}
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_subject_tt
				effect_tooltip = {
					add_tech_bonus = {
						name = infantry_bonus
						bonus = 1
						uses = 1
						category = infantry_weapons
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
				}
				add_tech_bonus = {
					name = infantry_bonus
					bonus = 1
					uses = 1
					category = infantry_weapons
				}
			}
		}

		ai_will_do = {
			factor = 5
		}
	}
	
	shared_focus = {
		id = joint_military_exercise
		icon = GFX_z_goal_generic_allies_build_infantry_up
		prerequisite = { focus = military_cooperation }
		x = -1
		y = 1
		relative_position_id = military_cooperation
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
		}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_subject_tt
				effect_tooltip = {
					add_doctrine_cost_reduction = {
						name = land_doc_bonus
						cost_reduction = 0.5
						uses = 1
						category = land_doctrine
					}
				}
				
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_dominion
						has_autonomy_state = autonomy_satellite
						has_autonomy_state = autonomy_condominium
						has_autonomy_state = autonomy_colony
						has_autonomy_state = autonomy_broresp
					}
				}
				add_doctrine_cost_reduction = {
					name = land_doc_bonus
					cost_reduction = 0.5
					uses = 1
					category = land_doctrine
				}
			}
			hidden_effect = {
				set_temp_variable = { total_army_exp = 0 }
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						OR = {
							has_autonomy_state = autonomy_dominion
							has_autonomy_state = autonomy_satellite
							has_autonomy_state = autonomy_condominium
						}
					}
					add_to_temp_variable = { ROOT.total_army_exp = 4 }
				}
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						OR = {
						has_autonomy_state = autonomy_colony
						has_autonomy_state = autonomy_broresp
					}
					}
					add_to_temp_variable = { ROOT.total_army_exp = 3 }
				}
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						OR = {
							has_autonomy_state = autonomy_puppet
							has_autonomy_state = autonomy_reichsprotectorate
							has_autonomy_state = autonomy_socprotect
						}
					}
					add_to_temp_variable = { ROOT.total_army_exp = 2 }
				}
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						OR = {
							has_autonomy_state = autonomy_integrated_puppet
							has_autonomy_state = autonomy_reichskommissariat
							has_autonomy_state = autonomy_marionet
						}
					}
					add_to_temp_variable = { ROOT.total_army_exp = 1 }
				}
				army_experience = var:total_army_exp
			}
			custom_effect_tooltip = joint_military_exercise_tt
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	shared_focus = {
		id = military_city
		icon = GFX_z_goal_factory_complex
		prerequisite = { focus = joint_military_exercise }
		x = 2
		y = 2
		relative_position_id = joint_military_exercise
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
					has_autonomy_state = autonomy_colony
					has_autonomy_state = autonomy_broresp
				}
			}
		}

		completion_reward = {
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_dominion_tt
				effect_tooltip = {
					add_ideas = military_city
					random_state = {
						create_unit = {
							division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.4" 
							owner = PREV
						}
						create_unit = {
							division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.4" 
							owner = PREV
						}
					}
				}
				custom_effect_tooltip = every_our_colony_tt
				effect_tooltip = {
					add_ideas = military_city
					random_state = {
						create_unit = {
							division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.4" 
							owner = PREV
						}
					}
				}
			}
			hidden_effect = {
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						OR = {
							has_autonomy_state = autonomy_dominion
							has_autonomy_state = autonomy_satellite
							has_autonomy_state = autonomy_condominium
							has_autonomy_state = autonomy_colony
							has_autonomy_state = autonomy_broresp
						}
					}
					if = {
						limit = { NOT = { has_template = "Military Legion" } }
						division_template = {
							name = "Military Legion"
							is_locked = no
							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
								infantry = { x = 1 y = 1 }
								infantry = { x = 1 y = 2 }
								infantry = { x = 2 y = 0 }
								artillery_brigade = { x = 2 y = 1 }
								artillery_brigade = { x = 2 y = 2 }
							}
							support = {
								recon = { x = 0 y = 0 }
								engineer = { x = 0 y = 1 }
								artillery = { x = 0 y = 2 }
							}
						}
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_dominion
						has_autonomy_state = autonomy_satellite
						has_autonomy_state = autonomy_condominium
					}
				}
				add_ideas = military_city
				capital_scope = {
					create_unit = {
						division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.4" 
						owner = PREV
					}
					create_unit = {
						division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.4" 
						owner = PREV
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_colony
						has_autonomy_state = autonomy_broresp
					}
				}
				add_ideas = military_city
				capital_scope = {
					create_unit = {
						division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.4" 
						owner = PREV
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				num_subjects < 2
			}
		}
	}
	
	shared_focus = {
		id = cooperative_defense_production
		icon = GFX_z_goal_military_mobilisation
		prerequisite = { focus = joint_military_exercise }
		x = 0
		y = 2
		relative_position_id = joint_military_exercise
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
					has_autonomy_state = autonomy_colony
					has_autonomy_state = autonomy_broresp
				}
			}
		}

		completion_reward = {
			add_ideas = cooperative_defense_production
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_dominion_tt
				effect_tooltip = {
					add_ideas = cooperative_defense_production
					random_state = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
					}
				}
				custom_effect_tooltip = every_our_colony_tt
				effect_tooltip = {
					add_ideas = cooperative_defense_production
					random_state = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_dominion
						has_autonomy_state = autonomy_satellite
						has_autonomy_state = autonomy_condominium
					}
				}
				add_ideas = cooperative_defense_production
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_colony
						has_autonomy_state = autonomy_broresp
					}
				}
				add_ideas = cooperative_defense_production
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	shared_focus = {
		id = call_for_volunteers
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = joint_military_exercise }
		prerequisite = { focus = total_rearm }
		x = 1
		y = 1
		relative_position_id = joint_military_exercise
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_condominium
				}
			}
		}

		completion_reward = {
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_dominion_tt
				effect_tooltip = {
					add_ideas = call_for_volunteers
				}
				
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_dominion
						has_autonomy_state = autonomy_satellite
						has_autonomy_state = autonomy_condominium
					}
				}
				add_ideas = call_for_volunteers
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	
	
	
	###
	shared_focus = {
		id = colonial_policy
		icon = GFX_z_guarantee_autonomy_minorities
		prerequisite = { focus = colonial_department }
		mutually_exclusive = { focus = policy_of_protectorates }
		x = 4
		y = 1
		relative_position_id = colonial_department
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			OR = {
				has_government = monarchy
				has_government = democratic
				has_government = neutrality
				has_government = fascism
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus colonial_policy"
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_subject_tt
				effect_tooltip = {
					add_timed_idea = { idea = colonial_policy days = 500 }
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
				}
				add_timed_idea = { idea = colonial_policy days = 500 }
			}
			custom_effect_tooltip = colonial_policy_tt
		}

		ai_will_do = {
			factor = 1
			modifier = {
				add = 3
				OR = {
					has_government = fascism
					has_government = democratic
				}
			}
		}
	}
	
	shared_focus = {
		id = investment_in_subject
		icon = GFX_z_goal_ekonomik_ref
		prerequisite = { focus = policy_of_protectorates focus = colonial_policy }
		x = 0
		y = 2
		relative_position_id = colonial_department
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
		}

		completion_reward = {
			unlock_decision_category_tooltip = generic_investment_in_subject_category
		}

		ai_will_do = {
			factor = 10
		}
	}
	
	shared_focus = {
		id = colonial_elite
		icon = GFX_z_goal_london_disagreement
		prerequisite = { focus = colonial_policy }
		mutually_exclusive = { focus = indirect_rule_policy }
		x = -1
		y = 1
		relative_position_id = colonial_policy
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_puppet
					has_autonomy_state = autonomy_reichsprotectorate
					has_autonomy_state = autonomy_integrated_puppet
					has_autonomy_state = autonomy_reichskommissariat
					has_autonomy_state = autonomy_socprotect
					has_autonomy_state = autonomy_marionet
				}
			}
		}

		completion_reward = {
			set_temp_variable = { colonial_elite = 0 }
			add_ideas = colonial_elite_idea
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = our_gem_tt
				effect_tooltip = {
					add_ideas = colonial_elite_gem
				}
				
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_puppet
						has_autonomy_state = autonomy_reichsprotectorate
						has_autonomy_state = autonomy_integrated_puppet
						has_autonomy_state = autonomy_reichskommissariat
						has_autonomy_state = autonomy_socprotect
						has_autonomy_state = autonomy_marionet
					}
					NOT = { has_country_flag = is_gem_among_colonies_flag_@ROOT }
				}
				add_to_temp_variable = { ROOT.colonial_elite = 20 }
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					has_country_flag = is_gem_among_colonies_flag_@ROOT
				}
				add_to_temp_variable = { ROOT.colonial_elite = 20 }
				add_ideas = colonial_elite_gem
			}
			custom_effect_tooltip = colonial_elite_tt
			hidden_effect = { add_political_power = var:colonial_elite }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				NOT = {
					any_subject_country = {
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = indirect_rule_policy
		icon = GFX_z_goal_Woodhead_comission
		prerequisite = { focus = colonial_policy }
		mutually_exclusive = { focus = colonial_elite }
		x = 1
		y = 1
		relative_position_id = colonial_policy
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
		}

		completion_reward = {
			add_stability = 0.1
			add_political_power = 100
			custom_effect_tooltip = every_our_subject_tt
			effect_tooltip = {
				add_stability = 0.05
				add_political_power = 50
				random_state = {
					add_extra_state_shared_building_slots = 1
				}
			}
			custom_effect_tooltip = our_gem_tt
			effect_tooltip = {
				add_stability = 0.075
				add_political_power = 75
				random_state = {
					add_extra_state_shared_building_slots = 2
				}
			}
			hidden_effect = {
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						OR = {
							has_autonomy_state = autonomy_puppet
							has_autonomy_state = autonomy_reichsprotectorate
							has_autonomy_state = autonomy_integrated_puppet
							has_autonomy_state = autonomy_reichskommissariat
							has_autonomy_state = autonomy_socprotect
							has_autonomy_state = autonomy_marionet
						}
						NOT = { has_country_flag = is_gem_among_colonies_flag_@ROOT }
					}
					add_stability = 0.05
					add_political_power = 50
					capital_scope = { add_extra_state_shared_building_slots = 1 }
				}
				
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
					add_stability = 0.075
					add_political_power = 75
					capital_scope = { add_extra_state_shared_building_slots = 2 }
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				NOT = {
					any_subject_country = {
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = infrastructure_improvement
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = colonial_elite focus = indirect_rule_policy }
		x = -1
		y = 1
		relative_position_id = colonial_elite
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_puppet
					has_autonomy_state = autonomy_reichsprotectorate
					has_autonomy_state = autonomy_integrated_puppet
					has_autonomy_state = autonomy_reichskommissariat
					has_autonomy_state = autonomy_socprotect
					has_autonomy_state = autonomy_marionet
					custom_trigger_tooltip = {
						tooltip = is_gem_among_colonies_tt
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}

		completion_reward = {
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = infrastructure_improvement_tt
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_puppet
						has_autonomy_state = autonomy_reichsprotectorate
						has_autonomy_state = autonomy_integrated_puppet
						has_autonomy_state = autonomy_reichskommissariat
						has_autonomy_state = autonomy_socprotect
						has_autonomy_state = autonomy_marionet
					}
					NOT = { has_country_flag = is_gem_among_colonies_flag_@ROOT }
				}
				capital_scope = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					every_neighbor_state = {
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					} 
				}
			}
			random_other_country = {
				limit = {
					is_subject_of = ROOT
					has_country_flag = is_gem_among_colonies_flag_@ROOT
				}
				capital_scope = {
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
					every_neighbor_state = {
						add_building_construction = {
							type = infrastructure
							level = 3
							instant_build = yes
						}
					} 
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				NOT = {
					any_subject_country = {
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = oppression_of_local_elites
		icon = GFX_z_goal_stop_east_politic
		prerequisite = { focus = colonial_elite focus = indirect_rule_policy }
		mutually_exclusive = { focus = comprador_bourgeoisie }
		x = -1
		y = 1
		relative_position_id = indirect_rule_policy
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
		}

		completion_reward = {
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_subject_tt
				effect_tooltip = {
					add_timed_idea = { idea = oppression_of_local_elites days = 1000 }
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
				}
				add_timed_idea = { idea = oppression_of_local_elites days = 1000 }
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				num_subjects < 3
			}
		}
	}
	
	shared_focus = {
		id = comprador_bourgeoisie
		icon = GFX_z_goal_restore_rights_aristocracy
		prerequisite = { focus = indirect_rule_policy }
		mutually_exclusive = { focus = oppression_of_local_elites }
		x = 1
		y = 1
		relative_position_id = indirect_rule_policy
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
		}

		completion_reward = {
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_colony_tt
				effect_tooltip = {
					add_autonomy_score = { value = 350 }
					add_ideas = comprador_bourgeoisie
				}
				custom_effect_tooltip = our_gem_tt
				effect_tooltip = {
					add_autonomy_score = { value = 400 }
					add_ideas = comprador_bourgeoisie_gem
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_colony
						has_autonomy_state = autonomy_reichsprotectorate
						has_autonomy_state = autonomy_broresp
					}
					NOT = { has_country_flag = is_gem_among_colonies_flag_@ROOT }
				}
				add_autonomy_score = { value = 350 }
				add_ideas = comprador_bourgeoisie
			}
			random_other_country = {
				limit = {
					is_subject_of = ROOT
					has_country_flag = is_gem_among_colonies_flag_@ROOT
				}
				add_autonomy_score = { value = 400 }
				add_ideas = comprador_bourgeoisie_gem
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				NOT = {
					any_subject_country = {
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = foreign_investor
		icon = GFX_z_goal_trade_unions_for_white
		prerequisite = { focus = infrastructure_improvement }
		x = -1
		y = 1
		relative_position_id = infrastructure_improvement
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_puppet
					has_autonomy_state = autonomy_reichsprotectorate
					has_autonomy_state = autonomy_integrated_puppet
					has_autonomy_state = autonomy_reichskommissariat
					has_autonomy_state = autonomy_socprotect
					has_autonomy_state = autonomy_marionet
					custom_trigger_tooltip = {
						tooltip = is_gem_among_colonies_tt
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}

		completion_reward = {
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_puppet_integrated_puppet_tt
				effect_tooltip = {
					random_state = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
				custom_effect_tooltip = our_gem_tt
				effect_tooltip = {
					random_state = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_puppet
						has_autonomy_state = autonomy_reichsprotectorate
						has_autonomy_state = autonomy_integrated_puppet
						has_autonomy_state = autonomy_reichskommissariat
						has_autonomy_state = autonomy_socprotect
						has_autonomy_state = autonomy_marionet
					}
					NOT = { has_country_flag = is_gem_among_colonies_flag_@ROOT }
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			random_other_country = {
				limit = {
					is_subject_of = ROOT
					has_country_flag = is_gem_among_colonies_flag_@ROOT
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				NOT = {
					any_subject_country = {
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}
	}
	
	
	shared_focus = {
		id = resource_extraction_in_colonies
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = infrastructure_improvement }
		prerequisite = { focus = oppression_of_local_elites }
		x = 1
		y = 1
		relative_position_id = infrastructure_improvement
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_puppet
					has_autonomy_state = autonomy_reichsprotectorate
					has_autonomy_state = autonomy_integrated_puppet
					has_autonomy_state = autonomy_reichskommissariat
					has_autonomy_state = autonomy_socprotect
					has_autonomy_state = autonomy_marionet
					custom_trigger_tooltip = {
						tooltip = is_gem_among_colonies_tt
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}

		completion_reward = {
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_puppet_integrated_puppet_tt
				effect_tooltip = {
					add_ideas = resource_extraction_in_colonies_puppet
				}
				custom_effect_tooltip = our_gem_tt
				effect_tooltip = {
					add_ideas = resource_extraction_in_colonies_gem
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_puppet
						has_autonomy_state = autonomy_reichsprotectorate
						has_autonomy_state = autonomy_integrated_puppet
						has_autonomy_state = autonomy_reichskommissariat
						has_autonomy_state = autonomy_socprotect
						has_autonomy_state = autonomy_marionet
					}
					NOT = { has_country_flag = is_gem_among_colonies_flag_@ROOT }
				}
				add_ideas = resource_extraction_in_colonies_puppet
			}
			random_other_country = {
				limit = {
					is_subject_of = ROOT
					has_country_flag = is_gem_among_colonies_flag_@ROOT
				}
				add_ideas = resource_extraction_in_colonies_gem
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				NOT = {
					any_subject_country = {
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = cheap_labor
		icon = GFX_z_goal_voluntary_creation_of_collective
		prerequisite = { focus = oppression_of_local_elites focus = comprador_bourgeoisie }
		x = 1
		y = 1
		relative_position_id = oppression_of_local_elites
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_puppet
					has_autonomy_state = autonomy_reichsprotectorate
					has_autonomy_state = autonomy_integrated_puppet
					has_autonomy_state = autonomy_reichskommissariat
					has_autonomy_state = autonomy_socprotect
					has_autonomy_state = autonomy_marionet
					custom_trigger_tooltip = {
						tooltip = is_gem_among_colonies_tt
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}

		completion_reward = {
			custom_effect_tooltip = cheap_labor_tt
			hidden_effect = {
				set_variable = { cheap_labor_var = 0 }
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						OR = {
							has_autonomy_state = autonomy_puppet
							has_autonomy_state = autonomy_reichsprotectorate
							has_autonomy_state = autonomy_integrated_puppet
							has_autonomy_state = autonomy_reichskommissariat
							has_autonomy_state = autonomy_socprotect
							has_autonomy_state = autonomy_marionet
						}
						NOT = { has_country_flag = is_gem_among_colonies_flag_@ROOT }
					}
					add_to_variable = { ROOT.cheap_labor_var = 0.01 }
					add_ideas = cheap_labor_puppet
				}
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
					add_to_variable = { ROOT.cheap_labor_var = 0.01 }
				}
				clamp_variable = {
					var = cheap_labor_var
					min = 0.01
					max = 0.15
				}
				add_dynamic_modifier = { modifier = cheap_labor_dyn }
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
					set_variable = { cheap_labor_gem_var = 0 }
					add_to_variable = { cheap_labor_gem_var = ROOT.cheap_labor_var }
						clamp_variable = {
						var = cheap_labor_gem_var
						min = 0.01
						max = 0.05
					}
					add_dynamic_modifier = { modifier = cheap_labor_gem_dyn }
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				NOT = {
					any_subject_country = {
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = export_of_capital
		icon = GFX_z_goal_support_businessmen_2
		prerequisite = { focus = foreign_investor focus = resource_extraction_in_colonies }
		x = 1
		y = 1
		relative_position_id = foreign_investor
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				num_of_civilian_factories > 6
			}
		}

		completion_reward = {
			custom_effect_tooltip = export_of_capital_tt
			hidden_effect = {
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						num_of_civilian_factories > 6
					}
					random_owned_controlled_state = {
						limit = { industrial_complex > 0 }
						remove_building = {
							type = industrial_complex
							level = 1
						}
					}
					random_owned_controlled_state = {
						limit = { industrial_complex > 0 }
						remove_building = {
							type = industrial_complex
							level = 1
						}
					}
					random_owned_controlled_state = {
						limit = { industrial_complex > 0 }
						remove_building = {
							type = industrial_complex
							level = 1
						}
					}
					random_owned_controlled_state = {
						limit = { industrial_complex > 0 }
						remove_building = {
							type = industrial_complex
							level = 1
						}
					}
					random_owned_controlled_state = {
						limit = { industrial_complex > 0 }
						remove_building = {
							type = industrial_complex
							level = 1
						}
					}
					random_owned_controlled_state = {
						limit = { industrial_complex > 0 }
						remove_building = {
							type = industrial_complex
							level = 1
						}
					}
					ROOT = {
						random_owned_controlled_state = {
							limit = { 
								free_building_slots = {
									building = industrial_complex
									size > 1
									include_locked = yes
								}
							}
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
								type = industrial_complex
								level = 2
								instant_build = yes
							}
						}
						random_owned_controlled_state = {
							limit = { 
								free_building_slots = {
									building = industrial_complex
									size > 1
									include_locked = yes
								}
							}
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
								type = industrial_complex
								level = 2
								instant_build = yes
							}
						}
						random_owned_controlled_state = {
							limit = { 
								free_building_slots = {
									building = industrial_complex
									size > 1
									include_locked = yes
								}
							}
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
								type = industrial_complex
								level = 2
								instant_build = yes
							}
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				num_subjects < 3
			}
		}
	}

	shared_focus = {
		id = overseas_service
		icon = GFX_z_goal_generic_armed_forces
		prerequisite = { focus = resource_extraction_in_colonies focus = cheap_labor }
		x = 1
		y = 1
		relative_position_id = resource_extraction_in_colonies
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_puppet
					has_autonomy_state = autonomy_reichsprotectorate
					has_autonomy_state = autonomy_integrated_puppet
					has_autonomy_state = autonomy_reichskommissariat
					has_autonomy_state = autonomy_socprotect
					has_autonomy_state = autonomy_marionet
				}
			}
		}

		completion_reward = {
			custom_effect_tooltip = overseas_service_tt
			hidden_effect = {
				set_temp_variable = { overseas_service = 0 }
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						OR = {
							has_autonomy_state = autonomy_puppet
							has_autonomy_state = autonomy_reichsprotectorate
							has_autonomy_state = autonomy_integrated_puppet
							has_autonomy_state = autonomy_reichskommissariat
							has_autonomy_state = autonomy_socprotect
							has_autonomy_state = autonomy_marionet
						}
					}
					add_to_temp_variable = { ROOT.overseas_service = 60000 }
				}
				add_manpower = var:overseas_service
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	shared_focus = {
		id = increased_military_presence
		icon = GFX_z_goal_getting_rid_generals
		prerequisite = { focus = cheap_labor }
		x = 1
		y = 1
		relative_position_id = cheap_labor
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_puppet
					has_autonomy_state = autonomy_reichsprotectorate
					has_autonomy_state = autonomy_integrated_puppet
					has_autonomy_state = autonomy_reichskommissariat
					has_autonomy_state = autonomy_socprotect
					has_autonomy_state = autonomy_marionet
					custom_trigger_tooltip = {
						tooltip = is_gem_among_colonies_tt
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}

		completion_reward = {
			custom_effect_tooltip = increased_military_presence_tt
			hidden_effect = {
				every_country = {
					limit = {
						OR = {
							tag = ROOT
							AND = {
								is_subject_of = ROOT
								OR = {
									has_autonomy_state = autonomy_puppet
									has_autonomy_state = autonomy_reichsprotectorate
									has_autonomy_state = autonomy_integrated_puppet
									has_autonomy_state = autonomy_reichskommissariat
									has_autonomy_state = autonomy_socprotect
									has_autonomy_state = autonomy_marionet
									has_country_flag = is_gem_among_colonies_flag_@ROOT
								}
							}
						}
					}
					add_war_support = 0.03
					if = {
						limit = { NOT = { has_template = "Military Legion" } }
						division_template = {
							name = "Military Legion"
							is_locked = no
							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
								infantry = { x = 1 y = 0 }
								infantry = { x = 1 y = 1 }
								infantry = { x = 1 y = 2 }
								infantry = { x = 2 y = 0 }
								artillery_brigade = { x = 2 y = 1 }
								artillery_brigade = { x = 2 y = 2 }
							}
							support = {
								recon = { x = 0 y = 0 }
								engineer = { x = 0 y = 1 }
								artillery = { x = 0 y = 2 }
							}
						}
					}
				}
				every_other_country = {
					limit = {
						is_subject_of = ROOT
						OR = {
							has_autonomy_state = autonomy_puppet
							has_autonomy_state = autonomy_reichsprotectorate
							has_autonomy_state = autonomy_integrated_puppet
							has_autonomy_state = autonomy_reichskommissariat
							has_autonomy_state = autonomy_socprotect
							has_autonomy_state = autonomy_marionet
						}
						NOT = { has_country_flag = is_gem_among_colonies_flag_@ROOT }
					}
					capital_scope = {
						create_unit = {
							division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.6" 
							owner = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
					capital_scope = {
						create_unit = {
							division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.6" 
							owner = PREV
						}
						create_unit = {
							division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.6" 
							owner = PREV
						}
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.6" 
						owner = ROOT
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				NOT = {
					any_subject_country = {
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = consolidation_empire
		icon = GFX_focus_eng_imperial_federation
		prerequisite = { focus = export_of_capital }
		prerequisite = { focus = overseas_service }
		prerequisite = { focus = increased_military_presence }
		x = 0
		y = 1
		relative_position_id = overseas_service
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_puppet
					has_autonomy_state = autonomy_reichsprotectorate
					has_autonomy_state = autonomy_integrated_puppet
					has_autonomy_state = autonomy_reichskommissariat
					has_autonomy_state = autonomy_socprotect
					has_autonomy_state = autonomy_marionet
					custom_trigger_tooltip = {
						tooltip = is_gem_among_colonies_tt
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus consolidation_empire"
			custom_effect_tooltip = consolidation_empire_tt
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_puppet_integrated_puppet_gem_tt
				effect_tooltip = {
					add_timed_idea = { idea = consolidation_empire days = 1000 }
				}
			}
			set_temp_variable = { consolidation_empire = 0 }
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_puppet
						has_autonomy_state = autonomy_reichsprotectorate
						has_autonomy_state = autonomy_integrated_puppet
						has_autonomy_state = autonomy_reichskommissariat
						has_autonomy_state = autonomy_socprotect
						has_autonomy_state = autonomy_marionet
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
				add_to_temp_variable = { ROOT.consolidation_empire = 1 }
				add_timed_idea = { idea = consolidation_empire days = 1000 }
			}
			divide_temp_variable = { consolidation_empire = 2 }
			clamp_temp_variable = {
				var = consolidation_empire
				min = 1
				max = 99
			}
			build_arms_factory = yes
		}

		ai_will_do = {
			factor = 10
		}
	}
	
	shared_focus = {
		id = gem_among_colonies
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = colonial_policy }
		x = 3
		y = 1
		relative_position_id = colonial_policy
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
		}

		completion_reward = {
			unlock_decision_category_tooltip = generic_gem_among_colonies_category
		}

		ai_will_do = {
			factor = 10
		}
	}
	
	shared_focus = {
		id = joint_venture
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = gem_among_colonies }
		x = 1
		y = 1
		relative_position_id = gem_among_colonies
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			any_subject_country = {
				custom_trigger_tooltip = {
					tooltip = is_gem_among_colonies_tt
					has_country_flag = is_gem_among_colonies_flag_@ROOT
				}
			}
		}

		completion_reward = {
			capital_scope = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							has_country_flag = is_gem_among_colonies_flag_@ROOT
						}
					}
				}
				custom_effect_tooltip = our_gem_tt
				effect_tooltip = {
					random_state = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
				}
			}
			random_other_country = {
				limit = {
					is_subject_of = ROOT
					has_country_flag = is_gem_among_colonies_flag_@ROOT
				}
				capital_scope = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 10
		}
	}
	
	shared_focus = {
		id = industrial_development
		icon = GFX_z_goal_support_businessmen
		prerequisite = { focus = joint_venture }
		x = -1
		y = 1
		relative_position_id = joint_venture
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_puppet
					has_autonomy_state = autonomy_reichsprotectorate
					has_autonomy_state = autonomy_integrated_puppet
					has_autonomy_state = autonomy_reichskommissariat
					has_autonomy_state = autonomy_socprotect
					has_autonomy_state = autonomy_marionet
					custom_trigger_tooltip = {
						tooltip = is_gem_among_colonies_tt
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}

		completion_reward = {
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_puppet_integrated_puppet_tt
				effect_tooltip = {
					random_state = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
				custom_effect_tooltip = our_gem_tt
				effect_tooltip = {
					random_state = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_puppet
						has_autonomy_state = autonomy_reichsprotectorate
						has_autonomy_state = autonomy_integrated_puppet
						has_autonomy_state = autonomy_reichskommissariat
						has_autonomy_state = autonomy_socprotect
						has_autonomy_state = autonomy_marionet
					}
					NOT = { has_country_flag = is_gem_among_colonies_flag_@ROOT }
				}
				capital_scope = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			random_other_country = {
				limit = {
					is_subject_of = ROOT
					has_country_flag = is_gem_among_colonies_flag_@ROOT
				}
				capital_scope = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				NOT = {
					any_subject_country = {
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = transfer_of_harmful_industries
		icon = GFX_z_goal_transfer_industries
		prerequisite = { focus = joint_venture }
		x = 0
		y = 2
		relative_position_id = joint_venture
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_puppet
					has_autonomy_state = autonomy_reichsprotectorate
					has_autonomy_state = autonomy_integrated_puppet
					has_autonomy_state = autonomy_reichskommissariat
					has_autonomy_state = autonomy_socprotect
					has_autonomy_state = autonomy_marionet
					custom_trigger_tooltip = {
						tooltip = is_gem_among_colonies_tt
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}

		completion_reward = {
			add_ideas = transfer_of_harmful_industries_idea
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_puppet_integrated_puppet_tt
				effect_tooltip = {
					add_ideas = transfer_of_harmful_industries_puppet
					random_state = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
				custom_effect_tooltip = our_gem_tt
				effect_tooltip = {
					add_ideas = transfer_of_harmful_industries_puppet
					random_state = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_puppet
						has_autonomy_state = autonomy_reichsprotectorate
						has_autonomy_state = autonomy_integrated_puppet
						has_autonomy_state = autonomy_reichskommissariat
						has_autonomy_state = autonomy_socprotect
						has_autonomy_state = autonomy_marionet
					}
					NOT = { has_country_flag = is_gem_among_colonies_flag_@ROOT }
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				add_ideas = transfer_of_harmful_industries_puppet
			}
			random_other_country = {
				limit = {
					is_subject_of = ROOT
					has_country_flag = is_gem_among_colonies_flag_@ROOT
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				add_ideas = transfer_of_harmful_industries_puppet
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				NOT = {
					any_subject_country = {
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = relocation_from_metropolis
		icon = GFX_z_goal_generic_political_support
		prerequisite = { focus = increased_military_presence focus = industrial_development }
		x = 0
		y = 2
		relative_position_id = industrial_development
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			num_subjects > 0
			any_subject_country = {
				OR = {
					has_autonomy_state = autonomy_puppet
					has_autonomy_state = autonomy_reichsprotectorate
					has_autonomy_state = autonomy_integrated_puppet
					has_autonomy_state = autonomy_reichskommissariat
					has_autonomy_state = autonomy_socprotect
					has_autonomy_state = autonomy_marionet
					custom_trigger_tooltip = {
						tooltip = is_gem_among_colonies_tt
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}

		completion_reward = {
			if = {
				limit = { num_subjects < 1 }
				custom_effect_tooltip = every_our_puppet_integrated_puppet_tt
				effect_tooltip = {
					random_state = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
				custom_effect_tooltip = our_gem_tt
				effect_tooltip = {
					random_state = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ROOT
					OR = {
						has_autonomy_state = autonomy_puppet
						has_autonomy_state = autonomy_reichsprotectorate
						has_autonomy_state = autonomy_integrated_puppet
						has_autonomy_state = autonomy_reichskommissariat
						has_autonomy_state = autonomy_socprotect
						has_autonomy_state = autonomy_marionet
					}
					NOT = { has_country_flag = is_gem_among_colonies_flag_@ROOT }
				}
				capital_scope = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			random_other_country = {
				limit = {
					is_subject_of = ROOT
					has_country_flag = is_gem_among_colonies_flag_@ROOT
				}
				capital_scope = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				NOT = {
					any_subject_country = {
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}
	}
	
	
	#########################
	#### SUBJECT SECTION ####
	#########################
	
	shared_focus = {
		id = order_in_country
		icon = GFX_goal_generic_political_pressure
		x = 18
		y = 0
		offset = {
			x = -18
			y = 0
			trigger = {
				check_variable = { current_nw_national_focus_overlord_icon_frame = 2 }
			}
		}
		relative_position_id = colonial_department
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		allow_branch = {
			NOT = { check_variable = { current_nw_national_focus_subject_icon_frame = 2 } }
		}
		available = {
			is_subject = yes
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus order_in_country"
			add_stability = 0.015
			add_political_power = 25
		}

		ai_will_do = {
			factor = 3
			modifier = {
				add = 100
				has_country_flag = generic_spawn_anarchists_flag
			}
		}
	}
	
	shared_focus = {
		id = adoption_of_new_status
		icon = GFX_focus_CZE_german_puppet
		prerequisite = { focus = order_in_country }
		mutually_exclusive = { focus = weakening_ties_with_metropolis }
		x = -4
		y = 1
		relative_position_id = order_in_country
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus adoption_of_new_status"
			add_political_power = 100
		}

		ai_will_do = {
			factor = 7.5
			modifier = {
				factor = 1.5
				OR = {
					OVERLORD = { has_government = technocracy }
					has_government = technocracy
				}
			}
		}
	}
	
	shared_focus = {
		id = investors_from_metropolis
		icon = GFX_z_goal_production
		prerequisite = { focus = adoption_of_new_status }
		x = 0
		y = 1
		relative_position_id = adoption_of_new_status
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			if = {
				limit = {
					OR = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
				custom_effect_tooltip = additional_effect_tt
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = resource_extraction
		icon = GFX_z_goal_excavations
		prerequisite = { focus = investors_from_metropolis }
		mutually_exclusive = { focus = industrial_base focus = military_affairs }
		x = -2
		y = 1
		relative_position_id = investors_from_metropolis
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_ideas = resource_extraction
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = industrial_base
		icon = GFX_focus_generic_industry_3
		prerequisite = { focus = investors_from_metropolis }
		mutually_exclusive = { focus = resource_extraction focus = military_affairs }
		x = 0
		y = 1
		relative_position_id = investors_from_metropolis
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_ideas = industrial_base
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = military_affairs
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = investors_from_metropolis }
		mutually_exclusive = { focus = resource_extraction focus = industrial_base }
		x = 2
		y = 1
		relative_position_id = investors_from_metropolis
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_war_support = 0.015
			add_ideas = military_affairs
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = delivery_in_metropolis
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = resource_extraction focus = industrial_base focus = military_affairs }
		x = -1
		y = 1
		relative_position_id = industrial_base
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			capital_scope = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			OVERLORD = {
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = extension_of_railways
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = resource_extraction focus = industrial_base focus = military_affairs }
		x = 1
		y = 1
		relative_position_id = industrial_base
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			if = {
				limit = {
					OR = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
				capital_scope = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					every_neighbor_state = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					} 
				}
			}
			else = {
				capital_scope = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
				custom_effect_tooltip = additional_effect_tt
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = expansion_of_production
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = resource_extraction }
		prerequisite = { focus = delivery_in_metropolis }
		x = 0
		y = 2
		relative_position_id = resource_extraction
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = resource_extraction
				add_idea = resource_extraction_2
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = new_frontier
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = expansion_of_production }
		x = -2
		y = 1
		relative_position_id = expansion_of_production
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}
		
		completion_reward = {
			effect_tooltip = {
				if = {
					limit = {
						NOT = {
							has_idea = resource_extraction_2
							has_idea = resource_extraction_3
							has_idea = resource_extraction_4
						}
					}
					swap_ideas = {
						remove_idea = resource_extraction_2
						add_idea = resource_extraction_3
					}
				}
			}
			if = {
				limit = { has_idea = resource_extraction_2 }
				swap_ideas = {
					remove_idea = resource_extraction_2
					add_idea = resource_extraction_3
				}
			}
			else_if = {
				limit = { has_idea = resource_extraction_3 }
				swap_ideas = {
					remove_idea = resource_extraction_3
					add_idea = resource_extraction_4
				}
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = efficiency
		icon = GFX_z_goal_soviet_mil_city1
		prerequisite = { focus = expansion_of_production }
		x = 0
		y = 1
		relative_position_id = expansion_of_production
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}
		
		completion_reward = {
			effect_tooltip = {
				if = {
					limit = {
						NOT = {
							has_idea = resource_extraction_2
							has_idea = resource_extraction_3
							has_idea = resource_extraction_4
						}
					}
					swap_ideas = {
						remove_idea = resource_extraction_3
						add_idea = resource_extraction_4
					}
				}
			}
			if = {
				limit = { has_idea = resource_extraction_2 }
				swap_ideas = {
					remove_idea = resource_extraction_2
					add_idea = resource_extraction_3
				}
			}
			else_if = {
				limit = { has_idea = resource_extraction_3 }
				swap_ideas = {
					remove_idea = resource_extraction_3
					add_idea = resource_extraction_4
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = natural_resources
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = new_frontier }
		prerequisite = { focus = efficiency }
		x = 1
		y = 1
		relative_position_id = new_frontier
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_ideas = natural_resources
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = network_of_industrial_complex
		icon = GFX_z_goal_soviet_SMU4
		prerequisite = { focus = industrial_base }
		prerequisite = { focus = delivery_in_metropolis }
		prerequisite = { focus = extension_of_railways }
		x = 1
		y = 1
		relative_position_id = delivery_in_metropolis
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			capital_scope = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = group_expansion_a
		icon = GFX_z_goal_generic_industrial_worker
		prerequisite = { focus = network_of_industrial_complex }
		x = 0
		y = 1
		relative_position_id = network_of_industrial_complex
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_ideas = group_expansion_a_idea
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = agriculture
		icon = GFX_goal_agrarian
		prerequisite = { focus = group_expansion_a }
		x = -1
		y = 1
		relative_position_id = group_expansion_a
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_ideas = agriculture
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = working_conditions
		icon = GFX_z_focus_the_workers
		prerequisite = { focus = group_expansion_a }
		x = 1
		y = 1
		relative_position_id = group_expansion_a
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = group_expansion_a_idea
				add_idea = group_expansion_a_idea_2
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = building_arsenals
		icon = GFX_z_goal_factory_complex
		prerequisite = { focus = military_affairs }
		prerequisite = { focus = extension_of_railways }
		x = 0
		y = 2
		relative_position_id = military_affairs
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = construction_military_ranges
		icon = GFX_goal_generic_construction
		prerequisite = { focus = building_arsenals }
		x = 0
		y = 1
		relative_position_id = building_arsenals
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_ideas = construction_military_ranges
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = war_machine_of_metropolis
		icon = GFX_z_goal_swing_the_sword
		prerequisite = { focus = building_arsenals }
		x = 2
		y = 1
		relative_position_id = building_arsenals
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_war_support = 0.03
			if = {
				limit = { NOT = { has_template = "Military Legion" } }
				division_template = {
					name = "Military Legion"
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						artillery_brigade = { x = 2 y = 1 }
						artillery_brigade = { x = 2 y = 2 }
					}
					support = {
						recon = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.6" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.6" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.6" 
					owner = ROOT
				}
			}
		}

		ai_will_do = {
			factor = 6
		}
	}
	
	shared_focus = {
		id = military_bases_for_metropolis
		icon = GFX_z_goal_flight_school
		prerequisite = { focus = construction_military_ranges }
		prerequisite = { focus = war_machine_of_metropolis }
		x = 1
		y = 1
		relative_position_id = construction_military_ranges
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			if = {
				limit = {
					capital_scope = {
						NOT = {
							free_building_slots = {
								building = air_base
								size > 1
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
				capital_scope = {
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = economic_integration_with_metropolis
		icon = GFX_goal_tripartite_pact
		prerequisite = { focus = natural_resources focus = agriculture }
		x = 0
		y = 1
		relative_position_id = agriculture
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			OVERLORD = {
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
				capital_scope = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				capital_scope = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
				custom_effect_tooltip = additional_effect_tt
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = national_defense
		icon = GFX_goal_generic_defence
		prerequisite = { focus = working_conditions focus = military_bases_for_metropolis }
		x = 0
		y = 1
		relative_position_id = working_conditions
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			OVERLORD = {
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
				capital_scope = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				capital_scope = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
				custom_effect_tooltip = additional_effect_tt
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = guard_of_empire
		icon = GFX_z_goal_generic_cross_and_sword
		prerequisite = { focus = economic_integration_with_metropolis focus = national_defense }
		x = 1
		y = 1
		relative_position_id = economic_integration_with_metropolis
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus guard_of_empire"
			add_stability = 0.2
			add_war_support = 0.1
			add_political_power = 100
			hidden_effect = {
				if = {
					limit = { NOT = { has_template = "Military Legion" } }
					division_template = {
						name = "Military Legion"
						is_locked = no
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
							infantry = { x = 2 y = 0 }
							artillery_brigade = { x = 2 y = 1 }
							artillery_brigade = { x = 2 y = 2 }
						}
						support = {
							recon = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							artillery = { x = 0 y = 2 }
						}
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.6" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.6" 
					owner = ROOT
				}
			}
		}

		ai_will_do = {
			factor = 6
		}
	}
	
	
	####
	shared_focus = {
		id = weakening_ties_with_metropolis
		icon = GFX_goal_tfv_sever_ties_with_uk
		prerequisite = { focus = order_in_country }
		mutually_exclusive = { focus = adoption_of_new_status }
		x = 4
		y = 1
		relative_position_id = order_in_country
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
			NOT = {
				has_autonomy_state = mandatory_territory
				has_autonomy_state = autonomous_mandatory_territory
				has_autonomy_state = autonomy_collaboration_government
			}
			if = {
				limit = { OVERLORD = { tag = FRA } }
				OVERLORD = {
					OR = {
						NOT = { has_government = fascism }
						OR = {
							has_war_with = FRF
							has_war_with = FRC
							has_civil_war = yes
						}
					}
				}
			}
			else_if = {
				limit = { OVERLORD = { tag = PER } }
				OVERLORD = {
					OR = {
						NOT = { has_government = fascism }
						has_war_with = PEN
						has_civil_war = yes
					}
				}
			}
			else_if = {
				limit = { OVERLORD = { tag = TUR } }
				OVERLORD = {
					OR = {
						NOT = { has_government = fascism }
						has_civil_war = yes
					}
				}
			}
			else_if = {
				limit = { OVERLORD = { tag = SOV } }
				OVERLORD = {
					OR = {
						NOT = { has_government = fascism }
						has_war_with = RUS
						has_civil_war = yes
					}
				}
			}
			else_if = {
				limit = { OVERLORD = { tag = ITA } }
				OVERLORD = {
					OR = {
						NOT = { has_government = fascism }
						has_war_with = RSI
						has_civil_war = yes
					}
				}
			}
			else = {
				OVERLORD = {
					OR = {
						NOT = { has_government = fascism }
						has_civil_war = yes
					}
				}
			}
			if = {
				limit = {
					tag = KRD
					has_country_leader = { name = "Bakr Sidqi" ruling_only = yes }
					OVERLORD = {
						has_completed_focus = IRQ_bakr_sidkis_personal_state
					}
				}
				always = no
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus weakening_ties_with_metropolis"
			add_ideas = weakening_ties_with_metropolis
		}

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 4
				has_government = fascism
				NOT = { tag = DNZ }
			}
			modifier = {
				factor = 0
				if = {
					limit = { OVERLORD = { tag = DEN } }
					tag = ICE
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_autonomy_state = autonomy_european_union_state
					has_autonomy_state = autonomy_habs_use_state
					has_autonomy_state = autonomy_habs_imperial_vassal
					has_autonomy_state = autonomy_habs_imperial_uniate
				}
			}
			modifier = {
				factor = 5
				if = {
					limit = { OVERLORD = { tag = FRA } }
					OVERLORD = {
						OR = {
							has_civil_war = yes
							has_war_with = FRF
							has_war_with = FRC
						}
					}
				}
				else_if = {
					limit = { OVERLORD = { tag = PER } }
					OVERLORD = {
						OR = {
							has_civil_war = yes
							has_war_with = PEN
						}
					}
				}
				else_if = {
					limit = { OVERLORD = { tag = TUR } }
					OVERLORD = {
						has_civil_war = yes
					}
				}
				else_if = {
					limit = { OVERLORD = { tag = SOV } }
					OVERLORD = {
						OR = {
							has_civil_war = yes
							has_war_with = SOV
						}
					}
				}
				else_if = {
					limit = { OVERLORD = { tag = ITA } }
					OVERLORD = {
						OR = {
							has_civil_war = yes
							has_war_with = RSI
						}
					}
				}
				else = {
					OVERLORD = {
						has_civil_war = yes
					}
				}
			}
			modifier = {
				add = 500
				has_country_flag = generic_spawn_anarchists_flag
			}
		}
	}
	
	shared_focus = {
		id = control_of_transport
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = weakening_ties_with_metropolis }
		x = -2
		y = 1
		relative_position_id = weakening_ties_with_metropolis
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}
		
		completion_reward = {
			add_autonomy_score = {
				value = 100
				localization = control_of_transport
			}
			if = {
				limit = {
					OR = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
				capital_scope = {
					remove_building = {
						type = infrastructure
						level = 1
					}
				}
			}
			else = {
				capital_scope = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
				custom_effect_tooltip = additional_effect_tt
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = control_over_internal_affairs
		icon = GFX_z_goal_london_disagreement
		prerequisite = { focus = weakening_ties_with_metropolis }
		x = 0
		y = 1
		relative_position_id = weakening_ties_with_metropolis
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}
		
		bypass = {
			OR = {
				has_autonomy_state = autonomy_dominion
				has_autonomy_state = autonomy_satellite
				has_autonomy_state = autonomy_condominium
			}
		}

		completion_reward = {
			add_autonomy_score = {
				value = 100
				localization = control_over_internal_affairs
			}
			add_stability = -0.1
			if = {
				limit = {
					OR = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
				add_political_power = -100
			}
			else = { add_political_power = 100 }
			if = {
				limit = {
					NOT = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
				custom_effect_tooltip = additional_effect_tt
			}
		}

		ai_will_do = {
			factor = 3
			modifier = {
				add = 500
				has_country_flag = generic_spawn_anarchists_flag
			}
		}
	}
	
	shared_focus = {
		id = control_of_industry
		icon = GFX_z_goal_nationalization_heavy_industry
		prerequisite = { focus = weakening_ties_with_metropolis }
		x = 2
		y = 1
		relative_position_id = weakening_ties_with_metropolis
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_autonomy_score = {
				value = 100
				localization = control_of_industry
			}
			if = {
				limit = {
					OR = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = generic_investment_in_subject_flag_1
						has_country_flag = generic_investment_in_subject_flag_2
					}
				}
				custom_effect_tooltip = additional_effect_tt
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = anticolonial_propaganda
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		prerequisite = { focus = control_of_transport }
		prerequisite = { focus = control_over_internal_affairs }
		x = 0
		y = 1
		relative_position_id = control_of_transport
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_timed_idea = {
				idea = anticolonial_propaganda
				days = 1000
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = legislative_assembly
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = control_over_internal_affairs }
		x = 0
		y = 1
		relative_position_id = control_over_internal_affairs
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_timed_idea = {
				idea = legislative_assembly
				days = 1000
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = benefits_for_indigenous
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = control_over_internal_affairs }
		prerequisite = { focus = control_of_industry }
		x = 0
		y = 1
		relative_position_id = control_of_industry
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_ideas = benefits_for_indigenous
			add_timed_idea = {
				idea = benefits_for_indigenous_2
				days = 1000
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = provincial_elections
		icon = GFX_z_goal_elections
		prerequisite = { focus = anticolonial_propaganda }
		prerequisite = { focus = legislative_assembly }
		prerequisite = { focus = benefits_for_indigenous }
		x = 0
		y = 1
		relative_position_id = legislative_assembly
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_political_power = 100
			add_autonomy_score = {
				value = 300
				localization = control_of_industry
			}
			if = {
				limit = { compare_autonomy_state < autonomy_dominion }
				OVERLORD = { country_event = { id = NWgeneric.5 } }
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = superiority
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = provincial_elections }
		mutually_exclusive = { focus = equality }
		x = -1
		y = 1
		relative_position_id = provincial_elections
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
			NOT = { has_country_flag = autonomy_NWgeneric6_adopt }
			OR = {
				has_autonomy_state = autonomy_dominion
				has_autonomy_state = autonomy_colony
				has_autonomy_state = autonomy_satellite
				has_autonomy_state = autonomy_reichsprotectorate
				has_autonomy_state = autonomy_condominium
				has_autonomy_state = autonomy_broresp
			}
		}

		completion_reward = {
			add_war_support = 0.05
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = bet_on_generals
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = superiority }
		x = -1
		y = 1
		relative_position_id = superiority
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_ideas = bet_on_generals
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = extension_guard
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = bet_on_generals }
		x = 0
		y = 1
		relative_position_id = bet_on_generals
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_ideas = extension_guard
			if = {
				limit = { NOT = { has_template = "Military Legion" } }
				division_template = {
					name = "Military Legion"
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						artillery_brigade = { x = 2 y = 1 }
						artillery_brigade = { x = 2 y = 2 }
					}
					support = {
						recon = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.6" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.6" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Military Legion\" division_template = \"Military Legion\" start_experience_factor = 0.6" 
					owner = ROOT
				}
			}
			
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = equality
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = provincial_elections }
		mutually_exclusive = { focus = superiority }
		x = 1
		y = 1
		relative_position_id = provincial_elections
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
			NOT = { has_country_flag = autonomy_NWgeneric6_adopt }
			OR = {
				has_autonomy_state = autonomy_dominion
				has_autonomy_state = autonomy_colony
				has_autonomy_state = autonomy_satellite
				has_autonomy_state = autonomy_reichsprotectorate
				has_autonomy_state = autonomy_condominium
				has_autonomy_state = autonomy_broresp
			}
		}

		completion_reward = {
			add_stability = 0.05
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = bet_on_masses
		icon = GFX_z_goal_rabgosudarstvo
		prerequisite = { focus = equality }
		x = 1
		y = 1
		relative_position_id = equality
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_ideas = bet_on_masses
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = peoples_army_focus
		icon = GFX_z_goal_revolution
		prerequisite = { focus = bet_on_masses }
		x = 0
		y = 1
		relative_position_id = bet_on_masses
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_ideas = peoples_army_focus
			add_timed_idea = {
				idea = peoples_army_2
				days = 365
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = national_unity
		icon = GFX_z_goal_civil_war_lessons
		prerequisite = { focus = superiority focus = equality }
		x = 1
		y = 1
		relative_position_id = superiority
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_stability = 0.15
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = purge_in_state_council
		icon = GFX_z_goal_begin_massacres_kurds
		prerequisite = { focus = national_unity }
		x = 0
		y = 1
		relative_position_id = national_unity
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
		}

		completion_reward = {
			add_political_power = 100
			add_timed_idea = {
				idea = purge_in_state_council_idea
				days = 90
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = work_independently
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = extension_guard focus = peoples_army_focus }
		prerequisite = { focus = purge_in_state_council }
		mutually_exclusive = { focus = seek_support }
		x = -1
		y = 1
		relative_position_id = purge_in_state_council
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
			NOT = {
				has_autonomy_state = autonomy_puppet
				has_autonomy_state = autonomy_reichsprotectorate
				has_autonomy_state = autonomy_integrated_puppet
				has_autonomy_state = autonomy_reichskommissariat
				has_autonomy_state = autonomy_socprotect
				has_autonomy_state = autonomy_marionet
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus work_independently"
			hidden_effect = {
				OVERLORD = {
					add_ai_strategy = {
						type = alliance
						id = ROOT		
						value = -200
					}
					ROOT = {
						add_ai_strategy = {
							type = alliance
							id = PREV		
							value = -200
						}
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_autonomy_state = autonomy_dominion
						has_autonomy_state = autonomy_satellite
						has_autonomy_state = autonomy_condominium
					}
				}
				OVERLORD = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_free
					}
				}
				if = {
					limit = { is_in_faction = yes }
					leave_faction = yes
				}
				if = {
					limit = { has_war = yes }
					custom_effect_tooltip = root_out_of_all_war_tt
					hidden_effect = {
						every_enemy_country = {
							limit = {
								is_subject = no
								OR = { is_faction_leader = yes is_in_faction = no }
								NOT = {
									any_of_scopes = {
										array = ROOT.owned_states
										OR = {
											is_claimed_by = PREV
											is_core_of = PREV
										}
									}
									any_of_scopes = {
										array = PREV.owned_states
										OR = {
											is_claimed_by = ROOT
											is_core_of = ROOT
										}
									}
								}
							}
							ROOT = { white_peace = PREV }
						}
					}
				}
			}
			else = {
				OVERLORD = { country_event = { id = NWgeneric.7 } }
			}
		}

		ai_will_do = {
			factor = 5
		}
	}
	
	shared_focus = {
		id = seek_support
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = extension_guard focus = peoples_army_focus }
		prerequisite = { focus = purge_in_state_council }
		mutually_exclusive = { focus = work_independently }
		x = 1
		y = 1
		relative_position_id = purge_in_state_council
		cost = 7.15

		available_if_capitulated = no
		continue_if_invalid = no
		cancel_if_invalid = yes
		
		available = {
			is_subject = yes
			OVERLORD = { num_subjects > 1 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus seek_support"
			set_temp_variable = { decryption_level_@ROOT = OVERLORD.modifier@decryption_factor }
			set_temp_variable = { encryption_level_@ROOT = modifier@encryption_factor }
			if = {
				limit = {
					check_variable = {
						var = decryption_level_@ROOT
						value = decryption_level_@ROOT
						compare = greater_than_or_equals
					}
				}
				OVERLORD = { country_event = { id = NWgeneric.5 } }
			}
			else = { set_country_flag = start_seek_support_flag }
			custom_effect_tooltip = seek_support_tt
			unlock_decision_category_tooltip = generic_seek_support_category
			custom_effect_tooltip = seek_support_ttt
		}

		ai_will_do = {
			factor = 3
		}
	}
	
	
	
	
	
	###################################
	####### SOVIET ARMY SECTION #######
	###################################

	shared_focus = {
		id = SOV_found_the_pcdi

		icon = GFX_goal_generic_defence
		x = 33 #62
		y = 0
		offset = {
			x = 29
			y = 0
			trigger = {
				has_focus_tree = generic_focus
			}
		}
		offset = {
			x = 19
			y = 0
			trigger = {
				has_focus_tree = generic_anarchism_focus
			}
		}
		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
		}
		
		allow_branch = {
			original_tag = SOV
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			hidden_effect = {
				if = {
					limit = { has_dlc = "Arms Against Tyranny" }
					add_dynamic_modifier = { modifier = SOV_defense_industry_dynamic_modifier_AAT }
				}
				else = {
					add_dynamic_modifier = { modifier = SOV_defense_industry_dynamic_modifier }
				}
			}
			custom_effect_tooltip = SOV_found_the_pcdi_ns_tt_NW
		}
	}
	
	shared_focus = {
		id = SOV_adopt_wheeled_tracked_tanks_for_service
		icon = GFX_z_goal_wheeled_tracked_tanks
		prerequisite = { focus = SOV_found_the_pcdi }
		mutually_exclusive = { focus = SOV_abandon_wheeled_tracked_scheme }
		x = -10
		y = 1
		relative_position_id = SOV_found_the_pcdi

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
		}
		available = {
		}
		bypass = {
		}

		search_filters = {}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SOV_adopt_wheeled_tracked_tanks_for_service"
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				swap_ideas = {
					remove_idea = SOV_tank_school_spirit
					add_idea = SOV_tank_school_spirit_2
				}
				hidden_effect = {
					army_experience = mtth:SOV_tank_school_spirit_cost
				}
				every_other_country = {
					limit = { has_idea = SOV_tank_school_spirit }
					swap_ideas = {
						remove_idea = SOV_tank_school_spirit
						add_idea = SOV_tank_school_spirit_2
					}
					hidden_effect = {
						army_experience = mtth:SOV_tank_school_spirit_cost
					}
				}
				if = {
					limit = { has_tech = improved_light_tank_chassis }
					create_equipment_variant = {
						name = "T-46"
						type = light_tank_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_close_support_gun
							layout_type_slot = tank_center_single_turret_layout
							turret_type_slot = tank_light_two_man_tank_turret
							suspension_type_slot = tank_christie_suspension
							continuous_track_type_slot = tank_continuous_track_full_metal
							armor_type_slot = tank_cast_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = tank_radio_1
							special_type_slot_2 = secondary_turret_hmg
							special_type_slot_3 = secondary_turret_hmg
							special_type_slot_4 = tank_additional_ground_hooks
						}
						upgrades = {
							tank_nsb_engine_upgrade = 6
							tank_nsb_armor_upgrade = 3
						}
					}
				}
				if = {
					limit = { has_tech = basic_medium_tank_chassis }
					create_equipment_variant = {
						name = "T-29"
						type = medium_tank_chassis_1
						parent_version = 0
						modules = {
							main_armament_slot = tank_medium_cannon
							layout_type_slot = tank_multi_turret_layout
							turret_type_slot = tank_medium_one_man_tank_turret
							suspension_type_slot = tank_christie_suspension
							continuous_track_type_slot = tank_continuous_track_full_metal
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = tank_radio_1
							special_type_slot_2 = tank_heavy_machine_gun_clone
							special_type_slot_3 = tank_heavy_machine_gun_clone
							special_type_slot_4 = tank_stereo_tube
						}
						upgrades = {
							tank_nsb_engine_upgrade = 6
							tank_nsb_armor_upgrade = 6
						}
					}
				}
				add_tech_bonus = {
					name = SOV_adopt_wheeled_tracked_tanks_for_service
					bonus = 1.0
					uses = 1
					category = cat_light_armor
				}
			}
			else = {
				add_tech_bonus = {
					name = SOV_adopt_wheeled_tracked_tanks_for_service
					bonus = 1.0
					uses = 2
					category = cat_light_armor
				}
			}
		}
	}
	
	shared_focus = {
		id = SOV_abandon_wheeled_tracked_scheme
		icon = GFX_z_goal_abandon_wheeled_tanks
		prerequisite = { focus = SOV_found_the_pcdi }
		mutually_exclusive = { focus = SOV_adopt_wheeled_tracked_tanks_for_service }
		x = -8
		y = 1
		relative_position_id = SOV_found_the_pcdi

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		available = {
		}
		bypass = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SOV_abandon_wheeled_tracked_scheme"
			if = {
				limit = { has_dlc = "Arms Against Tyranny" }
				mio:SOV_morozov_design_bureau_organization = {
					add_mio_size = 1
					add_mio_funds = 500
				}
			}
			else = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = SOV_morozov_design_bureau
			}
		}
	}

	shared_focus = {
		id = SOV_back_to_concept_of_land_cruisers
		icon = GFX_z_goal_tg5
		prerequisite = {
			focus = SOV_adopt_wheeled_tracked_tanks_for_service
			focus = SOV_abandon_wheeled_tracked_scheme
		}
		mutually_exclusive = { focus = SOV_reduce_towers_in_favor_of_armor }
		x = 0
		y = 1
		relative_position_id = SOV_adopt_wheeled_tracked_tanks_for_service

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		available = {
		}
		bypass = {
		}

		search_filters = {}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SOV_back_to_concept_of_land_cruisers"
			unlock_decision_category_tooltip = land_cruiser_category
		}
	}

	shared_focus = {
		id = SOV_reduce_towers_in_favor_of_armor
		icon = GFX_z_goal_reduce_multi_tower_tanks
		prerequisite = {
			focus = SOV_adopt_wheeled_tracked_tanks_for_service
			focus = SOV_abandon_wheeled_tracked_scheme
		}
		mutually_exclusive = { focus = SOV_back_to_concept_of_land_cruisers }
		x = 0
		y = 1
		relative_position_id = SOV_abandon_wheeled_tracked_scheme

		cost = 5
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			OR = {
				has_tech = improved_heavy_tank
				has_tech = improved_heavy_tank_chassis
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SOV_reduce_towers_in_favor_of_armor"
			if = {
				limit = { has_dlc = "No Step Back" }
				add_tech_bonus = {
					name = SOV_reduce_towers_in_favor_of_armor
					bonus = 1.5
					uses = 1
					technology = improved_heavy_tank_chassis
				}
			}
			else = {
				add_tech_bonus = {
					name = SOV_reduce_towers_in_favor_of_armor
					bonus = 1.5
					uses = 1
					technology = improved_heavy_tank
				}
			}
		}
	}

	shared_focus = {
		id = SOV_pc_of_mechanical_engineering

		icon = GFX_goal_generic_production2
		prerequisite = { focus = SOV_found_the_pcdi }
		x = -5
		y = 1
		relative_position_id = SOV_found_the_pcdi
		cost = 10

		available = {
			has_full_control_of_state = 219 #MOSCOW
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			custom_effect_tooltip = SOV_modify_defense_industry_ns_intro_NW
			add_to_variable = { SOV_defense_industry_production_factory_max_efficiency_factor = 0.05 tooltip = production_factory_max_efficiency_factor_tooltip }
			add_to_variable = { SOV_defense_industry_production_factory_efficiency_gain_factor = -0.05 tooltip = production_factory_efficiency_gain_factor_tooltip }
			force_update_dynamic_modifier = yes
			if = { #DEFAULT COMMIE
				limit = {
					OR = {
			   		    has_government = communism
						has_government = trozkism
					}	
				}
				add_tech_bonus = {
					name = SOV_pc_of_mechanical_engineering_name_default
					bonus = 1
					uses = 2
					category = motorized_equipment
					category = infantry_weapons
				}
			}
			else = { #ALT IDEOLOGY
				add_tech_bonus = {
					name = SOV_pc_of_mechanical_engineering_name_alt
					bonus = 1
					uses = 2
					category = motorized_equipment
					category = infantry_weapons
				}
			}
			
			219 = {
				if = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	shared_focus = {
		id = SOV_superior_war_machines
		
		icon = GFX_focus_generic_tank_production
		prerequisite = { focus = SOV_pc_of_mechanical_engineering }
		x = -1
		y = 1
		relative_position_id = SOV_pc_of_mechanical_engineering
		cost = 10

		available = {
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				has_tech = improved_medium_tank_chassis
			}
			else = {
				has_tech = improved_medium_tank
			}
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			custom_effect_tooltip = SOV_modify_defense_industry_ns_intro_NW
			if = {
				limit = { has_dlc = "Arms Against Tyranny" }
				add_to_variable = { SOV_defense_industry_tank_manufacturer_cost_factor_MIO = -0.25 tooltip = tank_manufacturer_cost_factor_MIO_tooltip }
			}	
			else = {
				add_to_variable = { SOV_defense_industry_tank_manufacturer_cost_factor = -0.25 tooltip = tank_manufacturer_cost_factor_tooltip }
			}
			force_update_dynamic_modifier = yes
			add_tech_bonus = {
				name = SOV_superior_war_machines
				bonus = 0.75
				uses = 2
				category = armor
			}
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				#T-34 tank template
				if = {
					limit = {
						OR = {
							has_tech = artillery3
							has_tech = antitank3
						}
					}
					create_equipment_variant = {
						name = "T-34"
						type = medium_tank_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_medium_cannon_2
							layout_type_slot = tank_center_single_turret_layout
							turret_type_slot = tank_medium_two_man_tank_turret
							suspension_type_slot = tank_christie_suspension
							continuous_track_type_slot = tank_continuous_track_full_metal
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_diesel_engine
							special_type_slot_1 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 10
							tank_nsb_armor_upgrade = 7
						}
						icon = "GFX_SOV_improved_medium_tank_medium"
					}
				}
				else_if = {
					limit = {
						OR = {
							has_tech = artillery1
							has_tech = antitank1
						}
					}
					create_equipment_variant = {
						name = "T-34"
						type = medium_tank_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_medium_cannon
							layout_type_slot = tank_center_single_turret_layout
							turret_type_slot = tank_medium_two_man_tank_turret
							suspension_type_slot = tank_christie_suspension
							continuous_track_type_slot = tank_continuous_track_full_metal
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_diesel_engine
							special_type_slot_1 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 10
							tank_nsb_armor_upgrade = 7
						}
						icon = "GFX_SOV_improved_medium_tank_medium"
					}
				}
				else_if = { #Why? You ruined your T-34
					limit = {
						has_tech = interwar_artillery
					}
					create_equipment_variant = {
						name = "T-34"
						type = medium_tank_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_small_cannon_2
							layout_type_slot = tank_center_single_turret_layout
							turret_type_slot = tank_medium_two_man_tank_turret
							suspension_type_slot = tank_christie_suspension
							continuous_track_type_slot = tank_continuous_track_full_metal
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_diesel_engine
							special_type_slot_1 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 10
							tank_nsb_armor_upgrade = 7
						}
						icon = "GFX_SOV_improved_medium_tank_medium"
					}
				}
				else = { #Don't do this to yourself dude
					create_equipment_variant = {
						name = "T-34"
						type = medium_tank_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_small_cannon
							layout_type_slot = tank_center_single_turret_layout
							turret_type_slot = tank_medium_two_man_tank_turret
							suspension_type_slot = tank_christie_suspension
							continuous_track_type_slot = tank_continuous_track_full_metal
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_diesel_engine
							special_type_slot_1 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 10
							tank_nsb_armor_upgrade = 7
						}
						icon = "GFX_SOV_improved_medium_tank_medium"
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = SOV_development_of_tankograd

		icon = GFX_goal_generic_army_tanks
		prerequisite = {
			focus = SOV_reduce_towers_in_favor_of_armor
			focus = SOV_superior_war_machines
		}
		x = -1
		y = 1
		relative_position_id = SOV_superior_war_machines
		cost = 10

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_fyp_controlled_factories_tier_4_tt
				NOT = { num_of_controlled_factories < SOV_fyp_factory_requirement_tier_4 }
			}
			#TODO_Manu: This could require X num of factories to have been relocated
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			custom_effect_tooltip = SOV_modify_defense_industry_ns_intro_NW
			add_to_variable = { SOV_defense_industry_land_equipment_upgrade_xp_cost = -0.1 tooltip = land_equipment_upgrade_xp_cost_tooltip }
			force_update_dynamic_modifier = yes
			custom_effect_tooltip = SOV_development_of_tankograd_factories_tt
			#This is just for tooltip purposes
			effect_tooltip = {
				every_owned_state = {
					limit = {
						is_on_continent = asia
						arms_factory > 2
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			#Actual effects
			set_temp_variable = { temp_targets_index = 0 }
			while_loop_effect = {
				limit = {
					check_variable = { temp_targets_index = 10 compare = less_than }
				}
				hidden_effect = {
					random_owned_state = {
						limit = {
							is_on_continent = asia
							arms_factory > 2
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
							NOT = { has_state_flag = SOV_development_of_tankograd_flag }
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						set_state_flag = SOV_development_of_tankograd_flag
						add_to_temp_variable = { SOV.temp_targets_index = 1 }
						#log = "Round [?SOV.temp_targets_index]"
					}
				}
			}
		}
	}

	shared_focus = {
		id = SOV_the_means_to_wage_war

		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SOV_pc_of_mechanical_engineering }
		x = 1
		y = 1
		relative_position_id = SOV_pc_of_mechanical_engineering
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			custom_effect_tooltip = SOV_modify_defense_industry_ns_intro_NW
			if = {
				limit = { has_dlc = "Arms Against Tyranny" }
				add_to_variable = { SOV_defense_industry_materiel_manufacturer_cost_factor_MIO = -0.25 tooltip = materiel_manufacturer_cost_factor_MIO_tooltip }
			}	
			else = {
				add_to_variable = { SOV_defense_industry_materiel_manufacturer_cost_factor = -0.25 tooltip = materiel_manufacturer_cost_factor_tooltip }
			}
			force_update_dynamic_modifier = yes
			add_tech_bonus = {
				name = SOV_the_means_to_wage_war
				bonus = 0.75
				uses = 2
				category = support_tech
			}
		}
	}
	
	
	shared_focus = {
		id = SOV_soviet_artillery

		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = SOV_the_means_to_wage_war }
		x = 1
		y = 1
		relative_position_id = SOV_the_means_to_wage_war
		cost = 10

		available = {
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = {
					OR = {
			   		    has_government = communism
						has_government = trozkism
					}	
				}
				add_tech_bonus = {
					name = SOV_soviet_artillery_tech_bonus_name_default
					bonus = 0.75
					uses = 2
					ahead_reduction = 2
					category = artillery
				}
			}
			else = {
				add_tech_bonus = {
					name = SOV_soviet_artillery_tech_bonus_name_alt
					bonus = 0.75
					uses = 2
					ahead_reduction = 2
					category = artillery
				}
			}
			
			if = { # 2 Mils in Chelyabinsk
				limit = {
					has_full_control_of_state = 572
					572 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				572 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = { # If Chelyabinsk not available, then 1 Mil elsewhere
				random_owned_state = {
					limit = {
						is_fully_controlled_by = ROOT
						arms_factory > 1
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			add_ideas = SOV_defense_industry_artillery_bonus

			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				#SU-85/100 tank template (AT)
				if = {
					limit = {
						has_tech = antitank5
					}
					create_equipment_variant = {
						name = "SU-100"
						type = medium_tank_destroyer_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_high_velocity_cannon_3
							layout_type_slot = tank_back_single_turret_layout
							turret_type_slot = tank_medium_fixed_superstructure_turret
							suspension_type_slot = tank_christie_suspension
							continuous_track_type_slot = tank_continuous_track_full_metal
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_diesel_engine
							special_type_slot_1 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 10
							tank_nsb_armor_upgrade = 8
						}
						icon = "GFX_SOV_advanced_medium_td_medium"
					}
				}
				else_if = {
					limit = {
						has_tech = antitank2
					}
					create_equipment_variant = {
						name = "SU-100"
						type = medium_tank_destroyer_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_high_velocity_cannon_2
							layout_type_slot = tank_back_single_turret_layout
							turret_type_slot = tank_medium_fixed_superstructure_turret
							suspension_type_slot = tank_christie_suspension
							continuous_track_type_slot = tank_continuous_track_full_metal
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_diesel_engine
							special_type_slot_1 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 10
							tank_nsb_armor_upgrade = 8
						}
						icon = "GFX_SOV_advanced_medium_td_medium"
					}
				}
				else_if = { #You really should invest some time in research AT...
					limit = {
						has_tech = interwar_antitank
					}
					create_equipment_variant = {
						name = "SU-85"
						type = medium_tank_destroyer_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_high_velocity_cannon
							layout_type_slot = tank_back_single_turret_layout
							turret_type_slot = tank_medium_fixed_superstructure_turret
							suspension_type_slot = tank_christie_suspension
							continuous_track_type_slot = tank_continuous_track_full_metal
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_diesel_engine
							special_type_slot_1 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 10
							tank_nsb_armor_upgrade = 8
						}
						icon = "GFX_SOV_improved_medium_td_medium"
					}
				}
				else = { #This is just blasphemy
					create_equipment_variant = {
						name = "SU-85"
						type = medium_tank_destroyer_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_heavy_cannon
							layout_type_slot = tank_back_single_turret_layout
							turret_type_slot = tank_medium_fixed_superstructure_turret
							suspension_type_slot = tank_christie_suspension
							continuous_track_type_slot = tank_continuous_track_full_metal
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_diesel_engine
							special_type_slot_1 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 10
							tank_nsb_armor_upgrade = 8
						}
						icon = "GFX_SOV_improved_medium_td_medium"
					}
				}

				#SU-122 tank template (SPG)
				if = {
					limit = {
						has_tech = artillery4
					}
					create_equipment_variant = {
						name = "SU-122"
						type = medium_tank_artillery_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_heavy_howitzer
							layout_type_slot = tank_back_single_turret_layout
							turret_type_slot = tank_medium_fixed_superstructure_turret
							suspension_type_slot = tank_bogie_suspension
							continuous_track_type_slot = tank_continuous_track_full_metal
							armor_type_slot = tank_riveted_armor
							engine_type_slot = tank_diesel_engine
							special_type_slot_1 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 10
							tank_nsb_armor_upgrade = 8
						}
						icon = "GFX_SOV_improved_medium_art_medium"
					}
				}
				else_if = {
					limit = {
						has_tech = artillery1
					}
					create_equipment_variant = {
						name = "SU-122"
						type = medium_tank_artillery_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_medium_howitzer_2
							layout_type_slot = tank_back_single_turret_layout
							turret_type_slot = tank_medium_fixed_superstructure_turret
							suspension_type_slot = tank_bogie_suspension
							continuous_track_type_slot = tank_continuous_track_full_metal
							armor_type_slot = tank_riveted_armor
							engine_type_slot = tank_diesel_engine
							special_type_slot_1 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 10
							tank_nsb_armor_upgrade = 8
						}
						icon = "GFX_SOV_improved_medium_art_medium"
					}
				}
				else = { #You really need some arty research
					create_equipment_variant = {
						name = "SU-122"
						type = medium_tank_artillery_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_medium_howitzer
							layout_type_slot = tank_back_single_turret_layout
							turret_type_slot = tank_medium_fixed_superstructure_turret
							suspension_type_slot = tank_bogie_suspension
							continuous_track_type_slot = tank_continuous_track_full_metal
							armor_type_slot = tank_riveted_armor
							engine_type_slot = tank_diesel_engine
							special_type_slot_1 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 10
							tank_nsb_armor_upgrade = 8
						}
						icon = "GFX_SOV_improved_medium_art_medium"
					}
				}
			}
		}
	}


	shared_focus = {
		id = SOV_pc_of_mortar_armament

		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = SOV_pc_of_mechanical_engineering }
		x = 0
		y = 2
		relative_position_id = SOV_pc_of_mechanical_engineering
		cost = 10

		available = {
			has_full_control_of_state = 219 #MOSCOW
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			custom_effect_tooltip = SOV_modify_defense_industry_ns_intro_NW
			add_to_variable = { SOV_defense_industry_breakthrough_factor = 0.05 tooltip = breakthrough_factor_tooltip }
			add_to_variable = { SOV_defense_industry_army_artillery_defence_factor = 0.05 tooltip = army_artillery_defence_factor_tooltip }
			force_update_dynamic_modifier = yes
			if = { #DEFAULT COMMIE
				limit = {
					OR = {
			   		    has_government = communism
						has_government = trozkism
					}	
				}
				add_tech_bonus = {
					name = SOV_pc_of_mortar_armament_name_default
					bonus = 0.75
					uses = 2
					category = artillery
				}
			}
			else = { #ALT IDEOLOGY
				add_tech_bonus = {
					name = SOV_pc_of_mortar_armament_name_alt
					bonus = 0.75
					uses = 2
					category = artillery
				}
			}

			219 = {
				if = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	shared_focus = {
		id = SOV_merge_tank_and_materiel_plants

		icon = GFX_focus_SOV_merge_plants
		prerequisite = { focus = SOV_development_of_tankograd focus = SOV_pc_of_mortar_armament focus = SOV_soviet_artillery }

		x = 0
		y = 1
		relative_position_id = SOV_pc_of_mortar_armament
		cost = 5

		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				#TANKS
				every_military_industrial_organization = {
					limit = {
						has_mio_trait = SOV_mio_trait_merge_plant_no_174 #All Tank MIOs have this trait
					}
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_174
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_112
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_ural_heavy_machine_building_plant
				}

				#MATERIEL
				every_military_industrial_organization = {
					limit = {
						has_mio_trait = SOV_mio_trait_merge_nkmz_plant #All Materiel MIOs have this trait
					}
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_nkmz_plant
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_magnitogorsk_metallurgical_plant
				}
				mio:SOV_grabin_design_bureau_organization = {
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_172
				}
				mio:SOV_tula_arms_plant_organization = {
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_622
				}
				mio:SOV_gaz_organization = {
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_automobile_tool_plant
				}
			}
			else = {
				custom_effect_tooltip = SOV_merge_tank_and_materiel_plants_tt
			}
		}
	}

	shared_focus = {
		id = SOV_strengthen_the_mobilization_plan
		icon = GFX_focus_SOV_mobilization_plan
		x = 7
		y = 0
		relative_position_id = SOV_found_the_pcdi
		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		allow_branch = {
			original_tag = SOV
		}
		
		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			custom_effect_tooltip = SOV_modify_the_red_army_ns_intro_NW
			add_to_variable = { SOV_the_red_army_mobilization_speed = 0.05 tooltip = modifier_mobilization_speed_tooltip }
			add_to_variable = { SOV_the_red_army_conscription_factor = 0.03 tooltip = conscription_factor_tooltip }
			force_update_dynamic_modifier = yes
		}
	}

	shared_focus = {
		id = SOV_military_engineering_university
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = SOV_found_the_pcdi }
		prerequisite = { focus = SOV_strengthen_the_mobilization_plan }
		x = 2
		y = 1
		relative_position_id = SOV_found_the_pcdi
		cost = 5

		available = {

		}
		
		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = SOV_modify_defense_industry_ns_intro_NW
			add_to_variable = { SOV_defense_industry_production_speed_coastal_bunker_factor = 0.05 tooltip = production_speed_coastal_bunker_factor_tooltip }
			add_to_variable = { SOV_defense_industry_production_speed_bunker_factor = 0.05 tooltip = production_speed_bunker_factor_tooltip }
			add_to_variable = { SOV_defense_industry_max_dig_in_factor = 0.05 tooltip = modifier_max_dig_in_factor_tooltip }
			force_update_dynamic_modifier = yes
		}
	}

	shared_focus = {
		id = SOV_leningrad_polytechnical_institute_NW
		icon = GFX_focus_research
		prerequisite = { focus = SOV_the_means_to_wage_war }
		prerequisite = { focus = SOV_military_engineering_university }
		x = 2
		y = 2
		relative_position_id = SOV_the_means_to_wage_war
		cost = 10
		dynamic = yes 
		available = {

		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_research_slot = 1
			if = {
				limit = { original_tag = SOV }
				if = {
					limit = { has_idea = leningrad_polytechnical_institute }
					swap_ideas = {
						remove_idea = leningrad_polytechnical_institute
						add_idea = leningrad_polytechnical_institute_improved
					}
				}
				else = {
					custom_effect_tooltip = available_designer
					show_ideas_tooltip = leningrad_polytechnical_institute_improved
				}
			}
		}
	}

	shared_focus = {
		id = SOV_soviet_atomic_bomb_project
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = SOV_leningrad_polytechnical_institute_NW }
		x = 0
		y = 2
		relative_position_id = SOV_leningrad_polytechnical_institute_NW
		cost = 10

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_national_academies_of_sciences_available_tt
				check_variable = { SOV_academy_of_sciences_research_speed_factor = SOV_academies_required_for_atomic_bomb_project compare = greater_than_or_equals }
			}
			is_subject = no
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_soviet_atomic_bomb_project_tech_bonus_name
				bonus = 1
				uses = 1
				ahead_reduction = 1
				category = nuclear
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				create_operative_leader = {
					name = SOV_ursula_kuczynski
					GFX = GFX_Portrait_ursula_kuczynski
					female = yes
					traits = { operative_safe_cracker operative_infiltrator }
					bypass_recruitment = no
					available_to_spy_master = yes
					nationalities = { SOV GER }
				}
				add_ideas = SOV_soviet_atomic_bomb_project_ns
			}
			custom_effect_tooltip = SOV_soviet_atomic_bomb_project_unlock_operation_tt
		}
	}

	shared_focus = {
		id = SOV_move_industry_to_the_urals
		icon = GFX_goal_reichsautobahn
		prerequisite = { focus = SOV_military_engineering_university }
		x = -3
		y = 1
		relative_position_id = SOV_military_engineering_university
		cost = 10

		available = {
			has_full_control_of_state = 219 #MOSCOW
			has_equipment = { train_equipment > 119 } #20 trains per factory
			OR = {
				threat > 0.85
				any_enemy_country = {
					SOV_is_major_not_original_sov = yes
					capital_scope = {
						is_on_continent = europe
					}
				}
			}
		}

		select_effect = {
			add_equipment_to_stockpile = {
				type = train_equipment
				amount = SOV_industrial_relocation_trains_focus_negative
				producer = SOV
			}
			#Factories are removed immediately to keep consistency with how decisions work
			219 = { #Moscow
				remove_building = {
					type = arms_factory
					level = 1
				}
				remove_building = {
					type = industrial_complex
					level = 1
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 195
				}
				195 = { #Leningrad
					remove_building = {
						type = arms_factory
						level = 1
					}
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 202
				}
				202 = { #Kiev
					remove_building = {
						type = arms_factory
						level = 1
					}
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_focus
					producer = SOV
				}
			}
			custom_effect_tooltip = on_select_focus_tt
			effect_tooltip = {
				219 = { #Moscow
					remove_building = {
						type = arms_factory
						level = 1
					}
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
				if = {
					limit = {
						has_full_control_of_state = 195
					}
					195 = { #Leningrad
						remove_building = {
							type = arms_factory
							level = 1
						}
						remove_building = {
							type = industrial_complex
							level = 1
						}
					}
				}
				if = {
					limit = {
						has_full_control_of_state = 202
					}
					202 = { #Kiev
						remove_building = {
							type = arms_factory
							level = 1
						}
						remove_building = {
							type = industrial_complex
							level = 1
						}
					}
				}
			}
			custom_effect_tooltip = SOV_move_industry_to_the_urals_trains_tt

			custom_effect_tooltip = on_completion_focus_tt
			unlock_decision_category_tooltip = SOV_industry_relocation

			random_controlled_state = {
				limit = {
					SOV_is_industrial_relocation_destiny_state = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			
				hidden_effect = {
					damage_building = { type = arms_factory damage = 0.5 }
					damage_building = { type = industrial_complex damage = 0.5 }
				}
			}
			if = {
				limit = {
					ROOT = { has_full_control_of_state = 195 } #Leningrad
				}
				random_controlled_state = { #Different State please thanks
					limit = {
						NOT = { state = PREV }
						SOV_is_industrial_relocation_destiny_state = yes
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				
					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.5 }
						damage_building = { type = industrial_complex damage = 0.5 }
					}
				}
			}
			if = {
				limit = {
					ROOT = { has_full_control_of_state = 202 } #Leningrad
				}
				random_controlled_state = { #Different State please thanks
					limit = {
						NOT = { state = PREV }
						SOV_is_industrial_relocation_destiny_state = yes
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				
					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.5 }
						damage_building = { type = industrial_complex damage = 0.5 }
					}
				}
			}
			custom_effect_tooltip = SOV_relocate_industry_repair_tt
		}
	}

	shared_focus = {
		id = SOV_the_road_of_life
		icon = GFX_focus_SOV_the_road_of_life
		prerequisite = { focus = SOV_leningrad_polytechnical_institute_NW }
		prerequisite = { focus = SOV_move_industry_to_the_urals }
		x = 1
		y = 1
		relative_position_id = SOV_leningrad_polytechnical_institute_NW
		cost = 5

		available = {
			OR = {
				195 = { #LENINGRAD
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				219 = { #MOSCOW
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				217 = { #STALINGRAD
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				137 = { #SEVASTOPOL
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				202 = { #Kiev
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
			}
		}
		
		search_filters = {}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_the_road_of_life_ns
				days = 730
			}
		}
	}

	shared_focus = {
		id = SOV_the_molotov_line
		icon = GFX_goal_fortify_the_westwall
		prerequisite = { focus = SOV_military_engineering_university }
		x = -1
		y = 1
		relative_position_id = SOV_military_engineering_university
		cost = 10

		mutually_exclusive = { focus = SOV_improve_the_stalin_line }

		available = {
			OR = {
				has_full_control_of_state = 188
				has_full_control_of_state = 189
				has_full_control_of_state = 814
				has_full_control_of_state = 940
				has_full_control_of_state = 1075
				has_full_control_of_state = 1029
				has_full_control_of_state = 774
				has_full_control_of_state = 837
				has_full_control_of_state = 94
				has_full_control_of_state = 93
				has_full_control_of_state = 908			
				has_full_control_of_state = 1023
				has_full_control_of_state = 89				
				has_full_control_of_state = 80
				has_full_control_of_state = 818
				has_full_control_of_state = 78
				has_full_control_of_state = 780
			}
		}
		
		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = SOV_the_molotov_line_tt

			### LITHUANIA ###
			if = { #If Memel is controlled, then add forts in Memel, if not, then go to Zemaitija
				limit = {
					188 = { is_fully_controlled_by = ROOT }
				}
				custom_effect_tooltip = SOV_molotov_line_forts_3
				hidden_effect = {
					188 = {
						add_building_construction = {
							type = bunker
							level = 3
							province = {
								id = 3288
								id = 13214
							}
							instant_build = yes
						}
					}
				}
			}
			else = {
				189 = { #ZEMAITIJA
					if = {
						limit = { is_fully_controlled_by = ROOT }
						custom_effect_tooltip = SOV_molotov_line_forts_3
						hidden_effect = {
							add_building_construction = {
								type = bunker
								level = 1
								province = {
									id = 3337
								}
								instant_build = yes
							}
						}
					}
				}
			}
			980 = { #Marijampole
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_molotov_line_forts_3
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 6407
							}
							instant_build = yes
						}
					}
				}
			}
			189 = { #Vilkaviskis
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_molotov_line_forts_3
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 11312
								id = 6281
							}
							instant_build = yes
						}
					}
				}
			}
			
			### POLAND ###			
			1029 = { #Grodno
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_molotov_line_forts_2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 3393
							}
							instant_build = yes
						}
					}
				}
			}
			837 = { #Lomza
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_molotov_line_forts_2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 11329
								id = 13674
								id = 11274
							}
							instant_build = yes
						}
					}
				}
			}
			97 = { #Bialystok
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_molotov_line_forts_6
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 400
								id = 13846
								id = 14679
								id = 290
							}
							instant_build = yes
						}
					}
				}
			}
			94 = { #Polesie
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_molotov_line_forts_2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 3392
								id = 11528
							}
							instant_build = yes
						}
					}
				}
			}
			93 = { #Wolyn
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_molotov_line_forts_2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 6546							
								id = 11441
								id = 422
							}
							instant_build = yes
						}
					}
				}
			}
			908 = { #Przemysl
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_molotov_line_forts_2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 13392
								id = 13391
							}
							instant_build = yes
						}
					}
				}
			}
			1023 = { #Lwow
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_molotov_line_forts_2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 536
								id = 3434
								id = 6431
							}
							instant_build = yes
						}
					}
				}
			}
			89 = { #Stanislawow
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_molotov_line_forts_4
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 6460
								id = 9425
								id = 3743
							}
							instant_build = yes
						}
					}
				}
			}

			### ROMANIA ###
			80 = { #Bucovina
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_molotov_line_forts_2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 9548
								id = 577
							}
							instant_build = yes
						}
					}
				}
			}
			818 = { #Eastern Bucovina
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_molotov_line_forts_2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 3407
							}
							instant_build = yes
						}
					}
				}
			}			
			78 = { #Bessarabia
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_molotov_line_forts_5
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 3577
								id = 565
								id = 3707
								id = 3724
							}
							instant_build = yes
						}
					}
				}
			}
			780 = { #Southern Bessarabia
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_molotov_line_forts_2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 3704
								id = 3701
							}
							instant_build = yes
						}
					}
				}
			}
		}
	}

	shared_focus = {
		id = SOV_improve_the_stalin_line
		icon = GFX_goal_fortify_the_westwall
		prerequisite = { focus = SOV_military_engineering_university }
		x = 1
		y = 1
		relative_position_id = SOV_military_engineering_university
		cost = 10

		mutually_exclusive = { focus = SOV_the_molotov_line }

		available = {
			OR = {
				has_full_control_of_state = 209
				has_full_control_of_state = 210
				has_full_control_of_state = 207
				has_full_control_of_state = 206
				has_full_control_of_state = 202
				has_full_control_of_state = 203
				has_full_control_of_state = 834
				has_full_control_of_state = 192
			}
		}
		
		search_filters = {}

		completion_reward = {
			209 = {
				if = {
					limit = { is_fully_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 6
						province = 415
						instant_build = yes
					}
				}
			}
			210 = {
				if = {
					limit = { is_fully_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 3333
						instant_build = yes
					}
				}
			}
			207 = {
				if = {
					limit = { is_fully_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 3219
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6371
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6220
						instant_build = yes
					}
				}
			}
			206 = {
				if = {
					limit = { is_fully_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 11370
						instant_build = yes
					}
				}
			}
			202 = {
				if = {
					limit = { is_fully_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 7
						province = 525
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 7
						province = 3494
						instant_build = yes
					}
				}

			}
			203 = {
				if = {
					limit = { is_fully_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 7
						province = 11409
						instant_build = yes
					}
				}
			}
			834 ={
				if = {
					limit = { is_fully_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 5
						province = 754
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 5
						province = 741
						instant_build = yes
					}
				}
			}
			192 = {
				if = {
					limit = { is_fully_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 5
						province = 11670
						instant_build = yes
					}
				}
			}
		}
	}

	shared_focus = {
		id = SOV_the_defense_of_moscow
		icon = GFX_focus_SOV_the_defense_of_moscow
		prerequisite = { focus = SOV_move_industry_to_the_urals focus = SOV_improve_the_stalin_line focus = SOV_the_molotov_line }
		x = 1
		y = 1
		relative_position_id = SOV_move_industry_to_the_urals
		cost = 5

		available = {
			219 = {
				is_controlled_by = ROOT
				
				OR = {
					any_neighbor_state = {
						NOT = { is_controlled_by = ROOT }
					}

					SOV = { surrender_progress > 0.1 } #Keep an eye on this, might be too cheesy
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			army_experience = 15
			219 = {
				custom_effect_tooltip = SOV_defense_of_moscow_forts
				hidden_effect = {
					if = {
						limit = {
							ROOT = { controls_province = 3391 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3391
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 6414 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 6414
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 9348 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 9348
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 301 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 301
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 9378 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 9378
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 6283 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 6283
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 3259 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3259
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 11282 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 11282
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 6380 }
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 6380
							instant_build = yes
						}
					}				
				}
			}
		}
	}

	shared_focus = {
		id = SOV_impregnable_forts
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_improve_the_stalin_line focus = SOV_the_molotov_line }
		x = -1
		y = 1
		relative_position_id = SOV_improve_the_stalin_line
		cost = 10

		available = {
			OR = {
				has_full_control_of_state = 195 #LENINGRAD
				has_full_control_of_state = 208 #LUGA
				has_full_control_of_state = 137 #CRIMEA
			}
		}
		
		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 195 #LENINGRAD
				}
				195 = { #LENINGRAD
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = {
							id = 3151
							id = 6174
						}
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = {
							id = 3151
							id = 6174
						}
						instant_build = yes
					}
					add_dynamic_modifier = { modifier = SOV_krasnaya_gorka_battery scope = SOV }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 208 #LUGA
				}
				208 = { #LUGA
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9097
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 9097
						instant_build = yes
					}
					add_dynamic_modifier = { modifier = SOV_seraya_loshad_battery scope = SOV }
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 137 #CRIMEA
				}
				137 = { #CRIMEA
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 3686
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 3686
						instant_build = yes
					}
					add_dynamic_modifier = { modifier = SOV_armored_battery_35 scope = SOV }
				}
			}
		}
	}

	shared_focus = {
		id = SOV_protect_the_white_sea_baltic_canal
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = SOV_military_engineering_university }
		x = 2
		y = 2
		relative_position_id = SOV_military_engineering_university
		cost = 5

		available = {
			has_full_control_of_state = 215 #ONEGA
			has_full_control_of_state = 216 #OLONETS
			has_full_control_of_state = 264 #TIKHVIN
			has_full_control_of_state = 195 #LENINGRAD
		}
		
		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 215 #ONEGA
				}
				215 = { #ONEGA
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 9045
							id = 3078
							id = 11212
						}
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9045
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 216 #OLONETS
				}
				216 = { #OLONETS
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 92
							id = 11092
						}
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 264 #TIKHVIN
				}
				264 = { #TIKHVIN
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 9082
							id = 9190
							id = 11059
						}
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 195 #LENINGRAD
				}
				195 = { #LENINGRAD
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 149
							id = 11068
							id = 79
						}
						instant_build = yes
					}
				}
			}
		}
	}

	shared_focus = {
		id = SOV_far_east_fortification
		icon = GFX_goal_fortify_the_westwall
		prerequisite = { focus = SOV_military_engineering_university }
		x = 3
		y = 1
		relative_position_id = SOV_military_engineering_university
		cost = 10

		available = {
			OR = {
				has_full_control_of_state = 563
				has_full_control_of_state = 561
				has_full_control_of_state = 657
				has_full_control_of_state = 409
				has_full_control_of_state = 408
			}
		}
		
		search_filters = {}

		completion_reward = {
			563 = { #CHITA
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_4
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 4719
								id = 12622
							}
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = {
								id = 10559
							}
							instant_build = yes
						}
					}
				}
			}
			561 = { #AMUR
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_4
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 12543
								id = 7851
								id = 10678
							}
							instant_build = yes
						}
						add_building_construction = { #Set like this for stupid tooltip purposes
							type = bunker
							level = 1
							province = {
								id = 12657
							}
							instant_build = yes
						}
					}
				}
			}
			657 = { #BIROBIDZHAN
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_10
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 10655
								id = 7801
								id = 10722
								id = 7672
							}
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = {
								id = 7763
								id = 4725
								id = 4805
							}
							instant_build = yes
						}
					}
				}
			}
			409 = { #KHABAROVSK
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_4
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = {
								id = 12189
							}
							instant_build = yes
						}
						add_building_construction = {  #Set like this for stupid tooltip purposes
							type = bunker
							level = 2
							province = {
								id = 10466
							}
							instant_build = yes
						}
					}
				}
			}
			408 = { #VLADIVOSTOK
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_10
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 11643
								id = 6686
								id = 664
								id = 6684
								id = 3787
								id = 6838
							}
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = {
								id = 3977
								id = 957
							}
							instant_build = yes
						}
					}
				}
			}
			# Other possible Provinces
			#11879 (Border Conflict with Japan) 1755 (North Sakhalin)
		}
	}

	shared_focus = {
		id = SOV_restore_cossack_units
		icon = GFX_focus_SOV_restore_cossack_units
		prerequisite = { focus = SOV_strengthen_the_mobilization_plan }
		x = -1
		y = 1
		relative_position_id = SOV_strengthen_the_mobilization_plan
		cost = 5

		mutually_exclusive = { focus = SOV_cohesion_first }

		available = {

		}
		
		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = SOV_modify_the_red_army_ns_intro_NW
			add_to_variable = { SOV_the_red_army_modifier_army_sub_unit_cavalry_speed_factor = 0.05 tooltip = modifier_army_sub_unit_cavalry_speed_factor_tooltip }
			add_to_variable = { SOV_the_red_army_modifier_army_sub_unit_cavalry_attack_factor = 0.05 tooltip = modifier_army_sub_unit_cavalry_attack_factor_tooltip }
			force_update_dynamic_modifier = yes

			show_unit_leaders_tooltip = SOV_lev_dovator

			#Spawn Cossack divisions
			custom_effect_tooltip = SOV_restore_cossack_units_spawn_tt
			hidden_effect = {
				division_template = {
					name = "Kazachya Kavaleryskaya Diviziya"
					division_names_group = SOV_CAV_02
					template_counter = 05

					regiments = {
						cavalry = { x = 0 y = 0 }
						cavalry = { x = 0 y = 1 }
						cavalry = { x = 1 y = 0 }
						cavalry = { x = 1 y = 1 }
						mot_artillery_brigade = { x = 2 y = 0 }
						light_armor = { x = 3 y = 0 }
					}
					support = {
						engineer = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
						recon = { x = 0 y = 2 }
					}
				}

				capital_scope = {
					#Cossack Cavalry
					create_unit = { 
						division = "name = \"4ya Donskaya Kazachya Kav. Div.\" division_template = \"Kazachya Kavaleryskaya Diviziya\" start_experience_factor = 0.8 start_equipment_factor = 1.0" owner = ROOT
					}
					create_unit = { 
						division = "name = \"6ya Kubansko-Terskaya Kazachya Kav. Div.\" division_template = \"Kazachya Kavaleryskaya Diviziya\" start_experience_factor = 0.8 start_equipment_factor = 1.0" owner = ROOT
					}
					create_unit = { 
						division = "name = \"10ya Tersko-Stavropolskaya Kazachya Kav. Div\" division_template = \"Kazachya Kavaleryskaya Diviziya\" start_experience_factor = 0.8 start_equipment_factor = 1.0" owner = ROOT
					}
					create_unit = { 
						division = "name = \"12ya Kubanskaya Kazachya Kav. Div.\" division_template = \"Kazachya Kavaleryskaya Diviziya\" start_experience_factor = 0.8 start_equipment_factor = 1.0" owner = ROOT
					}

					#Cossack Infantry
					create_unit = {
						division = "name = \"13ya Donskaya Kazachya Div.\" division_template = \"Strelkovaya Diviziya\" start_experience_factor = 0.7 start_equipment_factor = 1.0" owner = ROOT
					}
				}
			}
		}
	}

	shared_focus = {
		id = SOV_cohesion_first
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = SOV_strengthen_the_mobilization_plan }
		x = 1
		y = 1
		relative_position_id = SOV_strengthen_the_mobilization_plan
		cost = 5

		mutually_exclusive = { focus = SOV_restore_cossack_units }

		available = {
		}
		
		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = SOV_modify_the_red_army_ns_intro_NW
			add_to_variable = { SOV_the_red_army_army_org_factor = 0.05 tooltip = army_org_factor_tooltip }
			add_to_variable = { SOV_the_red_army_training_time_factor = 0.1 tooltip = training_time_army_factor_tooltip }
			force_update_dynamic_modifier = yes
		}
	}

	shared_focus = {
		id = SOV_rehabilitated_military
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = SOV_restore_cossack_units focus = SOV_cohesion_first }
		x = 0
		y = 2
		relative_position_id = SOV_strengthen_the_mobilization_plan
		cost = 10

		available = {
#			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
		}
		
		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = SOV_modify_the_red_army_ns_intro_NW
			add_to_variable = { SOV_the_red_army_army_org_factor = 0.05 tooltip = army_org_factor_tooltip }

			add_ideas = SOV_rehabilitated_military_ns
		}
	}

	shared_focus = {
		id = SOV_military_reorganization
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = SOV_rehabilitated_military }
		x = 0
		y = 2
		relative_position_id = SOV_rehabilitated_military
		cost = 10

		select_effect = {
			add_ideas = SOV_military_reorganization_ns
		}

		available = {

		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			#Tooltip purposes (Select Effect)
			custom_effect_tooltip = on_select_focus_tt
			effect_tooltip = {
				add_ideas = SOV_military_reorganization_ns
			}

			#(Complete Effect)
			custom_effect_tooltip = on_completion_focus_tt
			hidden_effect = {
				remove_ideas = SOV_military_reorganization_ns
			}
			custom_effect_tooltip = SOV_modify_the_red_army_ns_intro_NW
			add_to_variable = { SOV_the_red_army_unit_infantry_design_cost_factor = -0.1 tooltip = modifier_unit_infantry_design_cost_factor_tooltip }
			add_to_variable = { SOV_the_red_army_unit_artillery_brigade_design_cost_factor = -0.1 tooltip = modifier_unit_artillery_brigade_design_cost_factor_tooltip }
			force_update_dynamic_modifier = yes

			army_experience = 50
			add_command_power = 25
		}
	}

	shared_focus = {
		id = SOV_desperate_measures
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_strengthen_the_mobilization_plan }
		x = 3
		y = 2
		relative_position_id = SOV_strengthen_the_mobilization_plan
		cost = 5

		available = {
			any_enemy_country = {
				SOV_is_major_not_original_sov = yes
			}
		}
		
		search_filters = {}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_desperate_measures_ns
				days = 365
			}

			custom_effect_tooltip = SOV_desperate_measures_decisions_unlocked_tt
		}
	}

	shared_focus = {
		id = SOV_an_adaptable_army
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = SOV_rehabilitated_military }
		prerequisite = { focus = SOV_desperate_measures }
		x = 1
		y = 1
		relative_position_id = SOV_rehabilitated_military
		cost = 10

		available = {

		}
		
		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = SOV_modify_the_red_army_ns_intro_NW
			add_to_variable = { SOV_the_red_army_heat_attrition_factor = -0.1 tooltip = modifier_heat_attrition_factor_tooltip }
			add_to_variable = { SOV_the_red_army_winter_attrition_factor = -0.1 tooltip = modifier_winter_attrition_factor_tooltip }
			add_to_variable = { SOV_the_red_army_acclimatization_cold_climate_gain_factor = 0.15 tooltip = modifier_acclimatization_cold_climate_gain_factor_tooltip }
			add_to_variable = { SOV_the_red_army_acclimatization_hot_climate_gain_factor = 0.15 tooltip = modifier_acclimatization_hot_climate_gain_factor_tooltip }
			add_to_variable = { SOV_the_red_army_terrain_penalty_reduction = 0.05 tooltip = modifier_terrain_penalty_reduction_tooltip }
			force_update_dynamic_modifier = yes
		}
	}

	shared_focus = {
		id = SOV_lessons_of_war
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SOV_rehabilitated_military }
		prerequisite = { focus = SOV_desperate_measures }
		x = 0
		y = 1
		relative_position_id = SOV_desperate_measures
		cost = 5

		available = {
			NOT = { has_idea = SOV_desperate_measures_ns }
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_to_variable = { SOV_the_red_army_army_org_factor = 0.05 }
			set_variable = { SOV_the_red_army_experience_gain_army_factor = 0 }
			set_variable = { SOV_the_red_army_experience_loss_factor = 0 }

			custom_effect_tooltip = SOV_lessons_of_war_ns_tt

			unlock_decision_tooltip = SOV_order_227
			custom_effect_tooltip = SOV_lessons_of_war_unlock_military_operations_tt

			custom_effect_tooltip = SOV_lessons_of_war_cowed_trait_tt
			hidden_effect = {
				every_army_leader = {
					limit = {
						has_trait = trait_SOV_cowed_by_stalin_army
					}
					remove_unit_leader_trait =  trait_SOV_cowed_by_stalin_army
				}
				every_navy_leader = {
					limit = {
						has_trait = trait_SOV_cowed_by_stalin_navy
					}
					remove_unit_leader_trait =  trait_SOV_cowed_by_stalin_navy
				}
			}
		}
	}

	shared_focus = {
		id = SOV_penal_battalions
		icon = GFX_focus_SOV_penal_battalions
		prerequisite = { focus = SOV_desperate_measures }
		x = 2
		y = 1
		relative_position_id = SOV_desperate_measures
		cost = 5
		
		allow_branch = {
			original_tag = SOV
			# OR = {
				# has_government = communism
				# has_government = trozkism
			# }
		}

		available = {
			has_war = yes
		}
		
		search_filters = {}

		completion_reward = {
			#Spawn Penal divisions
			custom_effect_tooltip = SOV_penal_battalions_spawn_tt
			hidden_effect = {
				set_technology = { penal_infantry = 1 popup = no }

				division_template = {
					name = "Shtrafnaya Chast"
					division_names_group = SOV_PEN_01
					is_locked = yes

					regiments = {
						penal_battalion = { x = 0 y = 0 }
						penal_battalion = { x = 0 y = 1 }
						penal_battalion = { x = 0 y = 2 }
						penal_battalion = { x = 1 y = 0 }
						penal_battalion = { x = 1 y = 1 }
						penal_battalion = { x = 1 y = 2 }
						penal_battalion = { x = 2 y = 0 }
						penal_battalion = { x = 2 y = 1 }
						penal_battalion = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}

				SOV_spawn_penal_divisions_effect = yes
			}
		}
	}

	shared_focus = {
		id = SOV_organization_of_the_partisans
		icon = GFX_focus_focus_fra_maquis
		prerequisite = { focus = SOV_lessons_of_war }
		x = -1
		y = 1
		relative_position_id = SOV_lessons_of_war
		cost = 10

		available = {
			any_owned_state = {
				controller = {
					has_war_with = ROOT
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_PROPAGANDA}

		completion_reward = {
			custom_effect_tooltip = SOV_modify_the_red_army_ns_intro_NW
			add_to_variable = { SOV_the_red_army_operative_slot = 1 tooltip = operative_slot_tooltip }
			force_update_dynamic_modifier = yes
			if = {
				limit = {
					OR = {
			   		    has_government = communism
						has_government = trozkism
					}	
				}
				show_unit_leaders_tooltip = SOV_vasily_korzh
				show_unit_leaders_tooltip = SOV_sidor_kovpak
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = {
					limit = {
					    OR = {
			   		        has_government = communism
						    has_government = trozkism
					    }	
				    }
					create_operative_leader = {
						name = "Dmitry Medvedev"
						GFX = GFX_Portrait_dmitry_medvedev
						female = yes
						traits = { operative_demolition_expert operative_commando }
						bypass_recruitment = no
						available_to_spy_master = yes
						nationalities = { SOV }
					}
				}
				add_timed_idea = {
					idea = SOV_central_headquarters_of_the_partisan_movement
					days = 720
				}
			}
			else = {
				add_timed_idea = {
					idea = SOV_central_headquarters_of_the_partisan_movement_no_lar
					days = 720
				}
			}
		}
	}

	shared_focus = {
		id = SOV_smersh
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_lessons_of_war }
		x = 2
		y = 1
		relative_position_id = SOV_lessons_of_war
		cost = 10

		available = {
		}
		
		allow_branch = {
			original_tag = SOV
			# OR = {
				# has_government = communism
				# has_government = trozkism
			# }
		}
		
		search_filters = {FOCUS_FILTER_PROPAGANDA}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_ideas = SOV_smersh
			}
			else = {
				add_ideas = SOV_smersh_no_lar
			}
		}
	}

	shared_focus = {
		id = SOV_barrier_troops
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = SOV_smersh }
		x = 0
		y = 1
		relative_position_id = SOV_smersh
		cost = 5

		available = {

		}
		
		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = SOV_modify_the_red_army_ns_intro_NW
			add_to_variable = { SOV_the_red_army_army_org_regain = 0.1 tooltip = army_org_regain_tooltip }
			force_update_dynamic_modifier = yes
		}
	}

	shared_focus = {
		id = SOV_experts_in_camouflage
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = SOV_military_reorganization }
		x = -1
		y = 1
		relative_position_id = SOV_military_reorganization
		cost = 5

		available = {

		}
		
		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = SOV_modify_the_red_army_ns_intro_NW
			add_to_variable = { SOV_the_red_army_cas_damage_reduction = 0.05 tooltip = modifier_cas_damage_reduction_tooltip }
			add_to_variable = { SOV_the_red_army_max_dig_in = 5 tooltip = modifier_max_dig_in_tooltip }
			add_to_variable = { SOV_the_red_army_dig_in_speed_factor = 0.05 tooltip = modifier_dig_in_speed_factor_tooltip }
			force_update_dynamic_modifier = yes
		}
	}

	shared_focus = {
		id = SOV_keep_commissars_organization
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = SOV_military_reorganization }
		prerequisite = { focus = SOV_lessons_of_war }
		x = 1
		y = 1
		relative_position_id = SOV_military_reorganization
		cost = 10

		mutually_exclusive = { focus = SOV_swap_to_political_advisors }

		allow_branch = {
			original_tag = SOV
			OR = {
				has_government = communism
				has_government = trozkism
			}
		}

		available = {

		}

		bypass = {
		}
		
		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					has_idea = SOV_politicized_military
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military
					add_idea = SOV_politicized_military_keep
				}
			}
			else_if = {
				limit = {
					has_idea = SOV_politicized_military_humanism
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military_humanism
					add_idea = SOV_politicized_military_keep_humanism
				}
			}
		}
	}

	shared_focus = {
		id = SOV_adjoined_battle_priests
		icon = GFX_focus_GRE_an_orthodox_state
		prerequisite = { focus = SOV_military_reorganization }
		prerequisite = { focus = SOV_lessons_of_war }
		x = 1
		y = 1
		relative_position_id = SOV_military_reorganization
		cost = 10

		mutually_exclusive = { focus = SOV_swap_to_political_advisors }

		allow_branch = {
			original_tag = SOV
			NOT = {
				has_government = communism
				has_government = trozkism
			}
		}

		available = {
#			has_completed_focus = SOV_church_candidates
		}

		bypass = {
		}
		
		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					has_idea = SOV_politicized_military
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military
					add_idea = SOV_politicized_military_battle_priests
				}
			}
			else_if = { #Just in case weird shit happens
				limit = {
					has_idea = SOV_politicized_military_humanism
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military_humanism
					add_idea = SOV_politicized_military_battle_priests
				}
			}
		}
	}

	shared_focus = {
		id = SOV_swap_to_political_advisors
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_military_reorganization }
		prerequisite = { focus = SOV_lessons_of_war }
		x = 3
		y = 1
		relative_position_id = SOV_military_reorganization
		cost = 10

		mutually_exclusive = { focus = SOV_keep_commissars_organization focus = SOV_adjoined_battle_priests }

		available = {

		}

		bypass = {
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			if = {
				limit = {
					has_idea = SOV_politicized_military
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military
					add_idea = SOV_politicized_military_swap
				}
			}
			else_if = {
				limit = {
					has_idea = SOV_politicized_military_humanism
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military_humanism
					add_idea = SOV_politicized_military_swap_humanism
				}
			}
			else = { #To prevent the ugly "No current effects" tooltip if other focus taken
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SOV_politicized_military
						add_idea = SOV_politicized_military_swap
					}
				}
			}
		}
	}

	shared_focus = {
		id = SOV_the_glory_of_the_red_army
		icon = GFX_focus_SOV_the_glory_of_the_red_army_communism
		prerequisite = { focus = SOV_keep_commissars_organization focus = SOV_swap_to_political_advisors focus = SOV_adjoined_battle_priests }
		x = 1
		y = 1
		relative_position_id = SOV_keep_commissars_organization
		cost = 10

		allow_branch = {
			original_tag = SOV
			OR = {
				has_government = communism
				has_government = trozkism
			}
		}

		available = {
			any_enemy_country = {
				SOV_is_major_not_original_sov = yes
			}
			surrender_progress < 0.05
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			custom_effect_tooltip = SOV_modify_the_red_army_ns_intro_NW
			add_to_variable = { SOV_the_red_army_special_forces_cap = 0.1 tooltip = special_forces_cap_tooltip }
			add_to_variable = { SOV_the_red_army_land_doctrine_cost_factor = -0.1 tooltip = modifier_land_doctrine_cost_factor_tooltip }
			force_update_dynamic_modifier = yes
			army_experience = 75

			#New
			hidden_effect = {
				set_technology = { masterful_blitz = 1 popup = no }
			}
			custom_effect_tooltip = SOV_the_glory_of_the_red_army_masterful_blitz_tactic_tt
		}
	}

	shared_focus = {
		id = SOV_the_glory_of_the_red_army_alt
		icon = GFX_focus_SOV_the_glory_of_the_red_army_alternative
		prerequisite = { focus = SOV_keep_commissars_organization focus = SOV_swap_to_political_advisors focus = SOV_adjoined_battle_priests }
		x = 1
		y = 1
		relative_position_id = SOV_keep_commissars_organization
		cost = 10

		allow_branch = {
			original_tag = SOV
			NOT = {
				has_government = communism
				has_government = trozkism
			}
		}

		available = {
			any_enemy_country = {
				SOV_is_major_not_original_sov = yes
			}
			surrender_progress < 0.05
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_to_variable = { SOV_the_red_army_special_forces_cap = 0.1 }
			add_to_variable = { SOV_the_red_army_land_doctrine_cost_factor = -0.1 }
			custom_effect_tooltip = SOV_the_glory_of_the_red_army_ns_tt

			army_experience = 75

			#New
			hidden_effect = {
				set_technology = { masterful_blitz = 1 popup = no }
			}
			custom_effect_tooltip = SOV_the_glory_of_the_red_army_masterful_blitz_tactic_tt
		}
	}
