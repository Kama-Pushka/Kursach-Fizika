# SOV_stay_on_heavy_1 = {
	# enable = {
		# tag = SOV
		# SOV = { has_equipment = { heavy_tank_destroyer_chassis < 5000 } }
		# OR = {	# TODO что за флаги??
			# has_country_flag = spacemarine
			# has_country_flag = pure_infantry_no_air
		# }
	# }

	# abort_when_not_enabled = yes

	# ai_strategy = {
		# type = production_upgrade_desire_offset
		# id = heavy_tank_destroyer_chassis_1
		# value = 100
	# }

	# ai_strategy = {
		# type = production_upgrade_desire_offset
		# id = heavy_tank_destroyer_chassis_2
		# value = -100
	# }

	# ai_strategy = {
		# type = production_upgrade_desire_offset
		# id = heavy_tank_destroyer_chassis_3
		# value = -100
	# }
# }
SOV_stay_on_medium_1_2 = {
	allowed = { 
		original_tag = SOV 
	}
	enable = {
		has_equipment = { medium_tank_chassis < 5000 }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = production_upgrade_desire_offset
		id = heavy_tank_destroyer_chassis_3
		value = -100
	}
}
# SOV_tank_is_meta = {
	# allowed = {
		# original_tag = SOV
	# }
	# enable = {
		# has_country_flag = grand_battleplan_15w	# TODO что за флаги??
		# has_army_manpower = { size < 2000000 }
		# has_global_flag = is_active
	# }
	# abort_when_not_enabled = yes

	# ai_strategy = {
		# type = equipment_production_min_factories_archetype
		# id = mechanized_equipment
		# value = 5
	# }

	# ai_strategy = {
		# type = equipment_production_factor
		# id = armor
		# value = 25
	# }

	# ai_strategy = {
		# type = equipment_production_min_factories_archetype
		# id = support_equipment
		# value = -4
	# }
	
	# ai_strategy = {
		# type = role_ratio
		# id = armor
		# value = 10
	# }

	# ai_strategy = {
		# type = equipment_production_factor
		# id = artillery
		# value = -25
	# }

	# ai_strategy = {
		# type = equipment_production_min_factories
		# id = anti_tank
		# value = -25
	# }
# }
# SOV_tank_is_meta_boost = {
	# allowed = {
		# original_tag = SOV
	# }
	# enable = {
		# has_country_flag = grand_battleplan_15w	# TODO что за флаги??
		# has_army_manpower = { size > 2000000 }
		# has_global_flag = is_active
	# }
	# abort_when_not_enabled = yes

	# ai_strategy = {
		# type = equipment_production_factor
		# id = armor
		# value = 50
	# }

	# ai_strategy = {
		# type = equipment_production_min_factories_archetype
		# id = support_equipment
		# value = -7
	# }

	# ai_strategy = {
		# type = equipment_production_min_factories_archetype
		# id = mechanized_equipment
		# value = 28
	# }
	
	# ai_strategy = {
		# type = role_ratio
		# id = armor
		# value = 20
	# }

	# ai_strategy = {
		# type = equipment_production_factor
		# id = artillery
		# value = -50
	# }
	# ai_strategy = {
		# type = equipment_production_min_factories
		# id = anti_tank
		# value = -25
	# }	
	# ai_strategy = {
		# type = air_factory_balance
		# value = -60
	# }
# }
SOV_land_boost_early_game = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		is_historical_focus_on = yes
		date < 1940.1.1
		GER = { is_ai = yes }
		has_war = no
		OR = { 
			has_country_flag = grand_battleplan_15w		# TODO что за флаги??
			has_army_manpower = { size < 4000000 }
		}
		NOT = { 
			OR = {
				has_country_flag = plane_licensed_SOV
				has_tech = improved_small_airframe
			}
		}
	}
	abort_when_not_enabled = yes		
	ai_strategy = {
		type = air_factory_balance
		value = -150
	}
	ai_strategy = {
		type = equipment_production_factor
		id = fighter
		value = -100
	}
	ai_strategy = {
		type = equipment_production_factor
		id = heavy_fighter
		value = -100
	}	
	ai_strategy = {
		type = equipment_production_factor
		id = strategic_bomber
		value = -100
	}	
	ai_strategy = {
		type = equipment_production_factor
		id = tactical_bomber
		value = -100
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = fighter
		value = -20
	}	
	ai_strategy = {
		type = equipment_production_factor
		id = cas
		value = -100
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = cas
		value = -20
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = heavy_fighter
		value = -20
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = strategic_bomber
		value = -20
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = tactical_bomber
		value = -20
	}

	ai_strategy = {
		type = equipment_production_min_factories
		id = naval_bomber
		value = -20
	}
}

SOV_land_boost_early_game_vs_GER_human = {
	allowed = {
		original_tag = SOV
	}
	enable = {	
		is_historical_focus_on = yes
		GER = { is_ai = no }
		NOT = { 
			OR = {
				has_country_flag = plane_licensed_SOV
				AND = {
					has_tech = improved_small_airframe
					has_tech = engines_3
					has_tech = aa_hmg
				}
			}
		}
		OR = { 
			has_country_flag = grand_battleplan_15w		# TODO что за флаги??
			has_army_manpower = { size < 4000000 }
		}
		has_army_manpower = { size < 5000000 }
	}
	abort_when_not_enabled = yes		
	ai_strategy = {
		type = air_factory_balance
		value = -150
	}
	ai_strategy = {
		type = equipment_production_factor
		id = fighter
		value = -100
	}
	ai_strategy = {
		type = equipment_production_factor
		id = heavy_fighter
		value = -100
	}	
	ai_strategy = {
		type = equipment_production_factor
		id = strategic_bomber
		value = -100
	}	
	ai_strategy = {
		type = equipment_production_factor
		id = tactical_bomber
		value = -100
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = fighter
		value = -20
	}	
	ai_strategy = {
		type = equipment_production_factor
		id = cas
		value = -100
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = cas
		value = -20
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = heavy_fighter
		value = -20
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = strategic_bomber
		value = -20
	}
	ai_strategy = {
		type = equipment_production_min_factories
		id = tactical_bomber
		value = -20
	}

	ai_strategy = {
		type = equipment_production_min_factories
		id = naval_bomber
		value = -20
	}
}
# SOV_land_boost_early_game_vs_GER_human_no_air = {
	# allowed = {
		# original_tag = SOV
	# }
	# enable = {	
		# is_historical_focus_on = yes
		# GER = { is_ai = no }
		# NOT = { 
			# OR = {
				# has_country_flag = plane_licensed_SOV
				# AND = {
					# has_tech = improved_small_airframe
					# has_tech = engines_3
					# has_tech = aa_hmg
				# }
			# }
		# }
		# has_army_manpower = { size < 8000000 }
		# has_equipment = { infantry_equipment < 50000 }
		# NOT = { has_country_flag = era_of_transition }
		# NOT = { GER = { has_idea = endsieg_idea } }
		# has_country_flag = pure_infantry_no_air		# TODO что за флаги??
	# }
	# abort_when_not_enabled = yes		
	# ai_strategy = {
		# type = air_factory_balance
		# value = -50
	# }
	# ai_strategy = {
		# type = equipment_production_factor
		# id = fighter
		# value = -30
	# }
	# ai_strategy = {
		# type = equipment_production_factor
		# id = heavy_fighter
		# value = -30
	# }	
	# ai_strategy = {
		# type = equipment_production_factor
		# id = strategic_bomber
		# value = -30
	# }	
	# ai_strategy = {
		# type = equipment_production_factor
		# id = tactical_bomber
		# value = -30
	# }
	# ai_strategy = {
		# type = equipment_production_min_factories
		# id = fighter
		# value = -10
	# }	
	# ai_strategy = {
		# type = equipment_production_factor
		# id = cas
		# value = -30
	# }
	# ai_strategy = {
		# type = equipment_production_min_factories
		# id = cas
		# value = -10
	# }
	# ai_strategy = {
		# type = equipment_production_min_factories
		# id = heavy_fighter
		# value = -10
	# }
	# ai_strategy = {
		# type = equipment_production_min_factories
		# id = strategic_bomber
		# value = -10
	# }
	# ai_strategy = {
		# type = equipment_production_min_factories
		# id = tactical_bomber
		# value = -10
	# }

	# ai_strategy = {
		# type = equipment_production_min_factories
		# id = naval_bomber
		# value = -10
	# }
# }

SOV_stalinist_trotskyism = {
	reversed = yes
	allowed = {
		original_tag = SOV
	}
	enable = {
		OR = {
			has_country_flag = SOV_AI_RANDOM_COMMUNIST_HISTORICAL_ALTERNATIVE
			has_game_rule = {
				rule = SOV_ai_behavior
				option = HISTORICAL_ALTERNATIVE
			}
		}
		SOV = { has_completed_focus = SOV_father_of_nations }
		NOT = { is_in_faction_with = SOV }
	}

	abort_when_not_enabled = yes
	ai_strategy = {
		type = antagonize
		id = SOV
		value = 1000
	}
	ai_strategy = {
		type = conquer
		id = SOV
		value = 1000
	}
	ai_strategy = {
		type = declare_war
		id = SOV
		value = 1000
	}

}
# SOV_pure_infantry = {
	# allowed = {
		# original_tag = SOV
	# }
	# enable = {
		# has_country_flag = pure_infantry		# TODO что за флаги??
	# }

	# abort_when_not_enabled = yes
	
	# ai_strategy = {
		# type = role_ratio
		# id = cas
		# value = 25
	# }

	# ai_strategy = {
		# type = air_factory_balance
		# value = 50
	# }

# }

MON_TAN_war_plan = {
	allowed = {
		OR = {
			tag = MON
			tag = TAN
		}
	}
	enable = {
		is_in_faction_with = SOV
		is_historical_focus_on = yes
		GER = { is_ai = no }
		SOV = { is_ai = yes }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = role_ratio
		id = infantry
		value = 100
	}

	ai_strategy = {
		type = force_defend_ally_borders
		value = 9999
		id = "SOV"
	}
	
	ai_strategy = {
		type = front_unit_request
		tag = GER
		value = 100
	}
	
	ai_strategy = {
		type = garrison
		value = -9999
	}
	
	ai_strategy = {
		type = front_unit_request
		country_trigger = {
			capital_scope = { is_on_continent = asia }
			NOT = { has_war_with = SOV }
			NOT = { has_wargoal_against = SOV }
			NOT = { has_idea = anti_soviet_pact }
			NOT = { is_justifying_wargoal_against = SOV } 
			is_ai = yes
		}
		value = -100
	}
}

# SOV_boost_da_air = {	# TODO ??
	# allowed = {
		# original_tag = SOV
	# }
	# enable = {
		# has_country_flag = plane_licensed_SOV
		# SOV_is_deplaned = no
	# }

	# abort_when_not_enabled = yes

	# ai_strategy = {
		# type = equipment_production_min_factories
		# id = fighter
		# value = 30
	# }

	# ai_strategy = {
		# type = air_factory_balance
		# value = 35
	# }

# }

SOV_make_infantry_early = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		SOV_is_tank_build = yes		# TODO ??
		NOT = { has_country_flag = spacemarine }		# TODO ??
		num_of_military_factories < 120
		has_army_size = {
			size < 250
			type = infantry
		}
	}

	abort_when_not_enabled = yes	

	ai_strategy = {
		type = role_ratio
		id = infantry
		value = 75
	}	

	ai_strategy = {
		type = role_ratio
		id = armor
		value = 25
	}

	ai_strategy = {
		type = equipment_production_factor
		id = armor
		value = 75
	}

	ai_strategy = {
		type = equipment_production_factor
		id = mechanized
		value = 75
	}

}
SOV_reduce_infantry_1 = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		SOV_is_tank_build = yes
		NOT = { has_country_flag = spacemarine }		# TODO ??
		has_army_size = {
			size > 250
			type = infantry
		}
		has_army_size = {
			size < 80
			type = armor
		}
	}

	abort_when_not_enabled = yes	

	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -25
	}	

	ai_strategy = {
		type = role_ratio
		id = armor
		value = 5
	}

	ai_strategy = {
		type = equipment_production_factor
		id = armor
		value = 25
	}

	ai_strategy = {
		type = equipment_production_factor
		id = mechanized
		value = 25
	}

}
SOV_reduce_infantry_2 = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		SOV_is_tank_build = yes
		NOT = { has_country_flag = spacemarine }		# TODO ??
		has_army_size = {
			size > 300
			type = infantry
		}
		has_army_size = {
			size < 80
			type = armor
		}
	}

	abort_when_not_enabled = yes	

	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -25
	}	

	ai_strategy = {
		type = role_ratio
		id = armor
		value = 5
	}

	ai_strategy = {
		type = equipment_production_factor
		id = armor
		value = 25
	}

	ai_strategy = {
		type = equipment_production_factor
		id = mechanized
		value = 25
	}

}
SOV_reduce_tank = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		NOT = { has_country_flag = spacemarine }		# TODO ??
		has_army_size = {
			size > 80
			type = armor
		}
		has_army_size = {
			size < 400
			type = infantry
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = role_ratio
		id = infantry
		value = 100
	}

	ai_strategy = {
		type = equipment_production_factor
		id = infantry
		value = 25
	}

}
SOV_hood_boy = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		num_of_military_factories > 119
		NOT = { has_country_flag = spacemarine }		# TODO ??
	}

	abort_when_not_enabled = yes	

	ai_strategy = {
		type = role_ratio
		id = armor
		value = 35
	}

	ai_strategy = {
		type = equipment_production_factor
		id = armor #tanks cannot live under red air
		value = 20
	}
	
	ai_strategy = {
		type = role_ratio
		id = cas
		value = 5
	}

	ai_strategy = {
		type = air_factory_balance
		value = 15
	}

	ai_strategy = {
		type = equipment_production_factor
		id = mechanized
		value = 25
	}

}

SOV_hood_boy_2 = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		num_of_military_factories > 179
		NOT = { has_country_flag = spacemarine }		# TODO ??
	}

	abort_when_not_enabled = yes	

	ai_strategy = {
		type = role_ratio
		id = armor
		value = 5 #we wait for the second phase of Barbarossa
	}
	
	ai_strategy = {
		type = role_ratio
		id = cas
		value = 5
	}

	ai_strategy = {
		type = equipment_production_factor
		id = armor #tanks cannot live under red air
		value = 16
	}

	ai_strategy = {
		type = air_factory_balance
		value = 20
	}

	ai_strategy = {
		type = equipment_production_factor
		id = mechanized
		value = 25
	}

}

SOV_rich_boy = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		num_of_military_factories > 219
		NOT = { has_country_flag = spacemarine }		# TODO ??
	}

	abort_when_not_enabled = yes	

	ai_strategy = {
		type = role_ratio
		id = armor
		value = 10
	}
	
	ai_strategy = {
		type = role_ratio
		id = cas
		value = 10
	}

	ai_strategy = {
		type = equipment_production_factor
		id = armor #tanks cannot live under red air
		value = 25
	}

	ai_strategy = {
		type = air_factory_balance
		value = 25
	}

	ai_strategy = {
		type = equipment_production_factor
		id = mechanized
		value = 25
	}

}

SOV_gangster_in_the_town = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		num_of_military_factories > 299
		NOT = { has_country_flag = spacemarine }		# TODO ??
	}

	abort_when_not_enabled = yes	

	ai_strategy = {
		type = role_ratio
		id = armor
		value = 15
	}

	ai_strategy = {
		type = equipment_production_factor
		id = armor
		value = 25
	}

	ai_strategy = {
		type = equipment_production_factor
		id = mechanized
		value = 25
	}

}
# SOV_hood_boys = {
	# allowed = {
		# original_tag = SOV
	# }
	# enable = {
		# num_of_military_factories > 79
		# has_country_flag = spacemarine		# TODO ??
	# }

	# abort_when_not_enabled = yes

	# ai_strategy = {
		# type = equipment_production_factor
		# id = armor #tanks cannot live under red air
		# value = 15
	# }	

	# ai_strategy = {
		# type = role_ratio
		# id = armor
		# value = 5
	# }
	
	# ai_strategy = {
		# type = role_ratio
		# id = cas
		# value = 5
	# }

	# ai_strategy = {
		# type = air_factory_balance
		# value = 10
	# }

# }

# SOV_hood_boy_2s = {
	# allowed = {
		# original_tag = SOV
	# }
	# enable = {
		# num_of_military_factories > 149
		# has_country_flag = spacemarine		# TODO ??
	# }

	# abort_when_not_enabled = yes

	# ai_strategy = {
		# type = equipment_production_factor
		# id = armor #tanks cannot live under red air
		# value = 15
	# }	

	# ai_strategy = {
		# type = role_ratio
		# id = armor
		# value = 5
	# }
	
	# ai_strategy = {
		# type = role_ratio
		# id = cas
		# value = 5
	# }

	# ai_strategy = {
		# type = air_factory_balance
		# value = 10
	# }

# }

# SOV_rich_boys = {
	# allowed = {
		# original_tag = SOV
	# }
	# enable = {
		# num_of_military_factories > 200
		# has_country_flag = spacemarine		# TODO ??
	# }

	# abort_when_not_enabled = yes

	# ai_strategy = {
		# type = equipment_production_factor
		# id = armor #tanks cannot live under red air
		# value = 25
	# }	

	# ai_strategy = {
		# type = role_ratio
		# id = armor
		# value = 5
	# }
	
	# ai_strategy = {
		# type = role_ratio
		# id = cas
		# value = 5
	# }

	# ai_strategy = {
		# type = air_factory_balance
		# value = 10
	# }

# }

# SOV_spacemarine_prod = {
	# allowed = {
		# original_tag = SOV
	# }
	# enable = {
		# has_country_flag = spacemarine		# TODO ??
		# NOT = { has_tech = advanced_medium_tank_chassis }
	# }

	# abort_when_not_enabled = yes	

	# ai_strategy = {
		# type = role_ratio
		# id = infantry
		# value = 100 #we wait for the second phase of Barbarossa
	# }

	# ai_strategy = {
		# type = equipment_production_factor
		# id = armor #tanks cannot live under red air
		# value = 50
	# }

	# ai_strategy = {
		# type = equipment_variant_production_factor
		# id = medium_tank_destroyer_chassis_0
		# value = 100
	# }

	# ai_strategy = {
		# type = equipment_variant_production_factor
		# id = medium_tank_destroyer_chassis_1
		# value = -100
	# }

	# ai_strategy = {
		# type = equipment_variant_production_factor
		# id = medium_tank_destroyer_chassis_2
		# value = -100
	# }

# }

SOV_armored_production_1941 = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		date > 1941.4.30
		NOT = { has_country_flag = spacemarine }		# TODO ??
		has_equipment = { infantry_equipment > 50000 }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = role_ratio #even more tanks
		id = armor
		value = 30
	}
	
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -5
	}

	ai_strategy = {
		type = equipment_production_factor
		id = infantry
		value = -20
	}

	ai_strategy = {
		type = equipment_production_factor
		id = artillery
		value = -25
	}

	ai_strategy = {
		type = equipment_production_factor
		id = anti_air
		value = -5
	}

	ai_strategy = {
		type = equipment_production_factor
		id = support
		value = -5
	}

	ai_strategy = {
		type = equipment_production_factor
		id = armor
		value = 55
	}
}

SOV_unit_production_paras = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		always = yes
	}
	abort = {
		always = no
	}

	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = 25
	}
}

SOV_default_anti_armor = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		any_country = {
			is_ai = no
			ROOT = {
				estimated_intel_max_armor = {
					tag = PREV
					value > 20
				}
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = role_ratio
		id = motorized
		value = 10
	}
}

dont_give_a_fuck_about_sinkiang = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		has_completed_focus = SOV_two_red_flags
		country_exists = PRC
	}
	abort = {
		NOT = { country_exists = PRC }
	}

	ai_strategy = {
		type = befriend
		id = "SIK"
		value = -9999
	}
	ai_strategy = {
		type = alliance
		id = "SIK"
		value = -9999
	}
}

dont_give_a_fuck_about_mao = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		has_completed_focus = SOV_the_gobi_gambit
		country_exists = SIK
	}
	abort = {
		NOT = { country_exists = SIK }
	}

	ai_strategy = {
		type = befriend
		id = "PRC"
		value = -9999
	}
	ai_strategy = {
		type = alliance
		id = "PRC"
		value = -9999
	}
}

SOV_dont_send_lend_lease_to_puppet_of_japan = {
	reversed = yes
	allowed = {
		original_tag = SOV
	}
	enable = {
		is_subject_of = JAP
		JAP = { 
			AND = {
				NOT = { has_government = SOV }
				NOT = { is_in_faction_with = SOV }
				is_in_faction = yes
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_lend_lease_desire
		id = "SOV"
		value = -999
	}
}

SOV_ignore_the_afghanis = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		is_historical_focus_on = yes
		NOT = {
			OR = {
				has_war_with = AFG
				has_wargoal_against = AFG
				is_justifying_wargoal_against = AFG
				AFG = { has_idea = anti_soviet_pact }
			}
		}
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_unit_request
		tag = AFG
		value = -100
	}
}
SOV_ignore_the_finns = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		NOT = {
			OR = {
				has_war_with = FIN
				has_wargoal_against = FIN
				FIN = { is_in_faction = yes }
				has_completed_focus = SOV_secure_leningrad
				focus_progress = {
					focus = SOV_secure_leningrad
					progress > 0
				}
				is_justifying_wargoal_against = FIN
				FIN = { has_idea = anti_soviet_pact }
			}
		}
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_unit_request
		tag = FIN
		value = -100
	}
}
SOV_ignore_the_persians = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		NOT = {
			OR = {
				has_war_with = PER
				has_wargoal_against = PER
				PER = { is_in_faction = yes }
				has_completed_focus = SOV_secure_leningrad
				focus_progress = {
					focus = SOV_secure_leningrad
					progress > 0
				}
				is_justifying_wargoal_against = PER
				PER = { has_idea = anti_soviet_pact }
			}
		}
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_unit_request
		tag = PER
		value = -100
	}
}

you_dont_matter = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		is_historical_focus_on = yes
		GER = { is_ai = yes }
		surrender_progress < 0.25
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_unit_request
		country_trigger = {
			OR = {
				capital_scope = { is_on_continent = asia }
				capital_scope = { is_on_continent = middle_east }
			}
			NOT = { has_war_with = SOV }
			NOT = { has_wargoal_against = SOV }
			is_in_faction = no
			is_major = no
			NOT = { has_idea = anti_soviet_pact }
			is_ai = yes
			OR = {
				has_government = neutrality
				has_government = communism
			}
			NOT = { is_justifying_wargoal_against = SOV } 
		}
		value = -100
	}
}

you_dont_matter2 = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		is_historical_focus_on = yes
		GER = { is_ai = no }
	}

	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_unit_request
		country_trigger = {
			OR = {
				capital_scope = { is_on_continent = asia }
				capital_scope = { is_on_continent = middle_east }
			}
			NOT = { has_war_with = SOV }
			NOT = { has_wargoal_against = SOV }
			NOT = { has_idea = anti_soviet_pact }
			is_ai = yes
			NOT = { is_justifying_wargoal_against = SOV } 
		}
		value = -100
	}
}

SOV_wants_civ_normal = { #let's civ greed a little
	allowed = {
		original_tag = SOV
	}
	enable = {
		SOV_is_ahistorical = no		# TODO ??
		date < 1938.5.1
		NOT = { has_global_flag = SOV_no_air }
		OR = {
			AND = {
				difficulty > 1
				NOT = { has_global_flag = mp_difficulty }		# TODO ??
				NOT = { has_global_flag = random_difficulty }
			}
			has_country_flag = civ_1
		}
	}

	abort = { 
		OR = {
			GER = { has_war = yes }
			has_war = yes
			has_global_flag = SOV_no_air
			SOV_is_ahistorical = yes
			date > 1938.5.1
			has_country_flag = mil_1
		}
	}
	
	ai_strategy = {
		type = building_target
		id = industrial_complex
		value = 140
	}
}

SOV_wants_civ_easy = { #let's civ greed a little
	allowed = {
		original_tag = SOV
	}
	enable = {
		SOV_is_ahistorical = no
		date < 1938.9.1
		NOT = { has_global_flag = SOV_no_air }
		OR = {
			AND = {
				difficulty < 2
				difficulty > 0
			}
			has_country_flag = civ_2
		}
	}

	abort = { 
		OR = {
			GER = { has_war = yes }
			has_war = yes
			has_global_flag = SOV_no_air
			SOV_is_ahistorical = yes
			date > 1938.9.1
			has_country_flag = mil_1
		}
	}
	
	ai_strategy = {
		type = building_target
		id = industrial_complex
		value = 160
	}
}
SOV_wants_civ_veasy = { #let's civ greed a little
	allowed = {
		original_tag = SOV
	}
	enable = {
		SOV_is_ahistorical = no
		date < 1939.1.1
		NOT = { has_global_flag = SOV_no_air }
		OR = {
			difficulty < 1
			has_country_flag = civ_3
		}
	}

	abort = { 
		OR = {
			has_war = yes
			has_global_flag = SOV_no_air
			SOV_is_ahistorical = yes
			date > 1939.1.1
			has_country_flag = mil_1
		}
	}
	
	ai_strategy = {
		type = building_target
		id = industrial_complex
		value = 220
	}
}

SOV_wants_mil = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		date < 1942.1.1
		OR = {
			has_global_flag = SOV_no_air
			has_country_flag = mil_1		# TODO ??
			SOV_is_ahistorical = yes
			date > 1938.8.1
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 200
	}
}

SOV_get_more_mil_again = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		num_of_civilian_factories > 150
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 50
	}
}

SOV_get_more_civ_again = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		num_of_military_factories > 250
		num_of_civilian_factories < 175
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = building_target
		id = industrial_complex
		value = 150
	}
}

SOV_get_more_civ_again_2 = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		num_of_military_factories > 300
		num_of_civilian_factories < 225
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = building_target
		id = industrial_complex
		value = 200
	}
}

SOV_early_game_build_infra_instead = {
	allowed = {
		original_tag = SOV
	}
	enable = {
		date < 1936.5.1
		is_historical_focus_on = yes
		OR = {
			195 = {
				free_building_slots = {
					building = infrastructure
					size > 0
				}
			}
			217 = {
				free_building_slots = {
					building = infrastructure
					size > 0
				}
			}
			219 = {
				free_building_slots = {
					building = infrastructure
					size > 0
				}
			}
			652 = {
				free_building_slots = {
					building = infrastructure
					size > 0
				}
			}
			582 = {
				free_building_slots = {
					building = infrastructure
					size > 0
				}
			}
			586 = {
				free_building_slots = {
					building = infrastructure
					size > 0
				}
			}
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = building_target
		id = industrial_complex
		value = -200
	}

	ai_strategy = {
		type = building_target
		id = arms_factory
		value = -200
	}

	ai_strategy = {
		type = build_building
		id = infrastructure
		target = 195 
		value = 2000
	}

	ai_strategy = {
		type = build_building
		id = infrastructure
		target = 219 
		value = 2000
	}

	ai_strategy = {
		type = build_building
		id = infrastructure
		target = 217 
		value = 2000
	}

	ai_strategy = {
		type = build_building
		id = infrastructure
		target = 652 
		value = 2000
	}

	ai_strategy = {
		type = build_building
		id = infrastructure
		target = 582 
		value = 2000
	}

	ai_strategy = {
		type = build_building
		id = infrastructure
		target = 586 
		value = 2000
	}
}

SOV_padding_the_main_gun_for_mediums = {		# TODO ??
	allowed = {
		original_tag = GER
	}
	enable = {
		OR = {
			has_tech = basic_medium_tank_chassis
			is_researching_technology = basic_medium_tank_chassis
		}
		NOT = { has_tech = antitank1 }
	}

	abort = {
		has_tech = antitank1
	}

	ai_strategy = {
		type = research_weight_factor
		id = antitank1
		value = 100
	}
}
SOV_padding_the_chassis_for_medium_cannon = {		# TODO ??
	allowed = {
		original_tag = GER
	}
	enable = {
		OR = {
			has_tech = antitank1
			is_researching_technology = antitank1
		}
		NOT = { has_tech = basic_medium_tank_chassis }
	}

	abort = {
		has_tech = basic_medium_tank_chassis
	}

	ai_strategy = {
		type = research_weight_factor
		id = basic_medium_tank_chassis
		value = 100
	}
}