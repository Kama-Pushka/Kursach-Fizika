armor_ENG = {
	
	role = armor

	available_for = {
		ENG
	}

	upgrade_prio = {
		factor = 2999
	}

	medium_armor_default_ENG_no_dlc = {
	
		upgrade_prio = {
			factor = 3500

			modifier = {
				factor = 0
				OR = {
					has_DLC_for_tank = yes
					can_equip_mech = yes
				}
			}
		}

		reinforce_prio = 2

		target_template = {
			support = { 		
				artillery = 1	
				anti_air = 1		
				logistics_company = 1		
				anti_tank = 1 		
				engineer = 1
			}
			
			regiments = {
				medium_armor = 8
				motorized = 8
			}
		}
	}

	medium_armor_2_ENG_no_dlc = {
	
		upgrade_prio = {
			factor = 6000
			modifier = {
				factor = 0
				OR = {
					has_DLC_for_tank = yes
					can_equip_mech = no
				}
			}
			modifier = {
				factor = 0
				num_of_military_factories < 100
			}
		}
		reinforce_prio = 2

		
		target_template = {
			support = { 		
				artillery = 1	
				anti_air = 1		
				logistics_company = 1		
				anti_tank = 1 		
				engineer = 1
			}
			
			regiments = {
				medium_armor = 8
				mechanized = 8
			}
		}

		can_upgrade_in_field = {
			has_equipment = { mechanized_equipment > 500 }
		}
	}
	medium_armor_default_ENG_dlc = {
	
		upgrade_prio = {
			factor = 500

			modifier = {
				factor = 0
				OR = {
					has_DLC_for_tank = no
					has_ranger_pioneer = yes
					can_equip_mech = yes
				}
			}
		}
		reinforce_prio = 2

		target_template = {
			support = { 		
				medium_flame_tank = 1	
				anti_air = 1		
				artillery = 1		
				recon = 1 		
				engineer = 1
			}
			
			regiments = {
				medium_tank_destroyer_brigade = 8
				motorized = 8
			}
		}
	}
	medium_armor_default_ENG_dlc_2 = {
	
		upgrade_prio = {
			factor = 3500

			modifier = {
				factor = 0
				OR = {
					has_DLC_for_tank = no
					has_ranger_pioneer = no
					can_equip_mech = yes
				}
			}
		}
		reinforce_prio = 2

		target_template = {
			support = { 		
				medium_flame_tank = 1	
				anti_air = 1		
				artillery = 1		
				rangers_support = 1 		
				pioneer_support = 1
			}
			
			regiments = {
				medium_tank_destroyer_brigade = 8
				motorized = 8
			}
		}
	}
	medium_armor_2_ENG_dlc_no_tech = {
	
		upgrade_prio = {
			factor = 10000

			modifier = {
				factor = 0
				OR = {
					has_DLC_for_tank = no
					has_ranger_pioneer = yes
					can_equip_mech = no
				}
			}
		}
		reinforce_prio = 2

		target_template = {
			support = { 		
				medium_flame_tank = 1	
				anti_air = 1		
				artillery = 1		
				recon = 1 		
				engineer = 1
			}
			
			regiments = {
				medium_tank_destroyer_brigade = 8
				motorized = 8
			}
		}
	}

	medium_armor_2_ENG_has_dlc_full_tech = {
	
		upgrade_prio = {
			factor = 25000
			modifier = {
				factor = 0
				has_DLC_for_tank = no
			}
			modifier = {
				factor = 0
				num_of_military_factories < 100
			}
		}
		reinforce_prio = 2

		
		target_template = {
			support = { 		
				rangers_support = 1	
				anti_air = 1		
				logistics_company = 1		
				medium_flame_tank = 1 		
				pioneer_support = 1
			}
			
			regiments = {
				medium_tank_destroyer_brigade = 8
				mechanized = 8
			}
		}

		can_upgrade_in_field = {
			has_equipment = { mechanized_equipment > 500 }
		}
	}

}

infantry_ENG = {
	
	role = infantry

	available_for = {
		ENG
	}
	
	upgrade_prio = {
		factor = 2000

		modifier = {
			factor = 1
		}
	}
	infantry_default_ENG = {
	
		upgrade_prio = {
			factor = 500
			modifier = {
				date > 1940.1.1
				factor = 0
			}
			modifier = {
				is_historical_focus_on = no
				factor = 0
			}
		}
		target_template = {
			support = {
				engineer = 1
				anti_tank = 1
				artillery = 1
				anti_air = 1
				recon = 1
			}
			
			regiments = {
				infantry = 9
			}
		}
	}

	infantry_2_ENG = {
	
		upgrade_prio = {
			factor = 1500
			modifier = {
				date > 1940.1.1
				factor = 0
			}
			modifier = {
				is_historical_focus_on = no
				factor = 20
			}
		}
		target_template = {
			support = {
				engineer = 1
				anti_air = 1
				artillery = 1
				anti_tank = 1
				medium_flame_tank = 1
			}
			
			regiments = {
				infantry = 9
				artilery_brigade = 2
			}
		}
	}
	infantry_improved_ENG_no_tech = {
	
		upgrade_prio = {
			factor = 1500
			modifier = {
				date < 1940.1.1
				factor = 0
			}
			modifier = {
				OR = {
					has_DLC_for_tank = no
					has_ranger_pioneer = yes
				}
				factor = 0
			}
		}
		
		target_template = {
			support = {
				engineer = 1
				recon = 1
				medium_flame_tank = 1
				artillery = 1
				logistics_company = 1
			}
			
			regiments = {
				infantry = 12
				artillery_brigade = 2
				anti_air_brigade = 1
				anti_tank_brigade = 1
			}
		}
	}

	infantry_improved_ENG_full_tech = {
	
		upgrade_prio = {
			factor = 5500
			modifier = {
				date < 1940.1.1
				factor = 0
			}
			modifier = {
				OR = {
					has_DLC_for_tank = no
					has_ranger_pioneer = no
				}
				factor = 0
			}
		}
		
		target_template = {
			support = {
				pioneer_support = 1
				rangers_support = 1
				medium_flame_tank = 1
				artillery = 1
				logistics_company = 1
			}
			
			regiments = {
				infantry = 12
				artillery_brigade = 2
				anti_air_brigade = 1
				anti_tank_brigade = 1
			}
		}
	}

	infantry_improved_ENG_no_AAT = {
	
		upgrade_prio = {
			factor = 2500
			modifier = {
				date < 1942.1.1
				factor = 0
			}
			modifier = {
				has_DLC_for_tank = yes
				factor = 0
			}
		}
		target_template = {
			support = {
				engineer = 1
				signal_company = 1
				anti_air = 1
				artillery = 1
				logistics_company = 1
			}
			
			regiments = {
				infantry = 12
				artillery_brigade = 2
				anti_air_brigade = 1
				anti_tank_brigade = 1
			}
		}
	}

}

mountaineers_ENG = {
	
	role = mountaineers

	available_for = {
		ENG
	}
	
	upgrade_prio = {
		factor = 2000
		modifier = {
			factor = 0
			can_equip_amphib = no
		}
	}
	mountaineers_no_tech_ENG = {
	
		upgrade_prio = {
			factor = 500
			modifier = {
				factor = 0
				OR = {
					has_DLC_for_tank = no
					has_ranger = yes
					has_pioneer = yes
				}
			}
		}
		target_template = {
			support = {
				engineer = 1
				recon = 1
				medium_flame_tank = 1
				artillery = 1
				anti_air = 1
			}
			
			regiments = {
				amphibious_mechanized = 13
				medium_tank_destroyer_brigade = 5
			}
		}
	}
	mountaineers_has_ranger_ENG = {
	
		upgrade_prio = {
			factor = 1500
			modifier = {
				factor = 0
				OR = {
					has_DLC_for_tank = no
					has_ranger = no
					has_pioneer = yes
				}
			}
		}
		target_template = {
			support = {
				engineer = 1
				rangers_support = 1
				medium_flame_tank = 1
				artillery = 1
				anti_air = 1
			}
			
			regiments = {
				amphibious_mechanized = 13
				medium_tank_destroyer_brigade = 5
			}
		}
	}
	mountaineers_has_pioneer_ENG = {
	
		upgrade_prio = {
			factor = 1500
			modifier = {
				factor = 0
				OR = {
					has_DLC_for_tank = no
					has_ranger = yes
					has_pioneer = no
				}
			}
		}
		target_template = {
			support = {
				pioneer_support = 1
				recon = 1
				medium_flame_tank = 1
				artillery = 1
				anti_air = 1
			}
			
			regiments = {
				amphibious_mechanized = 13
				medium_tank_destroyer_brigade = 5
			}
		}
	}
	mountaineers_full_tech_ENG = {
	
		upgrade_prio = {
			factor = 50000
			modifier = {
				factor = 0
				OR = {
					has_DLC_for_tank = no
					AND = {
						has_ranger = no
						has_pioneer = no
					}
				}
			}
		}
		target_template = {
			support = {
				pioneer_support = 1
				rangers_support = 1
				medium_flame_tank = 1
				logistics_company = 1
				anti_air = 1
			}
			
			regiments = {
				amphibious_mechanized = 13
				medium_tank_destroyer_brigade = 5
			}
		}
	}
	mountaineers_default_USA_no_dlc = {
	
		upgrade_prio = {
			factor = 2000
			modifier = {
				factor = 0
				has_DLC_for_tank = yes
			}
		}
		reinforce_prio = 2

		target_template = {
			support = {
				engineer = 1
				anti_air = 1
				logistics_company = 1
				field_hospital = 1
				artillery = 1
			}
			
			regiments = {
				heavy_armor = 5
				amphibious_mechanized = 13
			}
		}
	}
}

marines_ENG = {
	
	role = marines

	available_for = {
		ENG
	}
	upgrade_prio = {
		factor = 200
	}
	marine_no_tech_ENG = {
		upgrade_prio = {
			factor = 502
			modifier = {
				factor = 0
				OR = {
					has_DLC_for_tank = no
					has_ranger_pioneer = yes
				}
			}
		}
		target_template = {
			support = {
				engineer = 1
				medium_flame_tank = 1
				artillery = 1
				logistics_company = 1
				anti_air = 1
			}
			
			regiments = {
				medium_tank_destroyer_brigade = 3
				marine = 10
				mountaineers = 5
			}
		}
	}
	marine_full_tech_no_flame_ENG = {
		upgrade_prio = {
			factor = 5002
			modifier = {
				factor = 0
				OR = {
					has_DLC_for_tank = no
					has_ranger_pioneer = no
					has_flame_tank = yes
				}
			}
		}
		target_template = {
			support = {
				pioneer_support = 1
				rangers_support = 1
				artillery = 1
				medium_flame_tank = 1
				anti_air = 1
			}
			
			regiments = {
				medium_tank_destroyer_brigade = 3
				marine = 10
				mountaineers = 5
			}
		}
	}
	marine_full_tech_has_flame_ENG = {
		upgrade_prio = {
			factor = 15002
			modifier = {
				factor = 0
				OR = {
					has_DLC_for_tank = no
					has_ranger_pioneer = no
					has_flame_tank = no
				}
			}
		}
		target_template = {
			support = {
				pioneer_support = 1
				rangers_support = 1
				medium_flame_tank = 1
				logistics_company = 1
				anti_air = 1
			}
			
			regiments = {
				medium_tank_destroyer_brigade = 3
				marine = 10
				mountaineers = 5
			}
		}
	}
	marine_default_USA_no_dlc = {
	
		upgrade_prio = {
			factor = 2000
			modifier = {
				factor = 0
				has_DLC_for_tank = yes
			}
		}
		reinforce_prio = 2

		target_template = {
			support = {
				engineer = 1
				anti_air = 1
				logistics_company = 1
				field_hospital = 1
				artillery = 1
			}
			
			regiments = {
				medium_armor = 3
				marine = 10
				mountaineers = 5
			}
		}
	}
}

paratrooper_ENG = {
	
	role = paratroopers

	available_for = {
		ENG
	}
	
	upgrade_prio = {
		factor = 2000
	}
	para_role_no_tech_ENG = {
		upgrade_prio = {
			factor = 502
			modifier = {
				factor = 0
				OR = {
					has_DLC_for_tank = no
					has_ranger_pioneer = yes
				}
			}
		}
		target_template = {
			support = {
				engineer = 1
				medium_flame_tank = 1
				artillery = 1
				logistics_company = 1
				anti_air = 1
			}
			
			regiments = {
				medium_tank_destroyer_brigade = 3
				marine = 10
				mountaineers = 5
			}
		}
	}
	para_role_full_tech_ENG = {
		upgrade_prio = {
			factor = 5002
			modifier = {
				factor = 0
				OR = {
					has_DLC_for_tank = no
					has_ranger_pioneer = no
					has_flame_tank = yes
				}
			}
		}
		target_template = {
			support = {
				pioneer_support = 1
				rangers_support = 1
				artillery = 1
				medium_flame_tank = 1
				anti_air = 1
			}
			
			regiments = {
				medium_tank_destroyer_brigade = 3
				marine = 10
				mountaineers = 5
			}
		}
	}	
	para_default_USA_no_dlc = {
	
		upgrade_prio = {
			factor = 2000
			modifier = {
				factor = 0
				has_DLC_for_tank = yes
			}
		}
		reinforce_prio = 2

		target_template = {
			support = {
				engineer = 1
				anti_air = 1
				logistics_company = 1
				field_hospital = 1
				artillery = 1
			}
			
			regiments = {
				heavy_armor = 3
				marine = 10
				mountaineers = 5
			}
		}
	}
	
}

garrison_ENG = {
	
	role = garrison

	available_for = {
		ENG
	}
	
	upgrade_prio = {
		factor = 80
	}
	
	garrison_ENG = {
	
		upgrade_prio = {
			factor = 2

			modifier = {
				factor = 1
			}
		}
		
		reinforce_prio = 0
		custom_icon = 7
		
		target_template = {
			support = {
				engineer = 1
				artillery = 1
				anti_air = 1
			}
			
			regiments = {
				infantry = 8
			}
		}
	}
}
