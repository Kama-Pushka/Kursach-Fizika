infantry_generic_ahist = {
	
	role = infantry

	blocked_for = {
		GER
		JAP
		ENG
		USA
		ITA
		SOV
		CHI
		PRC 
		GXC
		YUN
		SHX
		FRA
		XSM
		SIK
		FIN
		CZE
		MON
		TAN
		AOI
		POL
		NEP
		SWE
		HUN
		RAJ
		POR
		SPR
		CHL
		ARG
		LBA
		AUS
		AFG
		LUX
	}
	
	upgrade_prio = {
		factor = 2000

		modifier = {
			factor = 5
		}

		modifier = {
			factor = 0
			is_historical_focus_on = yes
		}
	}
	infantry_default_sfp_1_ahist = {
	
		upgrade_prio = {
			factor = 1000


			modifier = {
				factor = 0
				AND = {
					has_tech = special_forces_mountaineers
					has_tech = rocket_artillery
				}
			}


			modifier = {
				factor = 0
				OR = {
					is_ai_mass_mob = yes
					is_ai_mech_mob = yes
					is_historical_focus_on = yes
					NOT = { has_tech = superior_firepower }
				}
			}
		}
		target_template = {
			support = {
				engineer = 1
				recon = 1
				anti_air = 1
				artillery = 1
				rocket_artillery = 1
			}
			
			regiments = {
				infantry = 8
			}
		}
		
	}
	
	infantry_default_sfp_2_ahist = {
	
		upgrade_prio = {
			factor = 2000


			modifier = {
				factor = 0
				OR = {
					NOT = { has_tech = special_forces_mountaineers }
					NOT = { has_tech = rocket_artillery }
				}
			}


			modifier = {
				factor = 0
				OR = {
					is_ai_mass_mob = yes
					is_ai_mech_mob = yes
					is_historical_focus_on = yes
					NOT = { has_tech = superior_firepower }
				}
			}
		}
		
		target_template = {
			support = {
				engineer = 1
				rangers_support = 1
				rocket_artillery = 1
				anti_air = 1
				artillery = 1
			}
			
			regiments = {
				infantry = 8
			}
		}
	}
	infantry_defaulta_ahist = {
	
		upgrade_prio = {
			factor = 3000

			modifier = {
				factor = 0
				has_tech = superior_firepower
			}

			modifier = {
				factor = 0
				num_of_military_factories > 13
			}


			modifier = {
				factor = 0
				OR = {
					is_ai_mass_mob = yes
					is_ai_mech_mob = yes
					is_historical_focus_on = yes
				}
			}
		}
		target_template = {
			support = {
				engineer = 1
				rangers_support = 1
				logistics_company = 1
				anti_air = 1
				artillery = 1
			}
			
			regiments = {
				infantry = 9
				artillery_brigade = 2
			}
		}
		replace_at_match = 0.9
		replace_with = infantry_improveda
		target_min_match = 0.9
	}

	infantry_improveda_ahist = {
	
		upgrade_prio = {
			factor = 3000

			modifier = {
				factor = 0
				has_tech = superior_firepower
			}

			modifier = {
				factor = 0
				num_of_military_factories < 13
			}

			modifier = {
				factor = 0
				OR = {
					is_ai_mass_mob = yes
					is_ai_mech_mob = yes
					is_historical_focus_on = yes
				}
			}
		}
		target_template = {
			support = {
				engineer = 1
				rangers_support = 1
				logistics_company = 1
				field_hospital = 1
				artillery = 1
			}
			
			regiments = {
				artillery_brigade = 2
				infantry = 12
				anti_air_brigade = 1
				anti_tank_brigade = 1
			}
		}
	}


	infantry_mass_mob_ahist = {
	
		upgrade_prio = {
			factor = 5000

			modifier = {
				factor = 0
				is_ai_mass_mob = no
			}

			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}

			modifier = {
				factor = 0
				num_of_military_factories > 13
			}

		}
		
		target_template = {
			support = {
				artillery = 1
				anti_air = 1
				anti_tank = 1
				rangers_support = 1
				engineer = 1
			}
			
			regiments = {
				infantry = 9
				artillery_brigade = 1
			}
		}
		
	}


	infantry_mass_mob_ahist_2 = {
	
		upgrade_prio = {
			factor = 5000

			modifier = {
				factor = 0
				is_ai_mass_mob = no
			}

			modifier = {
				factor = 0
				num_of_military_factories < 13
			}

			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}


		}
		target_template = {
			support = {
				artillery = 1
				anti_air = 1
				anti_tank = 1
				engineer = 1
				rangers_support = 1
			}
			
			regiments = {
				infantry = 14
				artillery_brigade = 1
			}
		}
		
	}


}

infantry_generic_late_game = {
	
	role = mobile

	blocked_for = {
		DNZ
	}
	
	upgrade_prio = {
		factor = 2000

		modifier = {
			factor = 0
			can_equip_mech = no
		}
	}
	infantry_late_game = {
	
		upgrade_prio = {
			factor = 1000
		}
		target_template = {
			support = {
				engineer = 1
				logistics_company = 1
				anti_air = 1
				artillery = 1
				field_hospital = 1
			}
			
			regiments = {
				mechanized = 9
			}
		}
	}
}
