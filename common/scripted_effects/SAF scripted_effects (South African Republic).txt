SAF_tension_among_black_effect = {

	if = {
		limit = { check_variable = { SAF_tension_among_black_temp_var < 0 } }
		if = {
			limit = { check_variable = { SAF_tension_among_black_var > 0 } }
			set_temp_variable = { SAF_tension_among_black_temp_var_for_check = SAF_tension_among_black_temp_var }
			divide_temp_variable = { SAF_tension_among_black_temp_var_for_check = -1 }
			if = {
				limit = { check_variable = { SAF_tension_among_black_temp_var_for_check > SAF_tension_among_black_var } }
				set_temp_variable = { SAF_dynamic_modifier_var = SAF_tension_among_black_var }
				divide_temp_variable = { SAF_dynamic_modifier_var = -1 }
			}
			else = {
				set_temp_variable = { SAF_dynamic_modifier_var = SAF_tension_among_black_temp_var }
			}
			set_temp_variable = { SAF_tension_among_black_var_temp_2 = SAF_tension_among_black_var }
			add_to_temp_variable = { SAF_tension_among_black_var_temp_2 = SAF_dynamic_modifier_var }
			add_to_variable = { var = SAF_tension_among_black_var value = SAF_dynamic_modifier_var tooltip = SAF_tension_among_black_var_change_tt }
			clamp_variable = { var = SAF_tension_among_black_var min = 0 max = 100 }
		}
	}
	else = {
		if = {
			limit = { check_variable = { SAF_tension_among_black_var < 100 } }
			set_temp_variable = { SAF_tension_among_black_temp_var_for_check = 100 }
			subtract_from_temp_variable = { SAF_tension_among_black_temp_var_for_check = SAF_tension_among_black_var }
			if = {
				limit = { check_variable = { SAF_tension_among_black_temp_var > SAF_tension_among_black_temp_var_for_check } }
				set_temp_variable = { SAF_dynamic_modifier_var = SAF_tension_among_black_temp_var_for_check }
			}
			else = {
				set_temp_variable = { SAF_dynamic_modifier_var = SAF_tension_among_black_temp_var }
			}
			set_temp_variable = { SAF_tension_among_black_var_temp_2 = SAF_tension_among_black_var }
			add_to_temp_variable = { SAF_tension_among_black_var_temp_2 = SAF_dynamic_modifier_var }
			add_to_variable = { var = SAF_tension_among_black_var value = SAF_dynamic_modifier_var tooltip = SAF_tension_among_black_var_change_tt }
			clamp_variable = { var = SAF_tension_among_black_var min = 0 max = 100 }
		}
	}
	if = {
		limit = { check_variable = { var = SAF_dynamic_modifier_var value = 0 compare = not_equals } }
		divide_temp_variable = { SAF_dynamic_modifier_var = 300 }
		add_to_variable = { SAF_consumer_goods_factor_var = SAF_dynamic_modifier_var tooltip = consumer_goods_factor_tooltip }
		divide_temp_variable = { SAF_dynamic_modifier_var = -1 }
		add_to_variable = { SAF_production_speed_buildings_factor_var = SAF_dynamic_modifier_var tooltip = production_speed_buildings_tooltip }
		add_to_variable = { SAF_production_factory_max_efficiency_factor_var = SAF_dynamic_modifier_var tooltip = production_factory_max_efficiency_factor_tooltip }
		add_to_variable = { SAF_production_factory_efficiency_gain_factor_var = SAF_dynamic_modifier_var tooltip = production_factory_efficiency_gain_factor_tooltip }
		force_update_dynamic_modifier = yes
	}
	
	hidden_effect = {
		if = {
			limit = {
				check_variable = { var = SAF_tension_among_black_var value = 25 compare = greater_than_or_equals }
				NOT = { has_country_flag = NW_SAF_0_block_flag }
			}
			set_country_flag = NW_SAF_0_block_flag
			country_event = { id = NW_SAF.0 days = 1 }
		}
		else_if = {
			limit = {
				check_variable = { var = SAF_tension_among_black_var value = 50 compare = greater_than_or_equals }
				NOT = { has_country_flag = NW_SAF_1_block_flag }
			}
			set_country_flag = NW_SAF_1_block_flag
			country_event = { id = NW_SAF.1 days = 1 }
		}
		else_if = {
			limit = {
				check_variable = { var = SAF_tension_among_black_var value = 75 compare = greater_than_or_equals }
				NOT = { has_country_flag = NW_SAF_2_block_flag }
			}
			set_country_flag = NW_SAF_2_block_flag
			country_event = { id = NW_SAF.2 days = 1 }
		}
		else_if = {
			limit = {
				check_variable = { var = SAF_tension_among_black_var value = 100 compare = greater_than_or_equals }
				NOT = { has_country_flag = NW_SAF_3_block_flag }
			}
			set_country_flag = NW_SAF_3_block_flag
			country_event = { id = NW_SAF.3 days = 1 }
		}
	}
}

SAF_building_the_black_republic_effect = {

	if = {
		limit = { check_variable = { SAF_building_the_black_republic_var < 100 } }
		set_temp_variable = { SAF_building_the_black_republic_temp_var_for_check = 100 }
		subtract_from_temp_variable = { SAF_building_the_black_republic_temp_var_for_check = SAF_building_the_black_republic_var }
		if = {
			limit = { check_variable = { SAF_building_the_black_republic_temp_var > SAF_building_the_black_republic_temp_var_for_check } }
			set_temp_variable = { SAF_building_the_black_republic_temp_var = SAF_building_the_black_republic_temp_var_for_check }
		}
		set_temp_variable = { SAF_building_the_black_republic_temp_var_2 = SAF_building_the_black_republic_var }
		add_to_temp_variable = { SAF_building_the_black_republic_temp_var_2 = SAF_building_the_black_republic_temp_var }
		add_to_variable = { SAF_building_the_black_republic_var = SAF_building_the_black_republic_temp_var tooltip = SAF_building_the_black_republic_var_tt }
		clamp_variable = { var = SAF_building_the_black_republic_var min = 0 max = 100 }
		custom_effect_tooltip = empty_line_tooltip
	}
	hidden_effect = {
		if = {
			limit = {
				check_variable = { var = SAF_building_the_black_republic_var value = 100 compare = greater_than_or_equals }
				has_completed_focus = SAF_announce_the_establishment_of_the_republic_of_azania
				NOT = { has_country_flag = NW_SAF_46_block_flag }
			}
			set_country_flag = NW_SAF_46_block_flag
			country_event = { id = NW_SAF.46 hours = 12 }
		}
	}
}

SAF_civil_war_check_effect = {

	PREV = {
		SAF_isaac_bangani_tabata = { set_nationality = PREV.PREV promote_character = yes }
		SAF_thabo_edwin_mofutsanyana = { set_nationality = PREV.PREV promote_character = yes }
	}

	if = { limit = { PREV = { has_country_flag = NW_SAF_AI_DEMOCRATIC_BLACK_COUP_FLAG } } set_country_flag = NW_SAF_AI_DEMOCRATIC_BLACK_COUP_FLAG }
	if = { limit = { PREV = { has_country_flag = NW_SAF_AI_TROZKISM_FLAG } } set_country_flag = NW_SAF_AI_TROZKISM_FLAG }
	if = { limit = { PREV = { has_country_flag = NW_SAF_AI_COMMUNIST_FLAG } } set_country_flag = NW_SAF_AI_COMMUNIST_FLAG }

	if = { limit = { PREV = { has_completed_focus = SAF_national_rifle_reserve } } unlock_national_focus = SAF_national_rifle_reserve }
	if = { limit = { PREV = { has_completed_focus = SAF_increase_in_the_active_army } } unlock_national_focus = SAF_increase_in_the_active_army }
	if = { limit = { PREV = { has_completed_focus = SAF_native_military_corps } } unlock_national_focus = SAF_native_military_corps }
	if = { limit = { PREV = { has_completed_focus = SAF_logistics_support_service_q } } unlock_national_focus = SAF_logistics_support_service_q }
	if = { limit = { PREV = { has_completed_focus = SAF_summon_a_commando } } unlock_national_focus = SAF_summon_a_commando }
	if = { limit = { PREV = { has_completed_focus = SAF_jungle_and_desert_training } } unlock_national_focus = SAF_jungle_and_desert_training }
	if = { limit = { PREV = { has_completed_focus = SAF_creation_of_regional_commands } } unlock_national_focus = SAF_creation_of_regional_commands }
	if = { limit = { PREV = { has_completed_focus = SAF_expansion_of_education_in_the_uac } } unlock_national_focus = SAF_expansion_of_education_in_the_uac }
	if = { limit = { PREV = { has_completed_focus = SAF_new_army_schools } } unlock_national_focus = SAF_new_army_schools }
	if = { limit = { PREV = { has_completed_focus = SAF_start_releasing_ammunition_on_magazine_hill } } unlock_national_focus = SAF_start_releasing_ammunition_on_magazine_hill }
	if = { limit = { PREV = { has_completed_focus = SAF_improve_the_cartrige } } unlock_national_focus = SAF_improve_the_cartrige }
	if = { limit = { PREV = { has_completed_focus = SAF_lenz_bomb_factory } } unlock_national_focus = SAF_lenz_bomb_factory }
	if = { limit = { PREV = { has_completed_focus = SAF_new_factories_for_tank_equipment } } unlock_national_focus = SAF_new_factories_for_tank_equipment }
	if = { limit = { PREV = { has_completed_focus = SAF_development_of_armored_vehicles } } unlock_national_focus = SAF_development_of_armored_vehicles }
	if = { limit = { PREV = { has_completed_focus = SAF_industrial_fleet_program } } unlock_national_focus = SAF_industrial_fleet_program }
	if = { limit = { PREV = { has_completed_focus = SAF_conversion_of_whalers_and_trawlers } } unlock_national_focus = SAF_conversion_of_whalers_and_trawlers }
	if = { limit = { PREV = { has_completed_focus = SAF_naval_defense_forces } } unlock_national_focus = SAF_naval_defense_forces }
	if = { limit = { PREV = { has_completed_focus = SAF_expansion_of_the_simonstown_base } } unlock_national_focus = SAF_expansion_of_the_simonstown_base }
	if = { limit = { PREV = { has_completed_focus = SAF_durban_naval_base } } unlock_national_focus = SAF_durban_naval_base }
	if = { limit = { PREV = { has_completed_focus = SAF_unite_the_naval_departments } } unlock_national_focus = SAF_unite_the_naval_departments }
	if = { limit = { PREV = { has_completed_focus = SAF_port_elizabeth_airport } } unlock_national_focus = SAF_port_elizabeth_airport }
	if = { limit = { PREV = { has_completed_focus = SAF_expand_port_elizabeth_airport } } unlock_national_focus = SAF_expand_port_elizabeth_airport }
	if = { limit = { PREV = { has_completed_focus = SAF_aeronautical_school } } unlock_national_focus = SAF_aeronautical_school }
	if = { limit = { PREV = { has_completed_focus = SAF_iron_place } } unlock_national_focus = SAF_iron_place }
	if = { limit = { PREV = { has_completed_focus = SAF_air_force_mobile_depot } } unlock_national_focus = SAF_air_force_mobile_depot }
	if = { limit = { PREV = { has_completed_focus = SAF_training_of_our_aces } } unlock_national_focus = SAF_training_of_our_aces }
	if = { limit = { PREV = { has_completed_focus = SAF_versatile_training } } unlock_national_focus = SAF_versatile_training }
	if = { limit = { PREV = { has_completed_focus = SAF_bring_the_cab_rank_to_perfection } } unlock_national_focus = SAF_bring_the_cab_rank_to_perfection }
	if = { limit = { PREV = { has_completed_focus = SAF_start_social_changes } } unlock_national_focus = SAF_start_social_changes }
	if = { limit = { PREV = { has_completed_focus = SAF_secure_the_mining_industry } } unlock_national_focus = SAF_secure_the_mining_industry }
	if = { limit = { PREV = { has_completed_focus = SAF_expand_the_network_of_schools_for_blacks } } unlock_national_focus = SAF_expand_the_network_of_schools_for_blacks }
	if = { limit = { PREV = { has_completed_focus = SAF_invest_in_education_for_whites } } unlock_national_focus = SAF_invest_in_education_for_whites }
	if = { limit = { PREV = { has_completed_focus = SAF_the_law_on_industrial_reconciliation_and_wages } } unlock_national_focus = SAF_the_law_on_industrial_reconciliation_and_wages }
	if = { limit = { PREV = { has_completed_focus = SAF_black_workshops } } unlock_national_focus = SAF_black_workshops }
	if = { limit = { PREV = { has_completed_focus = SAF_native_trust_and_land_act } } unlock_national_focus = SAF_native_trust_and_land_act }
	if = { limit = { PREV = { has_completed_focus = SAF_the_law_on_marketing } } unlock_national_focus = SAF_the_law_on_marketing }
	if = { limit = { PREV = { has_completed_focus = SAF_expansion_of_agriculture } } unlock_national_focus = SAF_expansion_of_agriculture }
	if = { limit = { PREV = { has_completed_focus = SAF_pinotage_wineries } } unlock_national_focus = SAF_pinotage_wineries }
	if = { limit = { PREV = { has_completed_focus = SAF_open_trolleybus_service_in_cape_town } } unlock_national_focus = SAF_open_trolleybus_service_in_cape_town }
	if = { limit = { PREV = { has_completed_focus = SAF_launch_the_dining_bay_power_plant } } unlock_national_focus = SAF_launch_the_dining_bay_power_plant }
	if = { limit = { PREV = { has_completed_focus = SAF_south_african_broadcasting_corporation } } unlock_national_focus = SAF_south_african_broadcasting_corporation }
	if = { limit = { PREV = { has_completed_focus = SAF_to_lay_new_docks_in_cape_town } } unlock_national_focus = SAF_to_lay_new_docks_in_cape_town }
	if = { limit = { PREV = { has_completed_focus = SAF_introduce_new_locomotives } } unlock_national_focus = SAF_introduce_new_locomotives }
	if = { limit = { PREV = { has_completed_focus = SAF_transvaal_railway_center } } unlock_national_focus = SAF_transvaal_railway_center }
	if = { limit = { PREV = { has_completed_focus = SAF_domestic_railways } } unlock_national_focus = SAF_domestic_railways }
	if = { limit = { PREV = { has_completed_focus = SAF_finish_the_construction_of_the_transcontinental_railway } } unlock_national_focus = SAF_finish_the_construction_of_the_transcontinental_railway }
	if = { limit = { PREV = { has_completed_focus = SAF_experimental_work_in_the_diamond_industry } } unlock_national_focus = SAF_experimental_work_in_the_diamond_industry }
	if = { limit = { PREV = { has_completed_focus = SAF_increase_chromium_production } } unlock_national_focus = SAF_increase_chromium_production }
	if = { limit = { PREV = { has_completed_focus = SAF_consolidate_a_leading_position_in_the_diamond_industry } } unlock_national_focus = SAF_consolidate_a_leading_position_in_the_diamond_industry }
	if = { limit = { PREV = { has_completed_focus = SAF_increase_gold_production } } unlock_national_focus = SAF_increase_gold_production }
	if = { limit = { PREV = { has_completed_focus = SAF_deepen_the_excavation_of_iron_ore } } unlock_national_focus = SAF_deepen_the_excavation_of_iron_ore }
	if = { limit = { PREV = { has_completed_focus = SAF_development_of_coal_mining_companies } } unlock_national_focus = SAF_development_of_coal_mining_companies }
	if = { limit = { PREV = { has_completed_focus = SAF_start_mining_uranium } } unlock_national_focus = SAF_start_mining_uranium }
	if = { limit = { PREV = { has_completed_focus = SAF_development_of_the_inner_regions } } unlock_national_focus = SAF_development_of_the_inner_regions }
	if = { limit = { PREV = { has_completed_focus = SAF_investments_in_the_fifth_province } } unlock_national_focus = SAF_investments_in_the_fifth_province }
	if = { limit = { PREV = { has_completed_focus = SAF_expand_the_swa_autonomy } } unlock_national_focus = SAF_expand_the_swa_autonomy }
	if = { limit = { PREV = { has_completed_focus = SAF_cheap_black_power } } unlock_national_focus = SAF_cheap_black_power }
	if = { limit = { PREV = { has_completed_focus = SAF_expand_the_university_of_pretoria } } unlock_national_focus = SAF_expand_the_university_of_pretoria }
	if = { limit = { PREV = { has_completed_focus = SAF_study_of_nuclear_energy } } unlock_national_focus = SAF_study_of_nuclear_energy }
	if = { limit = { PREV = { has_completed_focus = SAF_study_of_rocket_technology } } unlock_national_focus = SAF_study_of_rocket_technology }
	if = { limit = { PREV = { has_completed_focus = SAF_introduce_modern_education_standards } } unlock_national_focus = SAF_introduce_modern_education_standards }

	if = {
		limit = { PREV = { has_dynamic_modifier = { modifier = SAF_south_african_defence_act_modifier } } }
		add_dynamic_modifier = { modifier = SAF_south_african_defence_act_modifier }
		set_variable = { SAF_army_core_defence_factor_var = PREV.SAF_army_core_defence_factor_var }
		set_variable = { SAF_army_attack_factor_var = PREV.SAF_army_attack_factor_var }
		set_variable = { SAF_command_power_gain_mult_var = PREV.SAF_command_power_gain_mult_var }
		set_variable = { SAF_army_org_factor_var = PREV.SAF_army_org_factor_var }
		set_variable = { SAF_training_time_army_factor_var = PREV.SAF_training_time_army_factor_var }
	}
	if = {
		limit = { PREV = { has_dynamic_modifier = { modifier = SAF_difficult_social_situation_modifier } } }
		add_dynamic_modifier = { modifier = SAF_difficult_social_situation_modifier }
		set_variable = { SAF_production_speed_buildings_factor_var_1 = PREV.SAF_production_speed_buildings_factor_var_1 }
		set_variable = { SAF_production_factory_max_efficiency_factor_var_1 = PREV.SAF_production_factory_max_efficiency_factor_var_1 }
		set_variable = { SAF_communism_drift_var = PREV.SAF_communism_drift_var }
		set_variable = { SAF_trozkism_drift_var = PREV.SAF_trozkism_drift_var }
		PREV = {
			set_temp_variable = { SAF_increase_in_tension_among_the_black_population_modifier_var_temp = SAF_increase_in_tension_among_the_black_population_modifier_var }
			subtract_from_variable = { SAF_increase_in_tension_among_the_black_population_modifier_var = SAF_increase_in_tension_among_the_black_population_modifier_var_temp }
		}
	}
	if = {
		limit = { PREV = { has_dynamic_modifier = { modifier = SAF_problems_in_the_agricultural_sector_modifier } } }
		add_dynamic_modifier = { modifier = SAF_problems_in_the_agricultural_sector_modifier }
		set_variable = { SAF_political_power_factor_var = PREV.SAF_political_power_factor_var }
		set_variable = { SAF_stability_factor_var = PREV.SAF_stability_factor_var }
		set_variable = { SAF_global_building_slots_factor_var = PREV.SAF_global_building_slots_factor_var }
		PREV = {
			set_temp_variable = { SAF_increase_in_tension_among_the_black_population_modifier_var_1_temp = SAF_increase_in_tension_among_the_black_population_modifier_var_1 }
			subtract_from_variable = { SAF_increase_in_tension_among_the_black_population_modifier_var_1 = SAF_increase_in_tension_among_the_black_population_modifier_var_1_temp }
		}
	}
	if = {
		limit = { PREV = { has_dynamic_modifier = { modifier = SAF_impact_of_racial_politics_on_the_army_modifier } } }
		add_dynamic_modifier = { modifier = SAF_impact_of_racial_politics_on_the_army_modifier }
		set_variable = { SAF_conscription_factor_var = PREV.SAF_conscription_factor_var }
		PREV = {
			set_temp_variable = { SAF_increase_in_tension_among_the_black_population_modifier_var_2_temp = SAF_increase_in_tension_among_the_black_population_modifier_var_2 }
			subtract_from_variable = { SAF_increase_in_tension_among_the_black_population_modifier_var_2 = SAF_increase_in_tension_among_the_black_population_modifier_var_2_temp }
		}
		if = {
			limit = { PREV = { has_country_flag = SAF_preparation_of_an_offensive_strategy_complete_flag } }
			set_country_flag = SAF_preparation_of_an_offensive_strategy_complete_flag
		}
	}
	if = {
		limit = { PREV = { has_dynamic_modifier = { modifier = SAF_policy_of_racial_segregation_modifier } } }
		PREV = {
			set_temp_variable = { SAF_increase_in_tension_among_the_black_population_modifier_var_3_temp = SAF_increase_in_tension_among_the_black_population_modifier_var_3 }
			subtract_from_variable = { SAF_increase_in_tension_among_the_black_population_modifier_var_3 = SAF_increase_in_tension_among_the_black_population_modifier_var_3_temp }
		}
	}
	if = {
		limit = { PREV = { has_idea = SAF_extend_pensions_and_benefits_to_people_of_color_and_blacks_idea_0 } }
		PREV = {
			swap_ideas = {
    			remove_idea = SAF_extend_pensions_and_benefits_to_people_of_color_and_blacks_idea_0
    			add_idea = SAF_extend_pensions_and_benefits_to_people_of_color_and_blacks_idea_1
			}
		}
	}
	if = {
		limit = { PREV = { has_idea = SAF_strengthen_ties_with_afrikaner_bruderbond_idea_1 } }
		PREV = {
			swap_ideas = {
    			remove_idea = SAF_strengthen_ties_with_afrikaner_bruderbond_idea_1
    			add_idea = SAF_strengthen_ties_with_afrikaner_bruderbond_idea_0
			}
		}
	}
	else_if = {
		limit = { PREV = { has_idea = SAF_strengthen_ties_with_afrikaner_bruderbond_idea_1_1 } }
		PREV = {
			swap_ideas = {
    			remove_idea = SAF_strengthen_ties_with_afrikaner_bruderbond_idea_1_1
    			add_idea = SAF_strengthen_ties_with_afrikaner_bruderbond_idea_0_1
			}
		}
	}
	if = {
		limit = { PREV = { has_dynamic_modifier = { modifier = SAF_experimental_work_in_the_diamond_industry_modifier } } }
		add_dynamic_modifier = { modifier = SAF_experimental_work_in_the_diamond_industry_modifier }
		set_variable = { SAF_deepen_the_iron_mines_num_of_press_var = PREV.SAF_deepen_the_iron_mines_num_of_press_var }
		set_variable = { SAF_deepen_the_gold_bearing_mines_num_of_press_var = PREV.SAF_deepen_the_gold_bearing_mines_num_of_press_var }
		set_variable = { SAF_open_new_diamond_processing_enterprises_num_of_press_var = PREV.SAF_open_new_diamond_processing_enterprises_num_of_press_var }
	}
	if = {
		limit = { PREV = { has_dynamic_modifier = { modifier = SAF_deepen_the_gold_bearing_mines_modifier } } }
		add_dynamic_modifier = { modifier = SAF_deepen_the_gold_bearing_mines_modifier }
		set_variable = { SAF_political_power_gain_var = PREV.SAF_political_power_gain_var }
	}
	if = {
		limit = { PREV = { has_dynamic_modifier = { modifier = SAF_diamond_mining_modifier } } }
		add_dynamic_modifier = { modifier = SAF_diamond_mining_modifier }
		set_variable = { SAF_consumer_goods_factor_var_1 = PREV.SAF_consumer_goods_factor_var_1 }
	}
	if = {
		limit = { PREV = { has_idea = SAF_national_rifle_reserve_idea } }
		add_ideas = SAF_national_rifle_reserve_idea
	}
	else_if = {
		limit = { PREV = { has_idea = SAF_national_rifle_reserve_idea_1 } }
		add_ideas = SAF_national_rifle_reserve_idea_1
	}
	if = {
		limit = { PREV = { has_idea = SAF_creation_of_regional_commands_idea } }
		add_ideas = SAF_creation_of_regional_commands_idea
	}
	if = {
		limit = { PREV = { has_idea = SAF_improve_the_cartrige_idea } }
		add_ideas = SAF_improve_the_cartrige_idea
	}
	if = {
		limit = { PREV = { has_idea = SAF_artillery_regiments_idea } }
		add_ideas = SAF_artillery_regiments_idea
	}
	if = {
		limit = { PREV = { has_idea = SAF_aeronautical_school_idea } }
		add_ideas = SAF_aeronautical_school_idea
	}
	if = {
		limit = { PREV = { has_idea = SAF_air_force_mobile_depot_idea } }
		add_ideas = SAF_air_force_mobile_depot_idea
	}
	else_if = {
		limit = { PREV = { has_idea = SAF_air_force_mobile_depot_idea_1 } }
		add_ideas = SAF_air_force_mobile_depot_idea_1
	}
	if = {
		limit = { PREV = { has_idea = SAF_expand_the_network_of_schools_for_blacks_idea } }
		add_ideas = SAF_expand_the_network_of_schools_for_blacks_idea
	}
	if = {
		limit = { PREV = { has_idea = SAF_cheap_black_power_idea } }
		add_ideas = SAF_cheap_black_power_idea
	}
	if = {
		limit = { PREV = { has_idea = SAF_to_lay_new_docks_in_cape_town_idea } }
		add_ideas = SAF_to_lay_new_docks_in_cape_town_idea
	}
}

SAF_factories_for_diamond_industry_check_effect = {

	set_variable = { SAF_num_factories_for_diamond_industry_var = SAF_num_factories_for_diamond_industry_var_0 }
	force_update_dynamic_modifier = yes
	set_temp_variable = { SAF_num_factories_for_diamond_industry_var_temp = SAF_num_factories_for_diamond_industry_var }
	multiply_temp_variable = { SAF_num_factories_for_diamond_industry_var_temp = 7 }
	set_variable = { SAF_num_of_drills_last_week = SAF_num_factories_for_diamond_industry_var_temp }
	set_temp_variable = { SAF_num_of_drills_last_week_temp_var = SAF_num_of_drills_last_week }
	multiply_temp_variable = { SAF_num_of_drills_last_week_temp_var = 4 }
	set_variable = { SAF_num_of_drills_for_month = SAF_num_of_drills_last_week_temp_var }

	set_variable = { SAF_num_of_civilian_factories_available_for_projects_var = num_of_civilian_factories_available_for_projects }
}